"use strict";(self.webpackChunk_taiga_ui_components=self.webpackChunk_taiga_ui_components||[]).push([[58176],{58176:n=>{n.exports="import {ChangeDetectionStrategy, Component, Inject, Input} from '@angular/core';\nimport {\n    AbstractTuiEditor,\n    TUI_EDITOR_OPTIONS,\n    TuiEditorOptions,\n    TuiTiptapEditorService,\n} from '@taiga-ui/addon-editor';\nimport {tuiDefaultProp} from '@taiga-ui/cdk';\nimport {distinctUntilChanged, map, share} from 'rxjs/operators';\n\n@Component({\n    selector: 'custom-color-picker',\n    templateUrl: './custom-color-picker.component.html',\n    styleUrls: ['./custom-color-picker.component.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CustomColorPickerComponent {\n    @Input()\n    @tuiDefaultProp()\n    colors: ReadonlyMap<string, string> = this.defaultOptions.colors;\n\n    @Input()\n    icon?: string;\n\n    @Input()\n    type!: 'BackgroundColor' | 'FontColor';\n\n    selectedColor = '';\n\n    readonly fontColor$ = this.editor.stateChange$.pipe(\n        map(() =>\n            this.editor.getOriginTiptapEditor().isFocused\n                ? this.editor[`get${this.type}` as const]?.() || 'transparent'\n                : 'transparent',\n        ),\n        distinctUntilChanged(),\n        share(),\n    );\n\n    constructor(\n        @Inject(TUI_EDITOR_OPTIONS)\n        private readonly defaultOptions: TuiEditorOptions,\n        @Inject(TuiTiptapEditorService) readonly editor: AbstractTuiEditor,\n    ) {}\n\n    onValueChange(color: string): void {\n        this.selectedColor = color;\n    }\n\n    setColor(): void {\n        this.editor[`set${this.type}` as const]?.(this.selectedColor);\n    }\n}\n"}}]);