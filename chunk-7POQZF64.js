import{f as Qt,g as qt,s as O,t as q,z as Gt}from"./chunk-Q2CNM2FT.js";import"./chunk-7JAKJOGH.js";import"./chunk-4DKIZIO7.js";import"./chunk-ZPVHHDO4.js";import"./chunk-LLP5ODOY.js";import"./chunk-TXVPTLU5.js";import"./chunk-TG5ZLQWT.js";import"./chunk-SM4KFPZL.js";import"./chunk-KLVX2AYP.js";import"./chunk-64IIZNSV.js";import"./chunk-HMMJ4ZPX.js";import"./chunk-XGYGIFY4.js";import"./chunk-VBOVZHIO.js";import"./chunk-PR5VJNXM.js";import"./chunk-E6ESRTDF.js";import"./chunk-SLAZMGOS.js";import{a as zt,c as Kt}from"./chunk-OBN2XLXW.js";import{e as Q}from"./chunk-OZI7EL2L.js";import"./chunk-3BNBRKMD.js";import"./chunk-ED2LJAS4.js";import"./chunk-O4SRYYYW.js";import"./chunk-QIMMAKQA.js";import"./chunk-HCKASRKR.js";import"./chunk-4QTVR63B.js";import{b as jt}from"./chunk-E432ZNQF.js";import"./chunk-G37EIY5Q.js";import"./chunk-K4RR6SXT.js";import"./chunk-TNXD2YHM.js";import"./chunk-3ICM52SF.js";import{a as $t,n as E}from"./chunk-LU32QWMU.js";import"./chunk-ANUA4U5Y.js";import"./chunk-YXPMHB2D.js";import{n as K}from"./chunk-YNXZDEHQ.js";import{F as J,g as Wt}from"./chunk-7DOPFJ7M.js";import{W as z,p as Lt}from"./chunk-7DQBHFUF.js";import"./chunk-E2FZ3L7A.js";import"./chunk-HNO7IIVZ.js";import{e as Jt}from"./chunk-BWNX7LKU.js";import"./chunk-PMJIPV3F.js";import"./chunk-B7PKLUIZ.js";import"./chunk-OR5UKNPA.js";import"./chunk-LGNM6WP5.js";import"./chunk-AUAIZOB4.js";import"./chunk-B2HR7VVC.js";import"./chunk-NZT5DJVE.js";import"./chunk-JRIXTTRH.js";import"./chunk-P5B6VFLB.js";import"./chunk-DM3OPTFI.js";import{$a as Ut,I as Ht,M as Bt,Na as Nt,a as It,i as Et,k as Ot,t as Rt}from"./chunk-WUTQQGKD.js";import{C as Mt,c as At,g as Dt,h as Vt,l as Pt,q as Ft}from"./chunk-A2R73ZSN.js";import{p as St,q as wt,w as kt}from"./chunk-VL5DYKMV.js";import{Bc as h,Cb as k,Cc as r,Db as a,Dc as _t,E as ot,Ec as dt,Fb as Z,I as N,Jc as ft,Ka as lt,La as u,Lc as ht,Ma as m,Mc as Ct,Nb as pt,Nc as c,Oc as x,Pc as w,Rc as L,Sc as $,Tc as W,Ub as I,Uc as yt,Vc as xt,Wb as ct,Wc as X,Yc as gt,Zc as Tt,_a as U,_b as d,dd as V,ed as vt,fd as Y,gc as f,ia as rt,ja as at,jd as bt,lc as C,nc as T,oc as v,pc as b,qc as l,rc as p,sc as y,td as j,vc as ut,w as B,wc as S,xb as st,xc as mt,za as _}from"./chunk-MAQQ6KKR.js";import{a as it,b as nt}from"./chunk-42JZD6NG.js";var[G,we]=Ht({key:"taiga-search-history",history:"@tui.clock",popular:"@tui.search",empty:"@tui.search",remove:"@tui.trash"});function te(n,i){if(n&1&&(l(0,"label",0),c(1),p()),n&2){let t=r();a(),x(t.i18n().history)}}function ee(n,i){if(n&1){let t=S();l(0,"button",2),h("click",function(){let o=u(t).$implicit,s=r();return m(s.select(o))})("keydown.backspace",function(){let o=u(t).$implicit,s=r();return m(s.remove(o))})("keydown.delete",function(){let o=u(t).$implicit,s=r();return m(s.remove(o))})("mousedown.prevent",function(){return u(t),m(0)}),y(1,"div",3),l(2,"span",4),c(3),p(),l(4,"button",5),h("click.stop",function(){let o=u(t).$implicit,s=r();return m(s.remove(o))}),c(5," \u{1F5D1}\uFE0F "),p()()}if(n&2){let t=i.$implicit,e=r();a(),f("tuiAvatar",e.options.history),a(2),x(t),a(),f("iconStart",e.options.remove)}}function ie(n,i){if(n&1&&(l(0,"label",0),c(1),p()),n&2){let t=r();a(),x(t.i18n().popular)}}function ne(n,i){if(n&1){let t=S();l(0,"button",6),h("click",function(){let o=u(t).$implicit,s=r();return m(s.select(o))})("mousedown.prevent",function(){return u(t),m(0)}),y(1,"span",3),l(2,"span",4),c(3),p()()}if(n&2){let t=i.$implicit,e=r();a(),f("tuiAvatar",e.options.popular),a(2),x(t)}}var Zt,R=class R{constructor(){this.textfield=_(E);this.storage=_(Et);this.control=_(Dt);this.close=_(Lt);this.i18n=_(O);this.options=_(G);this.$=(Zt=this.control.valueChanges)==null?void 0:Zt.pipe(B(String),N(i=>!!i&&!this.popular().includes(i)),It()).subscribe(i=>{this.store(i)});this.history=this.items;this.popular=U([])}store(i){var t;(t=this.storage)==null||t.setItem(this.options.key,JSON.stringify(Array.from(new Set([i.trim(),...this.items])).filter((e,o,s)=>e&&!s.find(g=>g.startsWith(e)&&g!==e)).slice(0,5)))}remove(i){var t,e;(t=this.textfield.input())==null||t.nativeElement.focus(),this.history=this.history.filter(o=>o!==i),(e=this.storage)==null||e.setItem(this.options.key,JSON.stringify(this.items.filter(o=>o!==i)))}select(i){var t,e;(t=this.control.control)==null||t.setValue(i),(e=this.textfield.input())==null||e.nativeElement.focus()}get items(){var i;return JSON.parse(((i=this.storage)==null?void 0:i.getItem(this.options.key))||"[]")}};R.\u0275fac=function(t){return new(t||R)},R.\u0275cmp=I({type:R,selectors:[["tui-search-history"]],inputs:{popular:[1,"popular"]},decls:6,vars:2,consts:[[1,"t-sr-label"],["tuiCell","","type","button"],["tuiCell","","type","button",3,"click","keydown.backspace","keydown.delete","mousedown.prevent"],[3,"tuiAvatar"],["tuiTitle",""],["appearance","icon","size","xs","tabindex","-1","tuiIconButton","","type","button",3,"click.stop","iconStart"],["tuiCell","","type","button",3,"click","mousedown.prevent"]],template:function(t,e){t&1&&(d(0,te,2,1,"label",0),v(1,ee,6,3,"button",1,T),d(3,ie,2,1,"label",0),v(4,ne,4,2,"button",1,T)),t&2&&(C(e.history.length?0:-1),a(),b(e.history),a(2),C(e.popular().length?3:-1),a(),b(e.popular()))},dependencies:[Q,z,J,K],styles:["[_nghost-%COMP%]:not(:empty){display:block;padding:.375rem 0}"],changeDetection:0});var P=R;var H=class H{constructor(){this.platform=_(Ot).platform;this.texts=_(O);this.search=_(q);this.placeholder=j(({hotkey:i}=this.texts())=>this.platform.startsWith("Mac")?`\u2318+K ${i}`:`Alt+K ${i}`)}};H.\u0275fac=function(t){return new(t||H)},H.\u0275dir=ct({type:H,selectors:[["input","tuiSearchHotkey",""]],hostVars:1,hostBindings:function(t,e){t&1&&h("keydown.meta.k.stop",function(){return e.search.open()},!1,k)("keydown.alt.k.stop",function(){return e.search.open()},!1,k),t&2&&mt("placeholder",e.placeholder())}});var F=H;var oe=["*"],re=()=>[],ae=n=>({$implicit:n});function le(n,i){n&1&&dt(0)}function se(n,i){n&1&&y(0,"tui-loader",0)}function pe(n,i){if(n&1&&(l(0,"tui-block-status",1),y(1,"tui-icon",2),c(2),p()),n&2){let t=r(3);a(),f("icon",t.options.empty),a(),w(" ",t.i18n().empty," ")}}function ce(n,i){if(n&1&&(l(0,"label",5),c(1),p()),n&2){let t=r(2).$implicit;a(),w(" ",t.key," ")}}function ue(n,i){if(n&1&&ut(0,6),n&2){let t=i.$implicit,e=r(6);f("ngTemplateOutlet",e.template()||null)("ngTemplateOutletContext",Tt(2,ae,t))}}function me(n,i){if(n&1&&(d(0,ce,2,1,"label",5),v(1,ue,1,4,"ng-container",6,T)),n&2){let t=r().$implicit;r();let e=X(0),o=r(3);C(!o.active&&e.length>1?0:-1),a(),b(t.value)}}function _e(n,i){if(n&1&&d(0,me,3,1),n&2){let t=i.$index,e=r(4);C(!e.active||e.active===t+1?0:-1)}}function de(n,i){if(n&1&&(l(0,"button",8),c(1),p()),n&2){let t=r().$implicit;a(),w(" ",t.key," ")}}function fe(n,i){if(n&1&&d(0,de,2,1,"button",8),n&2){let t=i.$implicit;C(t.value.length?0:-1)}}function he(n,i){if(n&1){let t=S();l(0,"tui-tabs",7),W("activeItemIndexChange",function(o){u(t);let s=r(4);return $(s.active,o)||(s.active=o),m(o)}),h("keydown.shift.tab.prevent",function(){u(t);let o=r(4);return m(o.tab(-1))},!1,k)("keydown.tab.prevent",function(){u(t);let o=r(4);return m(o.tab(1))},!1,k),l(1,"button",8),c(2),p(),v(3,fe,1,1,null,null,T),p()}if(n&2){r();let t=X(0),e=r(3);L("activeItemIndex",e.active),a(2),x(e.i18n().all),a(),b(t)}}function Ce(n,i){if(n&1&&(yt(0),V(1,"keyvalue"),l(2,"tui-scrollbar",3),v(3,_e,1,1,null,null,T),V(5,"tuiFilter"),p(),d(6,he,5,2,"tui-tabs",4)),n&2){let t=r(3),e=xt(Y(1,1,t.results(),t.asIs)||gt(8,re));a(3),b(Y(5,5,e,t.notEmpty)),a(3),C(e.length>1?6:-1)}}function ye(n,i){if(n&1&&d(0,pe,3,2,"tui-block-status",1)(1,Ce,7,9),n&2){let t=r(2);C(t.empty()?0:1)}}function xe(n,i){if(n&1&&d(0,se,1,0,"tui-loader",0)(1,ye,2,1),n&2){let t=r();C(t.results()?1:0)}}var A=class A{constructor(){this.el=Nt();this.options=_(G);this.i18n=_(O);this.textfield=_(E);this.active=0;this.empty=j((i=this.results()||{})=>!Object.values(i).reduce((t,{length:e})=>e+t,0));this.template=pt(Z);this.results=U({})}ngOnChanges(){this.active=0}onArrow(i,t){var o;let e=Array.from(this.el.querySelectorAll("[tuiCell]"));e[0]===i&&t<0?(o=this.textfield.input())==null||o.nativeElement.focus():Ut(e.indexOf(i),e,t)}tab(i){var e;let t=Object.values(this.results()||{}).filter(o=>o.length).length;this.active=Bt(this.active+i,0,t),(e=this.textfield.input())==null||e.nativeElement.focus()}notEmpty({value:i}){return!!i.length}asIs(){return 0}};A.\u0275fac=function(t){return new(t||A)},A.\u0275cmp=I({type:A,selectors:[["tui-search-results"]],contentQueries:function(t,e,o){t&1&&ft(o,e.template,Z,5),t&2&&ht()},hostBindings:function(t,e){t&1&&h("keydown.arrowDown.prevent",function(s){return e.onArrow(s.target,1)})("keydown.arrowUp.prevent",function(s){return e.onArrow(s.target,-1)})},inputs:{results:[1,"results"]},features:[lt],ngContentSelectors:oe,decls:2,vars:1,consts:[[1,"t-loader"],["size","m",1,"t-status"],["tuiSlot","top",1,"t-empty",3,"icon"],[1,"t-scrollbar"],["size","m",1,"t-tabs",3,"activeItemIndex"],[1,"t-sr-label"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["size","m",1,"t-tabs",3,"activeItemIndexChange","keydown.shift.tab.prevent","keydown.tab.prevent","activeItemIndex"],["tuiTab",""]],template:function(t,e){t&1&&(_t(),d(0,le,1,0)(1,xe,2,1)),t&2&&C(e.textfield.value()?1:0)},dependencies:[kt,St,Qt,qt,Jt,$t,jt,Wt,zt,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border-radius:var(--tui-radius-l);background:var(--tui-background-base);box-shadow:inset 0 0 0 1px var(--tui-border-normal)}[_nghost-%COMP%]     [tuiCell]{inline-size:stretch;padding:.375rem;margin:.25rem .625rem;border-radius:var(--tui-radius-l)}[_nghost-%COMP%]     [tuiCell]>[tuiAvatar]{border-radius:var(--tui-radius-m)}[_nghost-%COMP%]     .t-sr-label{display:block;font:var(--tui-font-ui-s);color:var(--tui-text-secondary);margin:.75rem 1rem .5rem}.t-loader[_ngcontent-%COMP%]{margin:1rem 0}.t-status[_ngcontent-%COMP%]{margin-block-end:2rem}.t-empty[_ngcontent-%COMP%]{margin-block-start:1.5rem;font-size:6rem;color:var(--tui-text-primary)}.t-tabs[_ngcontent-%COMP%]{order:-1;margin:0 1rem;box-shadow:none;border-image:linear-gradient(0deg,var(--tui-border-normal) 1px,transparent 0) fill 0/0/0 1rem}.t-tabs[_ngcontent-%COMP%]:before{background:var(--tui-background-accent-opposite-pressed)}.t-scrollbar[_ngcontent-%COMP%]{max-block-size:30rem;padding:.375rem 0}"],changeDetection:0});var M=A;function Te(n,i){if(n&1&&(l(0,"a",9),y(1,"span",10),l(2,"span",11),c(3),l(4,"span",12),c(5),p()()()),n&2){let t=i.$implicit;f("href",t.href,st),a(),f("tuiAvatar",t.icon||"@tui.file"),a(2),w(" ",t.title," "),a(2),x(t.subtitle)}}function ve(n,i){if(n&1&&(l(0,"tui-search-results",7),V(1,"async"),y(2,"tui-search-history",8),d(3,Te,6,4,"ng-template"),p()),n&2){let t=r();f("results",vt(1,2,t.results$)),a(2),f("popular",t.popular)}}var be={Documents:[{title:"Monty Python",href:"https://en.wikipedia.org/wiki/Monty_Python"}],Code:[{title:"Taiga UI",href:"https://github.com/taiga-family/taiga-ui",icon:"@tui.github"},{title:"Maskito",href:"https://github.com/taiga-family/maskito",icon:"@tui.github"},{title:"Web APIs with Angular",href:"https://github.com/taiga-family/ng-web-apis",icon:"@tui.github"}],Links:[{title:"Taiga UI",subtitle:"Super awesome library",href:"https://taiga-ui.dev",icon:"/assets/images/taiga.svg"},{title:"Maskito",href:"https://maskito.dev",icon:"@tui.external-link"}]},D=class D{constructor(){this.popular=["Taiga UI","Maskito","Web APIs for Angular"];this.control=new Pt("");this.results$=this.control.valueChanges.pipe(N(Boolean),at(i=>ot(2e3).pipe(B(()=>this.filter(i)),rt(null))));this.open=!1}filter(i){return Object.entries(be).reduce((t,[e,o])=>nt(it({},t),{[e]:o.filter(({title:s,href:g,subtitle:Yt=""})=>Rt(s+g+Yt,i))}),{})}};D.\u0275fac=function(t){return new(t||D)},D.\u0275cmp=I({type:D,selectors:[["ng-component"]],decls:14,vars:4,consts:[["search",""],["tuiNavigationHeader",""],[3,"pointerdown.capture.stop"],["tuiSearchHotkey","",3,"tuiInputSearchOpenChange","formControl","tuiInputSearch","tuiInputSearchOpen"],["tuiAvatar","@tui.user"],["alt","","src","https://avatars.githubusercontent.com/u/11832552"],["size","m","tuiButton","","type","button",3,"click"],[3,"results"],[3,"popular"],["tuiCell","",3,"href"],[3,"tuiAvatar"],["tuiTitle",""],["tuiSubtitle",""]],template:function(t,e){if(t&1){let o=S();l(0,"header",1)(1,"strong"),c(2,"Taiga UI"),p(),y(3,"hr"),l(4,"tui-textfield",2),h("pointerdown.capture.stop",function(){return u(o),m(0)}),l(5,"input",3),W("tuiInputSearchOpenChange",function(g){return u(o),$(e.open,g)||(e.open=g),m(g)}),p(),d(6,ve,4,4,"ng-template",null,0,bt),p(),c(8," Alex Inkin "),l(9,"div",4),y(10,"img",5),p()(),l(11,"p")(12,"button",6),h("click",function(){return u(o),m(e.open=!e.open)}),c(13),p()()}if(t&2){let o=Ct(7);a(5),f("formControl",e.control)("tuiInputSearch",o),L("tuiInputSearchOpen",e.open),a(8),w(" Toggle open: ",e.open," ")}},dependencies:[wt,Mt,At,Vt,Ft,Q,z,J,q,Gt,F,P,M,E,K],styles:["[_nghost-%COMP%]{display:block;transform:translateZ(0)}[tuiNavigationHeader][_ngcontent-%COMP%]{white-space:nowrap;inline-size:100%!important;box-shadow:none!important}[tuiNavigationHeader][_ngcontent-%COMP%]:before{display:none}"],changeDetection:0});var et=D;export{et as default};
