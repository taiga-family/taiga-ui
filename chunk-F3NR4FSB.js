import{Ea as $,Ga as I,xa as H}from"./chunk-5MB6WJ2O.js";import{j as b,k as V,l as z}from"./chunk-QN7323XT.js";import"./chunk-LU7CBR4B.js";import"./chunk-LDAAEVWC.js";import"./chunk-ZPATHCRU.js";import"./chunk-7573RU7O.js";import"./chunk-JND56ZUW.js";import"./chunk-7XY2WYPJ.js";import"./chunk-VOW6ERKI.js";import"./chunk-DLTCJHRN.js";import"./chunk-QLHTNIA4.js";import"./chunk-BGS7ZGCT.js";import"./chunk-OWUBRFSG.js";import"./chunk-EGSHYO6J.js";import"./chunk-UY2U4LUZ.js";import"./chunk-LBVBEC65.js";import"./chunk-XWSJZLZQ.js";import"./chunk-I5H6JAXK.js";import"./chunk-NG54SK4A.js";import"./chunk-NH7KH6JV.js";import"./chunk-SFTRSDVA.js";import"./chunk-ZNAFFE7Y.js";import"./chunk-EFYFB7HS.js";import"./chunk-NQDTPSIA.js";import"./chunk-KGSDVU3A.js";import"./chunk-7CDIVTNN.js";import"./chunk-34ZGBONF.js";import"./chunk-OTWUVAPV.js";import"./chunk-XDAB2IKY.js";import"./chunk-FTCBM4DE.js";import"./chunk-FZ5GKFYF.js";import"./chunk-26XHHYEI.js";import"./chunk-3VEQMH2R.js";import"./chunk-LL2PODKS.js";import"./chunk-KFO6RLOG.js";import"./chunk-2NJG2F7S.js";import"./chunk-4OGXTBHW.js";import"./chunk-VYY5GYF4.js";import"./chunk-2LKEP7VN.js";import"./chunk-BLAIGQGS.js";import"./chunk-WCPCOMN3.js";import"./chunk-CVSPHD6B.js";import"./chunk-NIV2PIAL.js";import"./chunk-QUTX6DZN.js";import"./chunk-KWZHGPWS.js";import"./chunk-TDHYON55.js";import"./chunk-GOJWO2R3.js";import{Ac as m,Bc as l,Cb as C,La as p,Lc as D,Ma as s,Mc as _,Oc as x,Tb as N,Zb as u,bb as v,fc as w,hc as y,id as M,kc as P,nd as O,pc as d,qc as c,vc as E,za as h}from"./chunk-2UPKG2B4.js";import"./chunk-B4AJQJMI.js";function k(i,t){if(i&1){let e=E();d(0,"div",2)(1,"div",3),m("pointerup",function(){p(e);let r=l().$implicit,o=l();return s(o.onDrop(r))}),c(),d(2,"tui-tiles",4)(3,"tui-tile")(4,"div",5),m("pointerdown",function(){p(e);let r=l().$implicit,o=l();return s(o.onDrag(r))}),_(5),c()()(),d(6,"div",3),m("pointerup",function(){p(e);let r=l().$implicit,o=l();return s(o.onDrop(r,1))}),c()()}if(i&2){let e=l().$implicit;C(5),x(" ",e.text," ")}}function j(i,t){if(i&1&&_(0),i&2){let e=l().$implicit;x(" ",e.text," ")}}function R(i,t){if(i&1&&u(0,k,7,1,"div",2)(1,j,1,1),i&2){let e=t.$implicit;P(e.children?1:0)}}var a=class a{constructor(){this.drag=v(null);this.cd=h(O);this.data={text:"Topmost",children:[{text:"Top level 1",children:[{text:"Another item",children:[{text:"Next level 1"},{text:"Next level 2"},{text:"Next level 3"}]}]},{text:"Top level 2"},{text:"Top level 3",children:[{text:"Test 1"},{text:"Test 2"}]}]};this.handler=t=>t.children||[]}onDrag(t){this.drag.set(t)}onDrop(t,e=0){let n=this.drag();if(!n)return;let r=T(n,this.data),o=T(t,this.data);r&&(r.children=r?.children?.filter(S=>S!==n));let f=(o?.children?.indexOf(t)??0)+e;o?.children&&(o.children=[...o.children.slice(0,f),n,...o.children.slice(f)]),this.drag.set(null)}};a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=N({type:a,selectors:[["ng-component"]],decls:3,vars:6,consts:[["content",""],[1,"tree",3,"childrenHandler","content","tuiTreeController","value"],[1,"wrapper"],[1,"drop",3,"pointerup"],[1,"tiles"],["tuiTileHandle","",1,"content",3,"pointerdown"]],template:function(e,n){if(e&1&&(d(0,"tui-tree",1),u(1,R,2,1,"ng-template",null,0,M),c()),e&2){let r=D(2);y("_dragged",n.drag()),w("childrenHandler",n.handler)("content",r)("tuiTreeController",!0)("value",n.data)}},dependencies:[b,V,z,$,H,I],styles:[".tree._dragged[_ngcontent-%COMP%]   .drop[_ngcontent-%COMP%]{pointer-events:auto}.tree._dragged[_ngcontent-%COMP%]   .drop[_ngcontent-%COMP%]:hover{opacity:1}.wrapper[_ngcontent-%COMP%]{position:relative;inline-size:100%}.content[_ngcontent-%COMP%]{display:flex;inline-size:100%;align-items:center}.tiles[_ngcontent-%COMP%]{inline-size:100%;grid-template-rows:1.5rem}.drop[_ngcontent-%COMP%]{position:absolute;z-index:1;inline-size:100%;block-size:.5rem;margin-block-start:-.25rem;background:#87ceeb;border-radius:1rem;opacity:0;pointer-events:none}"],changeDetection:0});var g=a;function T(i,t){if(!t.children)return null;if(t.children.includes(i))return t;for(let e of t.children){let n=T(i,e);if(n)return n}return null}export{g as default};
