(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[62201],{62201:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var i=n(16727),a=n(75407),o=n(87742),r=n(68126),s=n(3948),l=n(56366),c=n(78284),u=n(14027),d=n(25083);function p(t,e){if(1&t){const t=a.RV6();a.j41(0,"button",5),a.bIt("click",(function(){const e=a.eBV(t).$implicit,n=a.XpG(2);return a.Njj(n.onClick(e.login))})),a.j41(1,"tui-avatar",6),a.EFF(2),a.nI1(3,"tuiInitials"),a.k0s(),a.EFF(4),a.k0s()}if(2&t){const t=e.$implicit;a.R7$(1),a.Y8G("src",t.avatar),a.R7$(1),a.SpI(" ",a.bMT(3,3,t.name)," "),a.R7$(2),a.SpI(" ",t.name," ")}}function f(t,e){if(1&t&&(a.j41(0,"tui-data-list"),a.DNE(1,p,5,5,"button",4),a.nI1(2,"tuiMapper"),a.k0s()),2&t){const t=a.XpG();a.R7$(1),a.Y8G("ngForOf",a.brH(2,1,t.items,t.filter,t.search.replace("@","")))}}const m=(()=>{var t;class e{constructor(){this.options=s.xQZ,this.value="Type @ to see a dropdown",this.items=[{name:"Alexander Inkin",avatar:r.mY`/images/avatar.jpg`,login:"a.inkin"},{name:"Roman Sedov",avatar:"",login:"r.sedov"}],this.filter=(t,e)=>t.filter((({name:t,login:n})=>n.startsWith(e)||t.startsWith(e))),this.predicate=t=>String((0,l.kJn)(t)).startsWith("@")}get search(){const t=this.textarea?.nativeElement;return t?.value.slice(t.value.indexOf("@"),t.selectionStart)||""}onArrow(t,e){const n=this.options[e];n&&(t.preventDefault(),n.nativeElement.focus())}onClick(t){if(!this.textarea)return;const e=this.search,n=this.value.replace(e,t),i=n.indexOf(t)+t.length;this.value=n,this.textarea.nativeElement.focus(),this.textarea.nativeElement.value=n,this.textarea.nativeElement.setSelectionRange(i,i)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=a.VBU({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(a.GBs(c.nmZ,5,a.aKT),a.GBs(l.Xuo,5),a.GBs(l.sKr,5,a.aKT)),2&t){let t;a.mGM(t=a.lsd())&&(e.textarea=t.first),a.mGM(t=a.lsd())&&(e.driver=t.first),a.mGM(t=a.lsd())&&(e.options=t)}},standalone:!0,exportAs:"Example2",features:[a.aNF],decls:6,vars:7,consts:[["tuiDropdownLimitWidth","auto","tuiDropdownSelectionPosition","word",3,"tuiDropdownSelection"],["tuiLabel",""],["tuiTextarea","",3,"focused","max","min","ngModel","ngModelChange","keydown.arrowDown","keydown.arrowUp"],[4,"tuiTextfieldDropdown"],["new","","tuiOption","","type","button",3,"click",4,"ngFor","ngForOf"],["new","","tuiOption","","type","button",3,"click"],["size","s",3,"src"]],template:function(t,e){1&t&&(a.j41(0,"tui-textfield",0)(1,"label",1),a.EFF(2,"Type a message"),a.k0s(),a.j41(3,"textarea",2),a.bIt("ngModelChange",(function(t){return e.value=t}))("keydown.arrowDown",(function(t){return e.onArrow(t,"first")}))("keydown.arrowUp",(function(t){return e.onArrow(t,"last")})),a.nI1(4,"async"),a.k0s(),a.DNE(5,f,3,5,"tui-data-list",3),a.k0s()),2&t&&(a.Y8G("tuiDropdownSelection",e.predicate),a.R7$(3),a.Y8G("focused",a.bMT(4,5,e.driver)||null)("max",4)("min",4)("ngModel",e.value))},dependencies:[i.Jj,o.YN,o.me,o.BC,o.vS,i.Sq,c.Elh,l.uEM,l.sKr,l.HYP,l.sA4,l.eoQ,s.uAY,c.nmZ,u.bCn,d.z,l.Bwv,l.U9n],encapsulation:2,changeDetection:0}),e})()}}]);