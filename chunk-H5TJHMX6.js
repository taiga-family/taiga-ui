import{Ea as _,U as A,u as I,ua as F,va as V}from"./chunk-PZDN5K6W.js";import{b as j,f as g}from"./chunk-KWZHGPWS.js";import{f as S,g as v}from"./chunk-TDHYON55.js";import{Ac as h,Eb as H,Ha as D,Jb as w,Ob as y,V as C,Vb as i,Wb as B,_a as d,d as b,ga as k,i as T,ja as O,td as R,vd as x,wa as P,wc as E,yd as M,za as r}from"./chunk-2UPKG2B4.js";var a=class a{constructor(){this.win=r(g);this.tuiCopyProcessor=d(b)}onCopy(e){let t=F(this.win);t&&e.clipboardData?.setData("text/plain",this.tuiCopyProcessor()(t))}};a.\u0275fac=function(t){return new(t||a)},a.\u0275dir=i({type:a,selectors:[["","tuiCopyProcessor",""]],hostBindings:function(t,o){t&1&&h("copy.prevent",function(J){return o.onCopy(J)})},inputs:{tuiCopyProcessor:[1,"tuiCopyProcessor"]}});var U=a;var s=class s{constructor(){this.ref=r(g).devicePixelRatio>1&&r(w).createEmbeddedView(r(H))}};s.\u0275fac=function(t){return new(t||s)},s.\u0275dir=i({type:s,selectors:[["","tuiHighDpi",""]]});var $=s;var u=class u{constructor(){this.el=V();this.setElCurrentTime=x(()=>{Math.abs(this.currentTime()-this.el.currentTime)>.05&&(this.el.currentTime=this.currentTime())});this.setElPlaybackRate=x(()=>{this.updatePlaybackRate(this.playbackRate())});this.setElPaused=x(()=>{this.paused()?this.el.pause?.():this.el.play?.(),this.updatePlaybackRate(R(this.playbackRate))});this.playbackRate=d(1);this.volume=y(1);this.currentTime=y(this.el.currentTime??0);this.paused=y(this.el.paused)}onPausedChange(e){this.paused.set(e)}onVolumeChange(){this.volume.set(this.el.volume)}onCurrentTimeChange(){this.currentTime.set(this.el.currentTime)}updatePlaybackRate(e){this.el.playbackRate=e}};u.\u0275fac=function(t){return new(t||u)},u.\u0275dir=i({type:u,selectors:[["video","tuiMedia",""],["audio","tuiMedia",""]],hostVars:1,hostBindings:function(t,o){t&1&&h("durationchange",function(){return 0})("ended",function(){return o.onPausedChange(!0)})("pause",function(){return o.onPausedChange(!0)})("play",function(){return o.onPausedChange(!1)})("volumechange",function(){return o.onVolumeChange()})("timeupdate",function(){return o.onCurrentTimeChange()})("seeking",function(){return o.onCurrentTimeChange()})("seeked",function(){return o.onCurrentTimeChange()}),t&2&&E("volume",o.volume())},inputs:{playbackRate:[1,"playbackRate"],volume:[1,"volume"],currentTime:[1,"currentTime"],paused:[1,"paused"]},outputs:{volume:"volumeChange",currentTime:"currentTimeChange",paused:"pausedChange"},exportAs:["tuiMedia"]});var N=u;var c=class c{constructor(){this.container=r(S,{optional:!0});this.control=r(v,{optional:!0});this.control$=new T;this.tuiValueChanges$=this.control$.pipe(C(),O(I),C(),k(1));this.tuiValueChanges=j(this.tuiValueChanges$)}ngDoCheck(){this.control$.next(this.control||this.container)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275dir=i({type:c,selectors:[["","tuiValueChanges",""]],outputs:{tuiValueChanges:"tuiValueChanges"}});var L=c;var K={default:(z,e="*")=>A(z,e),recipes:{}},[W,be]=_(K);var m=class m{constructor(){this.option=r(W)}transform(e,t=""){if(!e)return e;if(!t)return this.option.default(e);let o=this.option.recipes[t];if(o)return o(e);if(t.length===1)return this.option.default(e,t[0]);let n=Object.keys(this.option.recipes).sort();throw new Error(`Obfuscate recipe "${t}" not found. Available recipes: [${n}]`)}};m.\u0275fac=function(t){return new(t||m)},m.\u0275pipe=B({name:"tuiObfuscate",type:m,pure:!0});var Y=m;var l=class l{constructor(){this.ngControl=r(v)}get control(){return this.ngControl.control}};l.\u0275fac=function(t){return new(t||l)},l.\u0275dir=i({type:l,selectors:[["","tuiControl",""]],exportAs:["ngControl"]});var G=l;var Q=new P("");var f=class f{constructor(){this.injector=r(D);this.refs=r(Q,{self:!0}).map(e=>M(e,{environmentInjector:this.injector}))}ngOnDestroy(){this.refs.forEach(e=>e.destroy())}};f.\u0275fac=function(t){return new(t||f)},f.\u0275dir=i({type:f});var q=f;export{U as a,$ as b,N as c,L as d,be as e,Y as f};
