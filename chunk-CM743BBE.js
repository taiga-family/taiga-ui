import{k as m}from"./chunk-CHS6H6BT.js";import{Ec as Q,Fc as X,Gc as Y,Ic as Z,ha as d,ja as W,jc as J,k as H,ka as q,wa as C,zc as K}from"./chunk-HCM5SIEF.js";import{a as U,d as B,g as z}from"./chunk-34QFRBFN.js";import{$a as c,Aa as n,Db as b,Dc as I,Fb as S,Ub as A,W as P,Wb as V,Xb as M,Yc as L,Za as f,Zc as j,_b as g,gc as h,i as T,ic as D,ja as _,ka as w,mc as k,rc as N,sc as R,tc as F,td as G,ud as s,w as E,wb as O}from"./chunk-NAEF7NDX.js";var rr=()=>({});function tr(e,r){if(e&1&&F(0,"span",2),e&2){let t=r.polymorpheusOutlet;h("innerHTML",t,O)}}function er(e,r){if(e&1&&(N(0,"span",0),g(1,tr,1,1,"span",1),R()),e&2){let t=r,o=I();b(),h("polymorpheusOutlet",t.message||o.default())("polymorpheusOutletContext",t.context||j(2,rr))}}var p=class p{constructor(){this.default=n(J);this.content=s((r=this.error())=>d(r)?new m(r):r);this.error=f(null)}};p.\u0275fac=function(t){return new(t||p)},p.\u0275cmp=A({type:p,selectors:[["tui-error"]],hostVars:2,hostBindings:function(t,o){t&2&&D("_error",o.content())},inputs:{error:[1,"error"]},decls:1,vars:1,consts:[["tuiAnimated","",1,"t-message-text"],[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerHTML"]],template:function(t,o){if(t&1&&g(0,er,2,3,"span",0),t&2){let x;k((x=o.content())?0:-1,x)}},dependencies:[Y,Z],styles:['[_nghost-%COMP%]{transition-property:grid-template-rows;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:grid;font:var(--tui-font-text-s);color:var(--tui-text-negative);overflow-wrap:break-word;grid-template-rows:0fr}._error[_nghost-%COMP%]{grid-template-rows:1fr}.t-message-text[_ngcontent-%COMP%]{white-space:pre-line;grid-area:1 / 1 / span 2;overflow:hidden}.t-message-text.tui-enter[_ngcontent-%COMP%], .t-message-text.tui-leave[_ngcontent-%COMP%]{animation-name:tuiFade}.t-message-text[_ngcontent-%COMP%]:before{content:"";line-height:1.5rem;vertical-align:bottom}'],changeDetection:0});var l=p;var i=class i{constructor(){this.content=n(K);this.control=new T;this.errors=H(this.control.pipe(P(),w(r=>r.events.pipe(_(null),E(()=>r.invalid&&r.touched&&r.errors)))));this.key=s((r=this.errors()||{})=>this.order().find(t=>r[t])||Object.keys(r)[0]||"");this.order=f([]);this.error=q(l,"error",s((r=this.errors()||null)=>r&&this.getError(r[this.key()],this.content[this.key()])),{self:!0,optional:!0})}registerOnChange(){}registerOnTouched(){}writeValue(){}validate(r){return this.control.next(r),null}getError(r,t){if(r=c(r)?r():r,r instanceof m)return r;if(t===void 0&&or(r))return y(r);if(c(t))return y(t(),r);if(t instanceof Function){let o=t(r);return y(c(o)?o():o,r)}return y(t,r)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=V({type:i,selectors:[["tui-error","ngModel",""],["tui-error","formControlName",""],["tui-error","formControl",""],["tui-error","formGroup",""],["tui-error","formGroupName",""],["tui-error","formArrayName",""]],inputs:{order:[1,"order"]},features:[L([C(U,i,!0),C(B,i,!0)])]});var u=i;function y(e="",r){return new m(e,r)}function or(e){return d(e)||e instanceof S||e instanceof X||e instanceof Q}var a=class a{constructor(){this.control=n(z);this.directive=new u}transform(r){G(()=>{this.directive.validate(this.control.control),W(this.directive.order,r)});let t=this.directive.error();return t?typeof t.message=="function"?t.message(t.context):t.message:""}};a.\u0275fac=function(t){return new(t||a)},a.\u0275pipe=M({name:"tuiError",type:a,pure:!1});var v=a;export{l as a,u as b,v as c};
