import{b as vi,h as Oi,i as Pi,j as ki,k as wi,l as Di,m as Si}from"./chunk-SFGVYFBO.js";import{b as ce,c as xi,g as he}from"./chunk-FA46YXGM.js";import{a as _i}from"./chunk-4UOIRONH.js";import{m as Ci}from"./chunk-QMSO4ILK.js";import{b as Ti}from"./chunk-CSAYTLE6.js";import{b as ui}from"./chunk-ISF36KP2.js";import{a as X,c as yi,n as fe}from"./chunk-4MQIIRQF.js";import{M as gi,O as bi,p as mi,q as fi,u as hi}from"./chunk-AIY2F77R.js";import{W as di,X as le,g as ci,l as me,t as pi}from"./chunk-MZOMKEM3.js";import{h as $t}from"./chunk-52Y3ZTD5.js";import{I as ut,L as ne,Na as mt,Qa as si,_ as oi,a as Ke,b as Ze,e as Je,ib as li,ka as ni,ma as ae,ob as ft,p as ti,pa as se,r as ei,ra as ri,s as ii,wa as ai}from"./chunk-GEANOXNS.js";import{g as q,m as re}from"./chunk-FKQWKKFB.js";import{D as Ye,a as Xe,p as dt}from"./chunk-OJDT66LG.js";import{Ac as y,B as ze,Bb as Be,Bc as s,Cb as a,Cc as D,Dc as S,E as Ee,Eb as te,G as Zt,Ic as z,Jc as Ue,Kb as He,Kc as E,La as _,Lc as Z,Ma as C,Mb as Lt,Mc as b,N as Re,Nb as U,Nc as ue,Ob as w,Oc as O,Pa as Jt,Pc as Le,Qc as Ge,Rc as $e,Sc as We,Tb as g,V as nt,Vb as c,Wb as ee,Wc as P,Xb as ie,Yb as st,Yc as Qe,Za as at,Zb as f,Zc as oe,_a as l,bb as R,d as De,ec as je,fb as Ne,fc as h,gc as lt,hc as M,i as Se,ia as Fe,id as ct,ja as rt,k as Me,kc as x,la as Ae,mc as L,nc as G,oc as $,p as Ut,pc as p,qc as d,rc as F,rd as pt,s as Ie,sa as k,sc as W,sd as u,tc as Q,td as A,uc as Gt,ud as qe,vc as I,w as V,wa as de,wc as Ve,za as r}from"./chunk-YCEEMOGF.js";import{a as Yt,b as Kt}from"./chunk-B4AJQJMI.js";var Mi=new de("",{factory:me("showHideText")}),Ii=new de("",{factory:me("paginationTexts")});var Bi={icons:{hide:"@tui.eye-off",show:"@tui.eye",drag:"@tui.grip-vertical"}},[zi,Ho]=ut(Bi);var Hi=(o,e)=>({$implicit:o,index:e});function ji(o,e){if(o&1&&(W(0),b(1),Q()),o&2){let t=e.polymorpheusOutlet;a(),O(" ",t," ")}}function Vi(o,e){if(o&1){let t=I();p(0,"tui-tile")(1,"div",2)(2,"div",3),F(3,"tui-icon",4),f(4,ji,2,1,"ng-container",5),d(),p(5,"button",6),y("click",function(){let n=_(t).$implicit,T=s();return C(T.toggle(n))})("keydown.arrowDown.prevent",function(){let n=_(t).$index,T=s();return C(T.move(n,1))})("keydown.arrowUp.prevent",function(){let n=_(t).$index,T=s();return C(T.move(n,-1))}),b(6),d()()()}if(o&2){let t=e.$implicit,i=e.$index,n=s();lt("order",n.order.get(i)),a(),M("t-item_disabled",!n.isEnabled(t)),a(2),h("icon",n.options.icons.drag),a(),h("polymorpheusOutlet",n.content())("polymorpheusOutletContext",oe(9,Hi,t,i)),a(),h("iconStart",n.getIcon(t)),a(),O(" ",n.showHideText()," ")}}var ht=class ht{constructor(){this.dragging=!1;this.order=new Map;this.unsortedItems=qe({source:()=>this.items(),computation:(e,t)=>{let i=(t==null?void 0:t.value)??[];return e.length!==i.length||!e.every(n=>i.includes(n))?e:i}});this.options=r(zi);this.showHideText=r(Mi);this.enabled=w([]);this.items=w([]);this.content=l(ii)}onDrag(){this.dragging=!0}onDrop(){this.dragging&&(this.dragging=!1,this.updateItems())}isEnabled(e){return this.enabled().includes(e)}getIcon(e){return this.isEnabled(e)?this.options.icons.hide:this.options.icons.show}toggle(e){this.enabled.update(t=>this.isEnabled(e)?t.filter(i=>i!==e):t.concat(e)),this.updateEnabled()}move(e,t){let i=this.order.get(e)??e;if(!i&&t<0||i===this.unsortedItems().length-1&&t>0)return;let n=i+t,T=Array.from(this.order.values()).findIndex(pe=>pe===n);this.order.set(e,n),this.order.set(T,i),this.order=new Map(this.order),this.updateItems()}getSortedItems(){let e=this.unsortedItems(),t=Array.from({length:e.length});return e.forEach((i,n)=>{t[this.order.get(n)??n]=i}),t}updateItems(){this.items.set(this.getSortedItems()),this.updateEnabled()}updateEnabled(){this.enabled.set(this.getSortedItems().filter(e=>this.isEnabled(e)))}};ht.\u0275fac=function(t){return new(t||ht)},ht.\u0275cmp=g({type:ht,selectors:[["tui-reorder"]],hostBindings:function(t,i){t&1&&y("focusout.stop",function(){return 0})("pointerdown.zoneless",function(){return i.onDrag()})("pointerup.zoneless",function(){return i.onDrop()},!1,Be)},inputs:{enabled:[1,"enabled"],items:[1,"items"],content:[1,"content"]},outputs:{enabled:"enabledChange",items:"itemsChange"},features:[P([{provide:Pi,useValue:Oi}])],decls:3,vars:1,consts:[[1,"t-wrapper",3,"orderChange","order"],[3,"order"],[1,"t-item"],["tuiTileHandle","",1,"t-draggable"],[1,"t-icon",3,"icon"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["appearance","icon","size","xs","tuiIconButton","","type","button",1,"t-button",3,"click","keydown.arrowDown.prevent","keydown.arrowUp.prevent","iconStart"]],template:function(t,i){t&1&&(p(0,"tui-tiles",0),We("orderChange",function(T){return $e(i.order,T)||(i.order=T),T}),G(1,Vi,7,12,"tui-tile",1,L),d()),t&2&&(Ge("order",i.order),a(),$(i.unsortedItems()))},dependencies:[ft,le,X,ki,wi,Di],styles:["[_nghost-%COMP%]{display:block;font:var(--tui-font-body-s);padding:.5rem 0;-webkit-user-select:none;user-select:none}.t-wrapper[_ngcontent-%COMP%]{grid-auto-rows:2rem}.t-draggable[_ngcontent-%COMP%]{cursor:ns-resize;flex:1 1 auto}.t-item[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:flex;block-size:2rem;align-items:center;padding:0 .75rem;background:var(--tui-background-base)}.t-item_disabled[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity)}.t-item_disabled[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]{color:var(--tui-text-primary);opacity:1}.t-item[_ngcontent-%COMP%]:hover{background:var(--tui-background-base-alt)}.t-item[_ngcontent-%COMP%]:hover   .t-button[_ngcontent-%COMP%]{opacity:1}.t-icon[_ngcontent-%COMP%]{margin-inline-end:.5rem;color:var(--tui-text-tertiary)}.t-icon[_ngcontent-%COMP%]:before{font-size:1rem}.t-button[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;margin-inline-start:auto;opacity:0}.t-button[_ngcontent-%COMP%]:focus{opacity:1}"],changeDetection:0});var Ei=ht;var Ui=["tuiCaption",""],Li=["*"],Tt=class Tt{};Tt.\u0275fac=function(t){return new(t||Tt)},Tt.\u0275cmp=g({type:Tt,selectors:[["caption","tuiCaption",""]],attrs:Ui,ngContentSelectors:Li,decls:1,vars:0,template:function(t,i){t&1&&(D(),S(0))},styles:[`caption[tuiCaption]{caption-side:bottom;text-align:start;padding:.75rem 0;color:var(--tui-text-secondary)}caption[tuiCaption]>*{vertical-align:middle}caption[tuiCaption]>*:not(:first-child){margin-inline-start:.5rem}caption[tuiCaption] tui-pagination:not(:first-child),caption[tuiCaption] tui-pager:not(:first-child){display:inline-flex;vertical-align:middle}
`],encapsulation:2,changeDetection:0});var Te=Tt;var gt=class gt{constructor(){this.tuiCell=l("");this.template=r(te)}};gt.\u0275fac=function(t){return new(t||gt)},gt.\u0275dir=c({type:gt,selectors:[["ng-template","tuiCell",""]],inputs:{tuiCell:[1,"tuiCell"]}});var bt=gt;var yt=class yt{constructor(){this.tuiHead=l.required();this.template=r(te)}};yt.\u0275fac=function(t){return new(t||yt)},yt.\u0275dir=c({type:yt,selectors:[["","tuiHead",""]],inputs:{tuiHead:[1,"tuiHead"]}});var N=yt;var H={Asc:1,Desc:-1},Gi={sticky:!1,resizable:!1,open:!0,size:"m",direction:H.Asc,requiredSort:!1,sortIcons:{asc:"@tui.chevron-up",desc:"@tui.chevron-down",off:"@tui.chevrons-up-down"}},[Y,cn]=ut(Gi);var _t=class _t{constructor(){this.stuck=Je(r(he).pipe(V(e=>{var t;return(((t=e[e.length-1])==null?void 0:t.intersectionRatio)??0)<1}),nt(),ai(),Re(()=>Ut)))}};_t.\u0275fac=function(t){return new(t||_t)},_t.\u0275dir=c({type:_t,selectors:[["never"]],hostVars:2,hostBindings:function(t,i){t&2&&M("_stuck",i.stuck())},features:[P([he,{provide:xi,useValue:[0,1]}])]});var Ct=_t;var Fi=()=>0,xt=class xt{};xt.\u0275fac=function(t){return new(t||xt)},xt.\u0275cmp=g({type:xt,selectors:[["ng-component"]],hostAttrs:[1,"tui-table"],decls:0,vars:0,template:function(t,i){},styles:[`table[tuiTable]{border-collapse:separate;border-spacing:0;isolation:isolate}table[tuiTable] [tuiCell]{padding:0}table[tuiTable] [tuiTitle]{white-space:nowrap}table[tuiTable] [tuiTitle] tui-icon{font-size:1rem}table[tuiTable] [tuiSubtitle]{color:var(--tui-text-secondary)}table[tuiTable] [tuiTh] [tuiCell],table[tuiTable] [tuiTh] [tuiTitle]{font:inherit;color:inherit}
`],encapsulation:2,changeDetection:0});var ge=xt,J=class J{constructor(){this.options=r(Y);this.nothing=ni(ge);this.computedSortChange=u(()=>({sortComparator:this.sorter(),sortDirection:this.direction()}));this.sortChangeOutput=A(()=>this.sortChange.emit(this.computedSortChange()));this.columns=l([]);this.size=l(this.options.size);this.direction=w(this.options.direction);this.sorter=w(Fi);this.sortChange=at();this.appearance=R("table");this.cleaner=R(!1)}updateSorterAndDirection(e){this.sorter()===e?this.updateSorter(this.sorter(),this.direction()===H.Asc?H.Desc:H.Asc):this.updateSorter(e)}updateSorter(e,t=H.Asc){this.sorter.set(e||Fi.bind({})),this.direction.set(t)}};J.\u0275fac=function(t){return new(t||J)},J.\u0275dir=c({type:J,selectors:[["table","tuiTable",""]],hostAttrs:["tuiTable",""],hostVars:1,hostBindings:function(t,i){t&2&&je("data-size",i.size())},inputs:{columns:[1,"columns"],size:[1,"size"],direction:[1,"direction"],sorter:[1,"sorter"]},outputs:{direction:"directionChange",sorter:"sorterChange",sortChange:"sortChange"},features:[P([{provide:ce,useValue:"10000px 10000px 10000px 0px"},ae(yi,J),di({size:"s"}),Ci({size:"m",appearance:"neutral"}),_i({size:"xxs",appearance:"neutral"}),vi({size:"s",color:"var(--tui-text-action)"})]),st([Ct])]});var v=J;var vt=class vt{constructor(){this.doc=r(Xe);this.el=mt();this.tuiResized$=se(this.el,"mousedown").pipe(ri(),rt(()=>{var i;let{width:e,right:t}=((i=this.el.closest("th"))==null?void 0:i.getBoundingClientRect())||ti;return se(this.doc,"mousemove").pipe(nt(),V(({clientX:n})=>e+n-t),Ae(se(this.doc,"mouseup")))}));this.tuiResized=Ze(this.tuiResized$)}};vt.\u0275fac=function(t){return new(t||vt)},vt.\u0275dir=c({type:vt,selectors:[["","tuiResized",""]],outputs:{tuiResized:"tuiResized"}});var Wt=vt;var $i=["tuiTh",""],Wi=["*"];function Qi(o,e){if(o&1){let t=I();p(0,"button",4),y("click",function(){_(t);let n=s();return C(n.updateSorterAndDirection())}),Gt(1,2),F(2,"tui-icon",5),d()}if(o&2){let t=s(),i=Z(3);M("t-sort_sorted",t.isCurrent),a(),h("ngTemplateOutlet",i),a(),h("icon",t.icon)}}function qi(o,e){if(o&1&&Gt(0,2),o&2){s();let t=Z(3);h("ngTemplateOutlet",t)}}function Xi(o,e){o&1&&S(0)}function Yi(o,e){if(o&1){let t=I();p(0,"div",6),y("tuiResized",function(n){_(t);let T=s();return C(T.onResized(n))}),d()}}var Ot=class Ot{constructor(){this.options=r(Y);this.head=r(N,{optional:!0});this.width=R(null);this.table=r(k(()=>v),{optional:!0});this.minWidth=l(-1/0);this.maxWidth=l(1/0);this.sorter=w(this.head?(e,t)=>oi(e[this.key],t[this.key]):null);this.resizable=l(this.options.resizable);this.sticky=l(this.options.sticky);this.requiredSort=l(this.options.requiredSort)}get key(){if(!this.head)throw new be;return this.head.tuiHead()}get isCurrent(){return!!this.sorter&&!!this.table&&this.sorter()===this.table.sorter()}get icon(){var e;return this.isCurrent?((e=this.table)==null?void 0:e.direction())===H.Asc?this.options.sortIcons.asc:this.options.sortIcons.desc:this.options.sortIcons.off}updateSorterAndDirection(){var t;let e=this.requiredSort()?this.sorter():null;(t=this.table)==null||t.updateSorterAndDirection(this.isCurrentAndDescDirection?e:this.sorter())}onResized(e){this.width.set(Math.min(Math.max(e,this.minWidth()),this.maxWidth()))}get isCurrentAndDescDirection(){var e,t;return this.sorter()===((e=this.table)==null?void 0:e.sorter())&&((t=this.table)==null?void 0:t.direction())===H.Desc}};Ot.\u0275fac=function(t){return new(t||Ot)},Ot.\u0275cmp=g({type:Ot,selectors:[["th","tuiTh",""]],hostVars:8,hostBindings:function(t,i){t&2&&(lt("min-width",i.width()||i.minWidth(),"px")("width",i.width()||i.minWidth(),"px")("max-width",i.width()||i.maxWidth(),"px"),M("_sticky",i.sticky()))},inputs:{minWidth:[1,"minWidth"],maxWidth:[1,"maxWidth"],sorter:[1,"sorter"],resizable:[1,"resizable"],sticky:[1,"sticky"],requiredSort:[1,"requiredSort"]},outputs:{sorter:"sorterChange"},attrs:$i,ngContentSelectors:Wi,decls:5,vars:2,consts:[["content",""],["type","button",1,"t-sort",3,"t-sort_sorted"],[3,"ngTemplateOutlet"],[1,"t-bar"],["type","button",1,"t-sort",3,"click"],[1,"t-icon",3,"icon"],[1,"t-bar",3,"tuiResized"]],template:function(t,i){t&1&&(D(),f(0,Qi,3,4,"button",1)(1,qi,1,1,"ng-container",2)(2,Xi,1,0,"ng-template",null,0,ct)(4,Yi,1,0,"div",3)),t&2&&(x(i.sorter()&&i.table?0:1),a(4),x(i.resizable()?4:-1))},dependencies:[dt,X,Wt],styles:['[_nghost-%COMP%]{transition-property:box-shadow;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;top:0;block-size:var(--tui-height-m);font:var(--tui-font-body-s);text-align:start;font-weight:700;color:var(--tui-text-secondary);background:var(--tui-background-base);cursor:default;padding:0 .75rem;box-sizing:border-box;box-shadow:0 .3125rem #ededed00;border:1px solid var(--tui-border-normal);filter:opacity(1)}@supports (-webkit-hyphens: none){[_nghost-%COMP%]{transform:translateZ(0)}}[_nghost-%COMP%]:not(:first-child){border-inline-start:none}._sticky[_nghost-%COMP%], ._stuck   ._sticky[_nghost-%COMP%]{position:sticky;z-index:3000}._sticky[_nghost-%COMP%]:first-child, ._stuck   ._sticky[_nghost-%COMP%]:first-child{left:0}._sticky[_nghost-%COMP%]:after, ._stuck   ._sticky[_nghost-%COMP%]:after{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;top:0;left:100%;bottom:0;inline-size:.3125rem;pointer-events:none;background:#edededb3;opacity:0}._stuck   [_nghost-%COMP%]{z-index:2000}tr:not(:first-child)[_nghost-%COMP%], tr:not(:first-child)   [_nghost-%COMP%]{border-block-start:none}table[data-size="l"][_nghost-%COMP%], table[data-size="l"]   [_nghost-%COMP%]{block-size:var(--tui-height-l);font:var(--tui-font-body-m);font-weight:700;padding:0 1rem}table[data-size="s"][_nghost-%COMP%], table[data-size="s"]   [_nghost-%COMP%]{block-size:var(--tui-height-s);font:var(--tui-font-body-s);font-weight:700;padding:0 .5rem}thead[tuiThead][_nghost-%COMP%], thead[tuiThead]   [_nghost-%COMP%]{position:sticky}table._stuck._sticky[_nghost-%COMP%]:after, table._stuck   ._sticky[_nghost-%COMP%]:after{opacity:1}thead[tuiThead]._stuck[_nghost-%COMP%], thead[tuiThead]._stuck   [_nghost-%COMP%]{box-shadow:0 .3125rem #edededb3}[tuiTheme="dark"]._sticky[_nghost-%COMP%]:after, [tuiTheme="dark"]   ._sticky[_nghost-%COMP%]:after{background:#3c3c3ce6}[tuiTheme="dark"]   thead[tuiThead]._stuck[_nghost-%COMP%], [tuiTheme="dark"]   thead[tuiThead]._stuck   [_nghost-%COMP%]{box-shadow:0 .3125rem #3c3c3ce6}[tuiTheme="dark"]   thead[tuiThead]._stuck[_nghost-%COMP%]:first-child, [tuiTheme="dark"]   thead[tuiThead]._stuck   [_nghost-%COMP%]:first-child{box-shadow:.0625rem .3125rem #3c3c3ce6}table[data-size="l"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="l"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-l)}table[data-size="m"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="m"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-m)}table[data-size="s"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="s"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-s)}.t-sort[_ngcontent-%COMP%]{transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;line-height:inherit;text-decoration:none;display:inline-flex;vertical-align:top;flex-direction:inherit;align-items:center;outline:none;font:inherit;text-transform:inherit;color:inherit;cursor:pointer}.t-sort_sorted[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.t-sort[_ngcontent-%COMP%]:focus-visible{background:var(--tui-service-selection-background)}.t-sort[_ngcontent-%COMP%]:hover{color:var(--tui-text-primary)}.t-bar[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:0;bottom:0;right:-1px;inline-size:.1875rem;justify-self:flex-end;border-inline-start:2px solid transparent;background:var(--tui-status-warning);background-clip:content-box;cursor:ew-resize;opacity:0}.t-bar[_ngcontent-%COMP%]:hover, .t-bar[_ngcontent-%COMP%]:active{opacity:1}.t-icon[_ngcontent-%COMP%]:before{font-size:1rem}'],changeDetection:0});var j=Ot,be=class extends Error{constructor(){super("")}};var Pt=class Pt{constructor(){this.table=r(v);this.sortables=U(kt,{descendants:!0});this.sortChange=u(()=>({sortKey:this.sortables().length?this.getKey(this.table.sorter()):null,sortDirection:this.table.direction()}));this.sortOutput=A(()=>{this.sortables().length&&this.tuiSortChange.emit(this.sortChange())});this.tuiSortChange=at();this.tuiSortBy=l(null)}getKey(e){var t;return((t=this.sortables().find(i=>i.sorter()===e))==null?void 0:t.key)||null}};Pt.\u0275fac=function(t){return new(t||Pt)},Pt.\u0275dir=c({type:Pt,selectors:[["table","tuiTable","","tuiSortBy",""]],contentQueries:function(t,i,n){t&1&&z(n,i.sortables,kt,5),t&2&&E()},inputs:{tuiSortBy:[1,"tuiSortBy"]},outputs:{tuiSortChange:"tuiSortChange"}});var Qt=Pt;var wt=class wt{constructor(){this.table=r(v);this.th=r(j);this.sortBy=r(k(()=>Qt));this.sortable=l(void 0,{alias:"tuiSortable",transform:si});this.setThSorter=A(()=>{this.th.sorter.set(this.sortable()?this.sorter():null)});this.setTableSorter=A(()=>{this.match&&pt(this.table.sorter)!==this.sorter()&&this.table.updateSorter(this.sorter())});this.sorter=u(()=>this.sortable()&&pt(()=>this.match)?pt(this.table.sorter):()=>0)}get key(){return this.th.key}get match(){return this.sortBy.tuiSortBy()===this.key}};wt.\u0275fac=function(t){return new(t||wt)},wt.\u0275dir=c({type:wt,selectors:[["th","tuiTh","","tuiSortable",""]],inputs:{sortable:[1,"tuiSortable","sortable"]}});var kt=wt;var Dt=class Dt{};Dt.\u0275fac=function(t){return new(t||Dt)},Dt.\u0275dir=c({type:Dt,selectors:[["thead","tuiThead",""]],features:[P([{provide:ce,useValue:"0px 10000px 10000px 10000px"}]),st([Ct])]});var ye=Dt;var St=class St{constructor(){this.table=r(v);this.data=R([]);this.sorted=u((e=this.table.direction(),t=this.table.sorter())=>[...this.data()].sort((i,n)=>e*t(i,n)))}transform(e){return pt(()=>this.data.set(e??[])),this.sorted()}};St.\u0275fac=function(t){return new(t||St)},St.\u0275pipe=ee({name:"tuiTableSort",type:St,pure:!1});var _e=St;var Ki=["content"],Zi=["*"],Mt=class Mt{constructor(){this.content=He("content");this.el=mt();this.server=Ye(r(Ne));this.transitioning=R(!1);this.contentHeight=u((e=this.expanded())=>this.update(this.content()));this.visible$=new Se;this.sub=this.visible$.pipe(rt(e=>e?Ee(500).pipe(V(()=>e)):Ie(e)),Ke()).subscribe(e=>this.el.classList.toggle("_visible",e));this.expanded=w(r(Y).open);this.transitioningEffect=A((e,t=this.expanded())=>this.transitioning.set(!0))}toggle(){this.expanded.set(!this.expanded())}update(e){if(!e||this.server)return 0;let t=e.nativeElement;t.style.setProperty("display","block");let i=t.getBoundingClientRect().height;return t.style.removeProperty("display"),i}};Mt.\u0275fac=function(t){return new(t||Mt)},Mt.\u0275cmp=g({type:Mt,selectors:[["tui-table-expand"]],viewQuery:function(t,i){t&1&&Ue(i.content,Ki,5),t&2&&E()},hostAttrs:["ngSkipHydration","true"],hostBindings:function(t,i){t&1&&y("tuiPresent",function(T){return i.visible$.next(T)})},inputs:{expanded:[1,"expanded"]},outputs:{expanded:"expandedChange"},features:[st([{directive:Si,outputs:["tuiPresent","tuiPresent"]}])],ngContentSelectors:Zi,decls:4,vars:6,consts:[["content",""],[1,"t-content"],[1,"t-filler",3,"animationcancel","animationend","animationstart"]],template:function(t,i){if(t&1){let n=I();D(),p(0,"div",1,0),S(2),d(),p(3,"div",2),y("animationcancel",function(){return _(n),C(i.transitioning.set(!1))})("animationend",function(){return _(n),C(i.transitioning.set(!1))})("animationstart",function(){return _(n),C(i.transitioning.set(!0))}),d()}t&2&&(M("t-content_open",i.expanded()&&!i.transitioning()),a(3),lt("--t-height",i.contentHeight(),"px"),M("t-filler_open",i.expanded()))},styles:["@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_open{0%{block-size:0}to{block-size:var(--t-height)}}@keyframes _ngcontent-%COMP%_close{0%{block-size:var(--t-height)}to{block-size:0}}[_nghost-%COMP%]{display:contents}[_nghost-%COMP%]:not(._visible){--tui-duration: 0ms}.t-content[_ngcontent-%COMP%]{display:none}.t-content_open[_ngcontent-%COMP%]{display:contents}.t-content_open[_ngcontent-%COMP%]     tr{animation:_ngcontent-%COMP%_fade-in var(--tui-duration)}.t-filler[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_close calc(var(--tui-duration) + 1ms)}.t-filler_open[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_open calc(var(--tui-duration) + 1ms)}"],changeDetection:0});var Ce=Mt;var Ji=["tuiTd",""],to=["*"],It=class It{constructor(){this.control=Lt($t);this.textfield=Lt(fe)}};It.\u0275fac=function(t){return new(t||It)},It.\u0275cmp=g({type:It,selectors:[["th","tuiTd",""],["td","tuiTd",""]],contentQueries:function(t,i,n){t&1&&(z(n,i.control,$t,5),z(n,i.textfield,fe,5)),t&2&&E(2)},hostVars:2,hostBindings:function(t,i){t&2&&M("_editable",i.control()||i.textfield())},attrs:Ji,ngContentSelectors:to,decls:1,vars:0,template:function(t,i){t&1&&(D(),S(0))},styles:['[_nghost-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;text-align:start;background:var(--tui-background-base);border:1px solid var(--tui-border-normal);border-block-start:none;box-sizing:border-box;filter:opacity(1)}@supports (-webkit-hyphens: none){[_nghost-%COMP%]{transform:translateZ(0)}}[_nghost-%COMP%]:first-child{left:0}[_nghost-%COMP%]:not(:first-child){border-inline-start:none}._editable[_nghost-%COMP%]{padding:0!important;vertical-align:top}th[_nghost-%COMP%]{position:sticky;z-index:100}th[_nghost-%COMP%]:after{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;top:0;bottom:0;left:100%;inline-size:.3125rem;pointer-events:none;background:#edededb3;opacity:0}th[_nghost-%COMP%]:focus-within:not(:disabled){z-index:1100}[tuiTheme="dark"][_nghost-%COMP%]:after, [tuiTheme="dark"]   [_nghost-%COMP%]:after{background:#3c3c3ce6}table._stuck[_nghost-%COMP%], table._stuck   [_nghost-%COMP%]{z-index:1000}table._stuck[_nghost-%COMP%]:last-of-type:after, table._stuck   [_nghost-%COMP%]:last-of-type:after{opacity:1}table[data-size="l"][_nghost-%COMP%], table[data-size="l"]   [_nghost-%COMP%]{block-size:var(--tui-height-l);font:var(--tui-font-body-m);padding:calc(1rem - 1px) 1rem 1rem}table[data-size="m"][_nghost-%COMP%], table[data-size="m"]   [_nghost-%COMP%]{block-size:var(--tui-height-m);font:var(--tui-font-body-s);padding:calc(.75rem - 1px) .75rem .75rem}table[data-size="s"][_nghost-%COMP%], table[data-size="s"]   [_nghost-%COMP%]{block-size:var(--tui-height-s);font:var(--tui-font-body-s);padding:calc(.25rem - 1px) .5rem .25rem}td[_nghost-%COMP%]:focus-within{z-index:100!important}td[_nghost-%COMP%]:not(:focus-within){z-index:0}'],changeDetection:0});var qt=It;var eo=["tuiTbody",""],io=["*"];function oo(o,e){if(o&1&&(W(0),b(1),Q()),o&2){let t=e.polymorpheusOutlet;a(),O(" ",t," ")}}function no(o,e){if(o&1){let t=I();p(0,"tr")(1,"th",0)(2,"button",1),y("click",function(){_(t);let n=s();return C(n.onClick())}),p(3,"span",2),f(4,oo,2,1,"ng-container",3),d(),F(5,"tui-icon",4),d()()()}if(o&2){let t=s();a(),h("colSpan",t.table.columns().length),a(3),h("polymorpheusOutlet",t.heading()),a(),h("tuiChevron",t.open())}}function ro(o,e){o&1&&S(0)}var zt=class zt{constructor(){this.options=r(Y);this.table=r(k(()=>v));this.rows=U(k(()=>Et));this.data=l([]);this.heading=l();this.open=w(this.options.open);this.onClick=()=>{this.open.set(!this.open())}}};zt.\u0275fac=function(t){return new(t||zt)},zt.\u0275cmp=g({type:zt,selectors:[["tbody","tuiTbody",""]],contentQueries:function(t,i,n){t&1&&z(n,i.rows,Et,4),t&2&&E()},inputs:{data:[1,"data"],heading:[1,"heading"],open:[1,"open"]},outputs:{open:"openChange"},attrs:eo,ngContentSelectors:io,decls:2,vars:2,consts:[[1,"t-heading",3,"colSpan"],["type","button",1,"t-expand",3,"click"],[1,"t-name"],[4,"polymorpheusOutlet"],[1,"t-chevron",3,"tuiChevron"]],template:function(t,i){t&1&&(D(),f(0,no,6,3,"tr")(1,ro,1,0)),t&2&&(x(i.heading()?0:-1),a(),x(i.open()?1:-1))},dependencies:[ft,Ti,X],styles:['[_nghost-%COMP%]{border-color:var(--tui-border-normal)}[_nghost-%COMP%]   tr[_ngcontent-%COMP%]{border-color:inherit}.t-expand[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;text-decoration:none;display:flex;inline-size:100%;block-size:100%;align-items:center;box-sizing:border-box;outline:none;font-weight:700;cursor:pointer;border-color:inherit}.t-expand[_ngcontent-%COMP%]:focus-visible   .t-name[_ngcontent-%COMP%]{background:var(--tui-service-selection-background)}.t-expand[_ngcontent-%COMP%]:before, .t-expand[_ngcontent-%COMP%]:after{content:"";position:sticky;block-size:100%;border-inline-start:1px solid;border-color:inherit}.t-expand[_ngcontent-%COMP%]:before{left:0}.t-expand[_ngcontent-%COMP%]:after{right:0}.t-heading[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;block-size:var(--tui-height-m);font:var(--tui-font-body-s);padding:0;background:var(--tui-background-neutral-1);border-block-end:1px solid var(--tui-border-normal);border-color:inherit}.t-heading[_ngcontent-%COMP%]:hover{background:var(--tui-background-neutral-1-hover)}table[data-size="l"][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], table[data-size="l"]   [_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-body-m);block-size:var(--tui-height-l)}.t-name[_ngcontent-%COMP%]{position:sticky;left:.75rem;display:inline-block}table[data-size="l"][_nghost-%COMP%]   .t-name[_ngcontent-%COMP%], table[data-size="l"]   [_nghost-%COMP%]   .t-name[_ngcontent-%COMP%]{left:1rem}.t-chevron[_ngcontent-%COMP%]{position:sticky;right:.75rem;margin:0 .6875rem 0 auto}'],changeDetection:0});var Xt=zt;var ao=["tuiTr",""],so=["*"];function lo(o,e){if(o&1&&(p(0,"td",2),b(1),d()),o&2){let t=s().$implicit,i=s(2);a(),O(" ",i.item()[t]," ")}}function co(o,e){if(o&1&&(W(0,1),f(1,lo,2,1,"ng-template",null,0,ct),Q()),o&2){let t=e.$implicit,i=Z(2),n=s();h("ngTemplateOutlet",n[t]&&n[t].template||i)}}function po(o,e){if(o&1&&G(0,co,3,1,"ng-container",1,L),o&2){let t=s();$(t.table.columns())}}function uo(o,e){o&1&&F(0,"td")}var Rt=class Rt{constructor(){this.cells=U(k(()=>bt));this.body=r(k(()=>Xt));this.table=r(k(()=>v));this.items=u(()=>this.cells().reduce((e,t)=>Kt(Yt({},e),{[t.tuiCell()]:t}),{}));this.item=u(()=>this.body.data()[this.body.rows().findIndex(e=>e===this)])}};Rt.\u0275fac=function(t){return new(t||Rt)},Rt.\u0275cmp=g({type:Rt,selectors:[["tr","tuiTr",""]],contentQueries:function(t,i,n){t&1&&z(n,i.cells,bt,4),t&2&&E()},attrs:ao,ngContentSelectors:so,decls:3,vars:1,consts:[["plain",""],[3,"ngTemplateOutlet"],["tuiTd",""]],template:function(t,i){if(t&1&&(D(),f(0,po,2,0)(1,uo,1,0,"td"),S(2)),t&2){let n;x((n=i.items())?0:1,n)}},dependencies:[dt,qt],encapsulation:2,changeDetection:0});var Et=Rt;var mo=["tuiThGroup",""],fo=["*"],ho=o=>({$implicit:o});function To(o,e){if(o&1&&Gt(0,1),o&2){let t=e.$implicit,i=s(),n=Z(3);h("ngTemplateOutlet",(i==null||i[t]==null?null:i[t].template)||n)("ngTemplateOutletContext",Qe(2,ho,t))}}function go(o,e){if(o&1&&(p(0,"th",2),b(1),d()),o&2){let t=s().$implicit;a(),O(" ",t.toString()," ")}}function bo(o,e){if(o&1&&f(0,go,2,1,"th",2),o&2){let t=s(2);x(!t.th()&&!t.heads().length?0:-1)}}function yo(o,e){if(o&1&&(G(0,To,1,4,"ng-container",1,L),f(2,bo,1,1,"ng-template",null,0,ct)),o&2){let t=s();$(t.table.columns())}}var Ft=class Ft{constructor(){this.th=Lt(k(()=>j));this.heads=U(k(()=>N));this.computedHeads=u(()=>this.heads().reduce((e,t)=>Kt(Yt({},e),{[t.tuiHead()]:t}),{}));this.table=r(k(()=>v))}};Ft.\u0275fac=function(t){return new(t||Ft)},Ft.\u0275cmp=g({type:Ft,selectors:[["tr","tuiThGroup",""]],contentQueries:function(t,i,n){t&1&&(z(n,i.th,j,5),z(n,i.heads,N,4)),t&2&&E(2)},attrs:mo,ngContentSelectors:fo,decls:2,vars:1,consts:[["plain",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tuiTh",""]],template:function(t,i){if(t&1&&(D(),S(0),f(1,yo,4,0)),t&2){let n;a(),x((n=i.computedHeads())?1:-1,n)}},dependencies:[dt,j],encapsulation:2,changeDetection:0});var xe=Ft;function _o({$implicit:o}){return`${o}`}var Co={sizeOptionContent:_o,showPages:!0,items:[10,20,50,100],size:10},[Ai,la]=ut(Co);var xo=(o,e)=>({$implicit:o,total:e});function vo(o,e){if(o&1&&(b(0),p(1,"strong",3),b(2),d()),o&2){let t=s(),i=s();O(" ",t.pages," "),a(2),ue(i.pages())}}function Oo(o,e){if(o&1&&(W(0),b(1),Q()),o&2){let t=e.polymorpheusOutlet;a(),O(" ",t," ")}}function Po(o,e){if(o&1&&F(0,"tui-icon",9),o&2){let t=s(5);h("icon",t.icons.check)}}function ko(o,e){o&1&&F(0,"span",10)}function wo(o,e){if(o&1){let t=I();p(0,"button",7),y("click",function(){let n=_(t).$implicit,T=s().$implicit,pe=s(3);return T(),C(pe.onItem(n))}),f(1,Oo,2,1,"ng-container",8)(2,Po,1,1,"tui-icon",9)(3,ko,1,0,"span",10),d()}if(o&2){let t=e.$implicit,i=s(4);a(),h("polymorpheusOutlet",i.sizeOptionContent)("polymorpheusOutletContext",oe(3,xo,t,i.total())),a(),x(t===i.size()?2:3)}}function Do(o,e){if(o&1&&(p(0,"tui-data-list",5),G(1,wo,4,6,"button",6,L),d()),o&2){let t=s(3);a(),$(t.items())}}function So(o,e){if(o&1&&(p(0,"button",2)(1,"strong"),b(2),d(),f(3,Do,3,0,"tui-data-list",4),d()),o&2){let t=s(2);a(2),Le("",t.start+1,"\u2013",t.end(),"")}}function Mo(o,e){o&1&&(p(0,"strong"),b(1,"0 - 0"),d())}function Io(o,e){if(o&1){let t=I();p(0,"button",11),y("click",function(){_(t);let n=s(2);return C(n.back())}),b(1),d(),p(2,"button",12),y("click",function(){_(t);let n=s(2);return C(n.forth())}),b(3),d()}if(o&2){let t=e,i=s(2);h("disabled",!i.start)("iconStart",i.icons.decrement),a(),O(" ",t[0]," "),a(),h("disabled",i.rightDisabled())("iconStart",i.icons.increment),a(),O(" ",t[1]," ")}}function zo(o,e){if(o&1&&(p(0,"span",0),f(1,vo,3,2),d(),p(2,"span",1),b(3),f(4,So,4,2,"button",2)(5,Mo,2,0,"strong"),b(6),p(7,"strong",3),b(8),d()(),f(9,Io,4,6)),o&2){let t,i=e,n=s();a(),x(n.options.showPages?1:-1),a(2),O(" ",i.linesPerPage," "),a(),x(n.total()!==0?4:5),a(2),O(" ",i.of," "),a(2),ue(n.total()),a(),x((t=n.spinTexts())?9:-1,t)}}var At=class At{constructor(){this.options=r(Ai);this.icons=r(ci);this.spinTexts=r(pi);this.texts=r(Ii);this.pages=u(()=>Math.ceil(this.total()/this.size()));this.end=u(()=>Math.min(this.start+this.size(),this.total()));this.rightDisabled=u(()=>this.end()===this.total());this.pagination=u(()=>({page:this.page(),size:this.size()}));this.items=l(this.options.items);this.total=l(0);this.page=w(0);this.size=w(this.options.size);this.paginationChange=at()}onItem(e){let{start:t}=this;this.size.set(e),this.page.set(Math.floor(t/this.size())),this.paginationChange.emit(this.pagination())}get sizeOptionContent(){return this.options.sizeOptionContent}get start(){return Math.min(this.page(),Math.floor(this.total()/this.size()))*this.size()}back(){this.page.update(e=>e-1),this.paginationChange.emit(this.pagination())}forth(){this.page.update(e=>e+1),this.paginationChange.emit(this.pagination())}};At.\u0275fac=function(t){return new(t||At)},At.\u0275cmp=g({type:At,selectors:[["tui-table-pagination"]],inputs:{items:[1,"items"],total:[1,"total"],page:[1,"page"],size:[1,"size"]},outputs:{page:"pageChange",size:"sizeChange",paginationChange:"paginationChange"},decls:1,vars:1,consts:[[1,"t-pages"],["automation-id","tui-table-pagination__lines-per-page-wrapper"],["tuiDropdown","","tuiDropdownAuto","","tuiLink","","type","button"],[1,"t-strong"],["size","s",4,"tuiDropdown"],["size","s"],["tuiOption","","type","button",1,"t-item"],["tuiOption","","type","button",1,"t-item",3,"click"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-checkmark",3,"icon"],[1,"t-checkmark"],["appearance","icon","size","xs","tuiIconButton","","type","button",1,"t-button","t-button_back",3,"click","disabled","iconStart"],["appearance","icon","size","xs","tuiIconButton","","type","button",1,"t-button",3,"click","disabled","iconStart"]],template:function(t,i){if(t&1&&f(0,zo,10,6),t&2){let n;x((n=i.texts())?0:-1,n)}},dependencies:[ft,le,gi,bi,mi,hi,fi,X,ui],styles:["[_nghost-%COMP%]{display:flex;font:var(--tui-font-body-s);align-items:center;color:var(--tui-text-tertiary)}.t-strong[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.t-pages[_ngcontent-%COMP%]{margin-inline-end:auto}.t-item[_ngcontent-%COMP%]{min-inline-size:5.5rem;box-sizing:border-box}.t-checkmark[_ngcontent-%COMP%]{min-inline-size:1rem;font-size:1rem;margin-inline-start:auto}.t-button[_ngcontent-%COMP%]{transform:scaleX(var(--tui-inline))}.t-button_back[_ngcontent-%COMP%]{margin-inline-end:.25rem;margin-inline-start:1.5rem}"],changeDetection:0});var Ni=At;var tt=class tt extends $t{constructor(){super(...arguments);this.children=R([]);this.checked=u(()=>!!this.children().length&&this.children().every(t=>this.value().includes(t.tuiCheckboxRow())));this.indeterminate=u(()=>!!this.value().length&&!this.checked())}toggleAll(){this.onChange(this.checked()?[]:this.children().map(t=>t.tuiCheckboxRow()))}process(t){this.children.update(i=>ne(i,t))}};tt.\u0275fac=(()=>{let t;return function(n){return(t||(t=Jt(tt)))(n||tt)}})(),tt.\u0275dir=c({type:tt,selectors:[["","tuiTable","","ngModel",""],["","tuiTable","","formControl",""],["","tuiTable","","formControlName",""]],features:[P([li([])]),ie]});var et=tt;var Nt=class Nt{constructor(){this.control=r(q);this.parent=r(et);this.checked=u((e=this.parent.value().includes(this.tuiCheckboxRow()))=>(setTimeout(()=>{var t;return(t=this.control.control)==null?void 0:t.setValue(e)}),e));this.tuiCheckboxRow=l.required()}ngOnInit(){this.parent.process(this)}ngOnDestroy(){this.parent.process(this),this.parent.onChange(this.parent.value().filter(e=>e!==this.tuiCheckboxRow()))}onChange(){this.parent.onChange(ne(this.parent.value(),this.tuiCheckboxRow()))}};Nt.\u0275fac=function(t){return new(t||Nt)},Nt.\u0275dir=c({type:Nt,selectors:[["","tuiCheckbox","","tuiCheckboxRow",""]],hostVars:1,hostBindings:function(t,i){t&1&&y("change",function(){return i.onChange()}),t&2&&Ve("checked",i.checked())},inputs:{tuiCheckboxRow:[1,"tuiCheckboxRow"]},features:[P([{provide:q,useClass:re}])]});var ve=Nt;var Bt=class Bt{constructor(){this.el=mt();this.control=r(q);this.parent=r(et);this.update=A(()=>{var i;let e=this.parent.indeterminate(),t=this.parent.checked();this.el.indeterminate=e,this.el.checked=t,(i=this.control.control)==null||i.setValue(e?null:t)})}};Bt.\u0275fac=function(t){return new(t||Bt)},Bt.\u0275dir=c({type:Bt,selectors:[["","tuiCheckbox","","tuiCheckboxTable",""]],hostBindings:function(t,i){t&1&&y("change",function(){return i.parent.toggleAll()})},features:[P([{provide:q,useClass:re}])]});var Oe=Bt;var it=class{};var K=class K extends it{constructor(){super(...arguments);this.filter=l(ei,{alias:"tuiGenericFilter"})}};K.\u0275fac=(()=>{let t;return function(n){return(t||(t=Jt(K)))(n||K)}})(),K.\u0275dir=c({type:K,selectors:[["","tuiGenericFilter",""]],inputs:{filter:[1,"tuiGenericFilter","filter"]},features:[P([ae(it,K)]),ie]});var Pe=K;var Ht=class Ht{constructor(){this.refresh$=new Me(1);this.filters=[]}register(e){this.filters=this.filters.concat(e),this.update()}unregister(e){this.filters=this.filters.filter(t=>t!==e),this.update()}filter(e){return this.refresh$.pipe(rt(De),Fe(null),V(()=>e.filter(t=>this.check(t))))}check(e){return this.filters.every(t=>t.filter(e))}update(){this.refresh$.next(Zt(...this.filters.map(({refresh$:e})=>e)))}};Ht.\u0275fac=function(t){return new(t||Ht)},Ht.\u0275dir=c({type:Ht,selectors:[["","tuiTableFilters",""]]});var ot=Ht;var jt=class jt{constructor(){this.head=r(N,{optional:!0});this.delegate=r(it);this.control=r(q);this.filters=r(ot);this.key=u(()=>{var e;return this.tuiTableFilter()||((e=this.head)==null?void 0:e.tuiHead())});this.tuiTableFilter=l();this.refresh$=ze(()=>{var e;return Zt(this.control.valueChanges||Ut,((e=this.control.statusChanges)==null?void 0:e.pipe(nt()))||Ut)})}ngOnInit(){this.filters.register(this)}ngOnDestroy(){this.filters.unregister(this)}filter(e){let{disabled:t,value:i}=this.control;return!!t||!this.key()||this.delegate.filter()(e[this.key()],i)}};jt.\u0275fac=function(t){return new(t||jt)},jt.\u0275dir=c({type:jt,selectors:[["","tuiTableFilter",""]],inputs:{tuiTableFilter:[1,"tuiTableFilter"]}});var ke=jt;var Vt=class Vt{constructor(){this.filters=r(ot)}transform(e){return this.filters.filter(e)}};Vt.\u0275fac=function(t){return new(t||Vt)},Vt.\u0275pipe=ee({name:"tuiTableFilters",type:Vt,pure:!0});var we=Vt;export{Ei as a,Te as b,bt as c,N as d,H as e,v as f,j as g,kt as h,Qt as i,ye as j,_e as k,Ce as l,qt as m,Et as n,Xt as o,xe as p,la as q,Ni as r,et as s,ve as t,Oe as u,Pe as v,ot as w,ke as x,we as y};
