import{e as pt,f as mt,g as ht,h as $e,l as Qt,m as Ut}from"./chunk-LS7HM6U5.js";import{a as ne}from"./chunk-HRYRUYNO.js";import{X as ke,b as He,ma as Ae}from"./chunk-JOQES6QA.js";import{m as Xt,n as oe,u as Fe}from"./chunk-QVPSP2I5.js";import{a as G,c as Wt}from"./chunk-CHXDYRBU.js";import{A as Se,I as Oe,M as ze,Na as De,V as dt,W as Le,a as et,aa as Ie,ba as ut,ca as we,d as Yt,da as jt,e as Vt,h as Pe,m as Me,ob as Ne,ya as V}from"./chunk-RBG2DRQN.js";import{p as Te,q as Rt}from"./chunk-RLCHTTEX.js";import{$a as ee,$b as M,$c as Dt,Cc as W,Dc as c,E as se,Eb as l,Ec as R,Fc as $,I as K,Ib as fe,Kc as wt,La as B,Lc as lt,Ma as E,Mc as Y,Na as it,Nb as at,Nc as Q,Oc as T,Pb as It,Pc as Ht,Qb as st,Qc as H,S as le,Sc as _e,Ta as ot,Tc as xe,Uc as be,V as ce,Vb as x,Vc as U,Wa as rt,Wc as I,Xb as J,Xc as z,Yc as N,Za as me,Zc as ve,_a as s,_c as ct,ba as de,bb as he,ed as kt,fd as Bt,gc as C,hc as v,ia as $t,ic as p,id as Ce,ja as Ft,jc as S,kd as Et,ma as ue,mc as b,nc as k,oc as w,pc as y,qc as g,rc as d,sa as pe,sc as u,tc as f,uc as ye,vc as ge,vd as m,w as A,wc as ie,x as q,xc as tt,za as h}from"./chunk-CPS6PD4A.js";var ei=["*"];function ii(n,t){if(n&1){let e=tt();it(),d(0,"svg",5),f(1,"path",6),d(2,"path",7,0),W("tuiHoveredChange",function(o){let r=B(e).$index,a=c();return E(a.onHovered(o,r))}),u()()}if(n&2){let e=t.$index,i=c();p("height",i.getDiameter(e),"rem")("inset-block-start",i.getInset(e),"rem")("inset-inline",i.getInset(e),"rem"),l(2),p("stroke",`var(--tui-chart-categorical-${e.toString().padStart(2,"0")})`)("stroke-dasharray",i.getLength(e),"em")("stroke-dashoffset",i.initialized()?i.getOffset(e):i.getLength(e),"em"),S("t-value_inactive",i.isInactive(e))}}var ni=.76,Be={m:9,l:11,xl:16},oi={m:.25,l:.375,xl:.5625},ri={m:.125,l:.1875,xl:.25},ft=class ft{constructor(){this.initialized=Vt(se(0).pipe(V(),le(1),A(()=>!0)),{initialValue:!1});this.value=s([]);this.size=s("m");this.max=s(100);this.minLabel=s("0%");this.maxLabel=s("100%");this.activeItemIndex=st(NaN)}get width(){return Be[this.size()]}get strokeWidth(){return oi[this.size()]}onHovered(t,e){this.activeItemIndex.set(t?e:NaN)}isInactive(t){return!Number.isNaN(this.activeItemIndex())&&t!==this.activeItemIndex()}getInset(t){return this.strokeWidth/2+t*(this.strokeWidth+ri[this.size()])}getDiameter(t){return Be[this.size()]-2*this.getInset(t)}getLength(t){return Math.PI*this.getDiameter(t)*ni}getOffset(t){return this.getLength(t)*(1-Math.min((this.value()[t]||0)/this.max(),1))}};ft.\u0275fac=function(e){return new(e||ft)},ft.\u0275cmp=x({type:ft,selectors:[["tui-arc-chart"]],hostVars:7,hostBindings:function(e,i){e&2&&(C("data-size",i.size()),p("width",i.width,"rem")("height",i.width,"rem")("stroke-width",i.strokeWidth,"rem"))},inputs:{value:[1,"value"],size:[1,"size"],max:[1,"max"],minLabel:[1,"minLabel"],maxLabel:[1,"maxLabel"],activeItemIndex:[1,"activeItemIndex"]},outputs:{activeItemIndex:"activeItemIndexChange"},ngContentSelectors:ei,decls:13,vars:2,consts:[["arc",""],["focusable","false","viewBox","-100 -100 200 200","xmlns","http://www.w3.org/2000/svg",1,"t-svg",3,"height","inset-block-start","inset-inline"],[1,"t-content"],[1,"t-wrapper"],[1,"t-percent"],["focusable","false","viewBox","-100 -100 200 200","xmlns","http://www.w3.org/2000/svg",1,"t-svg"],["d","M -70 70 A 100 100 0 1 1 70 70","vector-effect","non-scaling-stroke"],["d","M -70 70 A 100 100 0 1 1 70 70","vector-effect","non-scaling-stroke",1,"t-value",3,"tuiHoveredChange"]],template:function(e,i){if(e&1&&(R(),U(0)(1)(2),y(3,ii,4,14,":svg:svg",1,k),d(5,"div",2)(6,"div",3),$(7),u()(),d(8,"div",4)(9,"span"),T(10),u(),d(11,"span"),T(12),u()()),e&2){let o=i.value(),r=i.minLabel(),a=i.maxLabel();l(3),g("-".repeat(o.length)),l(7),Ht(r),l(2),Ht(a)}},dependencies:[Wt],styles:["[_nghost-%COMP%]{position:relative;display:block;flex-shrink:0}.t-svg[_ngcontent-%COMP%]{position:absolute;inset:0;overflow:visible;fill:none;stroke:currentColor;stroke-linecap:round;color:var(--tui-background-neutral-1);font-size:1rem;pointer-events:none}.t-value[_ngcontent-%COMP%]{pointer-events:auto;transition:stroke-dashoffset var(--tui-duration) ease-in-out,opacity var(--tui-duration) ease-in-out .1s}.t-value_inactive[_ngcontent-%COMP%]{transition-property:stroke-dashoffset,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:.16}.t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex;justify-content:center;align-items:center;text-align:center;color:var(--tui-text-secondary);font:var(--tui-font-body-xs);pointer-events:none}[data-size=xl][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{font:var(--tui-font-body-m)}.t-wrapper[_ngcontent-%COMP%]{pointer-events:auto}.t-wrapper[_ngcontent-%COMP%]:first-line{color:var(--tui-text-primary)}[data-size=m][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-body-s);font-weight:700}[data-size=l][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-body-m);font-weight:700}[data-size=xl][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-heading-h5)}.t-percent[_ngcontent-%COMP%]{position:absolute;display:flex;inset-block:auto 11%;inset-inline:25% auto;inline-size:50%;justify-content:space-between;font:var(--tui-font-body-xs);color:var(--tui-text-secondary)}[data-size=xl][_nghost-%COMP%]   .t-percent[_ngcontent-%COMP%]{font:var(--tui-font-body-m)}"],changeDetection:0});var Ee=ft;var ai=["*"];function si(n,t){if(n&1&&(d(0,"div",11),T(1),u()),n&2){c();let e=z(0);l(),H(" ",e," ")}}function li(n,t){if(n&1&&(d(0,"div",13),T(1),u()),n&2){let e=t.$implicit,i=c(3);l(),H(" ",e||i.fallbackLabel," ")}}function ci(n,t){if(n&1&&(d(0,"div",12),y(1,li,2,1,"div",13,w),u()),n&2){c(2);let e=z(2);l(),g(e)}}function di(n,t){if(n&1&&(U(0),M(1,si,2,1,"div",11)(2,ci,3,0,"div",12)),n&2){let e=c(),i=z(3),o=I(e.axisYName());l(),b(o?1:-1),l(),b(i?-1:2)}}function ui(n,t){if(n&1&&f(0,"div",14),n&2){let e=t.$index;c();let i=z(8),o=z(9);p("border-inline-end-style",i(e+1,o))}}function pi(n,t){if(n&1&&f(0,"div",15),n&2){let e=t.$index;c();let i=z(10),o=z(11);p("border-block-start-style",i(e+1,o))}}function mi(n,t){if(n&1&&(d(0,"div",13),T(1),u()),n&2){let e=t.$implicit,i=c(2);l(),H(" ",e||i.fallbackLabel," ")}}function hi(n,t){if(n&1&&(d(0,"div",7),y(1,mi,2,1,"div",13,k),u()),n&2){c();let e=z(2);l(),g(e)}}function fi(n,t){if(n&1&&(d(0,"div",16),T(1),u()),n&2){let e=t.$implicit,i=c(2);l(),H(" ",e||i.fallbackLabel," ")}}function yi(n,t){if(n&1&&(d(0,"div",8),y(1,fi,2,1,"div",16,k),u()),n&2){c();let e=z(0);l(),g(e)}}function gi(n,t){if(n&1&&(d(0,"div",18),T(1),u()),n&2){let e=t.$implicit,i=c(2);S("t-label-x_transparent",e===null),l(),H(" ",e||i.fallbackLabel," ")}}function _i(n,t){if(n&1&&(d(0,"div",10),y(1,gi,2,3,"div",17,k),u()),n&2){let e=c();l(),g(e.axisXLabels())}}function xi(n,t){if(n&1&&(d(0,"div",16),T(1),u()),n&2){let e=t.$implicit,i=c(3);l(),H(" ",e||i.fallbackLabel," ")}}function bi(n,t){if(n&1&&(d(0,"div",19),y(1,xi,2,1,"div",16,w),u()),n&2){c(2);let e=z(0);l(),g(e)}}function vi(n,t){if(n&1&&(d(0,"div",20),T(1),u()),n&2){c();let e=z(1);l(),H(" ",e," ")}}function Ci(n,t){if(n&1&&(M(0,bi,3,0,"div",19),U(1),M(2,vi,2,1,"div",20)),n&2){let e=c(),i=z(1);b(i?-1:0),l();let o=I(e.axisYSecondaryName());l(),b(o?2:-1)}}var Ti=n=>n&&"dashed"||"solid";var Pi=()=>"solid",bn=()=>"none",yt=class yt{constructor(){this.axisXLabels=s([]);this.axisYInset=s(!1);this.axisYLabels=s([]);this.axisYName=s("");this.axisYSecondaryInset=s(!1);this.axisYSecondaryLabels=s([]);this.axisYSecondaryName=s("");this.centeredXLabels=s(!1);this.horizontalLines=s(1);this.horizontalLinesHandler=s(Pi);this.verticalLines=s(1);this.verticalLinesHandler=s(Ti);this.fallbackLabel=Se;this.hasXLabels=m(()=>!!this.axisXLabels().length);this.hasYLabels=m(()=>this.axisYLabels().length&&!this.axisYInset()||!!this.axisYName());this.hasYSecondaryLabels=m(()=>this.axisYSecondaryLabels().length&&!this.axisYSecondaryInset()||!!this.axisYSecondaryName())}};yt.\u0275fac=function(e){return new(e||yt)},yt.\u0275cmp=x({type:yt,selectors:[["tui-axes"]],hostAttrs:["dir","ltr"],hostVars:2,hostBindings:function(e,i){e&2&&S("_centered",i.centeredXLabels())},inputs:{axisXLabels:[1,"axisXLabels"],axisYInset:[1,"axisYInset"],axisYLabels:[1,"axisYLabels"],axisYName:[1,"axisYName"],axisYSecondaryInset:[1,"axisYSecondaryInset"],axisYSecondaryLabels:[1,"axisYSecondaryLabels"],axisYSecondaryName:[1,"axisYSecondaryName"],centeredXLabels:[1,"centeredXLabels"],horizontalLines:[1,"horizontalLines"],horizontalLinesHandler:[1,"horizontalLinesHandler"],verticalLines:[1,"verticalLines"],verticalLinesHandler:[1,"verticalLinesHandler"]},ngContentSelectors:ai,decls:26,vars:21,consts:[[1,"t-side"],[1,"t-wrapper"],[1,"t-grid"],[1,"t-vertical"],["automation-id","tui-axex__vertical-line",1,"t-line","t-line_vertical",3,"border-inline-end-style"],[1,"t-horizontal"],["automation-id","tui-axex__horizontal-line",1,"t-line",3,"border-block-start-style"],[1,"t-labels-y","t-labels-y_inset"],[1,"t-labels-y","t-labels-y_inset","t-labels-y_inset_secondary"],[1,"t-content"],[1,"t-labels-x"],["automation-id","tui-axex__axis-y-name",1,"t-name","t-name_primary"],[1,"t-labels-y","t-labels-y_primary"],["automation-id","tui-axex__axis-y-label",1,"t-label-y"],["automation-id","tui-axex__vertical-line",1,"t-line","t-line_vertical"],["automation-id","tui-axex__horizontal-line",1,"t-line"],["automation-id","tui-axex__axis-y-secondary-label",1,"t-label-y"],["automation-id","tui-axex__axis-x-label",1,"t-label-x",3,"t-label-x_transparent"],["automation-id","tui-axex__axis-x-label",1,"t-label-x"],[1,"t-labels-y","t-labels-y_secondary"],["automation-id","tui-axex__axis-y-secondary-name",1,"t-name"]],template:function(e,i){if(e&1&&(R(),U(0)(1)(2)(3)(4),d(5,"div",0),M(6,di,3,3),u(),d(7,"div",1),U(8)(9)(10)(11),d(12,"div",2)(13,"div",3),y(14,ui,1,2,"div",4,k),u(),d(16,"div",5),y(17,pi,1,2,"div",6,k),u(),M(19,hi,3,0,"div",7)(20,yi,3,0,"div",8),d(21,"div",9),$(22),u()(),M(23,_i,3,0,"div",10),u(),d(24,"div",0),M(25,Ci,3,3),u()),e&2){I(i.axisYSecondaryLabels()),l();let o=I(i.axisYSecondaryInset());l(),I(i.axisYLabels()),l();let r=I(i.axisYInset()),a=i.hasXLabels();l(2),S("t-side_padding",a),l(),b(i.hasYLabels()?6:-1),l(2);let _=I(i.verticalLinesHandler());l();let P=I(i.verticalLines());l();let O=I(i.horizontalLinesHandler());l();let L=I(i.horizontalLines());l(),p("border-block-end-style",O(0,L))("border-inline-start-style",_(0,P)),l(2),g("-".repeat(P-1)),l(3),g("-".repeat(L-1)),l(2),b(r?19:-1),l(),b(o?20:-1),l(3),b(a?23:-1),l(),S("t-side_padding",a),l(),b(i.hasYSecondaryLabels()?25:-1)}},styles:['[_nghost-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;grid-template-rows:1fr auto;block-size:100%}.t-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr auto;grid-row:span 2}.t-grid[_ngcontent-%COMP%]{position:relative;display:flex;flex:1;justify-content:space-around;align-items:flex-end;border-width:1px;border-color:var(--tui-border-normal);isolation:isolate;grid-row:1}.t-horizontal[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex;flex-direction:column}.t-vertical[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex}._centered[_nghost-%COMP%]   .t-vertical[_ngcontent-%COMP%]:after{content:"";display:block;flex:1 0 1px}.t-line[_ngcontent-%COMP%]{flex:2 0 1px;box-sizing:border-box;border-width:1px;border-color:var(--tui-border-normal)}._centered[_nghost-%COMP%]   .t-line_vertical[_ngcontent-%COMP%]:first-child{flex:1 0 1px;pointer-events:none}.t-side[_ngcontent-%COMP%]{display:flex;align-items:stretch}.t-side_padding[_ngcontent-%COMP%]{padding-block-end:2rem}.t-name[_ngcontent-%COMP%]{font:var(--tui-font-body-xs);writing-mode:tb;text-align:center;padding-block-end:.75rem;color:var(--tui-text-secondary)}.t-name_primary[_ngcontent-%COMP%]{transform:rotate(180deg)}.t-labels-y[_ngcontent-%COMP%]{display:flex;font:var(--tui-font-body-xs);flex-direction:column-reverse;justify-content:space-between;color:var(--tui-text-secondary)}.t-labels-y_primary[_ngcontent-%COMP%]{text-align:end;padding-inline-end:.75rem}.t-labels-y_secondary[_ngcontent-%COMP%]{padding-inline-start:.75rem}.t-labels-y_transparent[_ngcontent-%COMP%]{border-color:transparent}.t-labels-y_inset[_ngcontent-%COMP%]{position:absolute;inset-block:.5625rem -.75rem;inset-inline:.25rem auto;pointer-events:none}.t-labels-y_inset_secondary[_ngcontent-%COMP%]{inset-inline:auto .25rem;text-align:end}.t-labels-x[_ngcontent-%COMP%]{position:relative;display:flex;font:var(--tui-font-body-xs);border-inline-end:1px solid transparent;color:var(--tui-text-secondary)}.t-label-x[_ngcontent-%COMP%]{flex:1}.t-label-x[_ngcontent-%COMP%]:before{content:"";display:block;block-size:.5625rem;border-inline-start:1px solid var(--tui-border-normal)}.t-label-x[_ngcontent-%COMP%]:last-of-type:before{border:none}.t-label-x_transparent[_ngcontent-%COMP%]{border-color:transparent}._centered[_nghost-%COMP%]   .t-label-x[_ngcontent-%COMP%]{block-size:2rem;text-align:center;margin:0}._centered[_nghost-%COMP%]   .t-label-x[_ngcontent-%COMP%]:before{border:none}[_nghost-%COMP%]:not(._centered)   .t-label-x[_ngcontent-%COMP%]:last-child:not(:first-child){position:absolute;inset-inline-end:0;text-align:end;border-inline-start:none}.t-label-y[_ngcontent-%COMP%]:first-child{margin-block-end:-.375rem}.t-label-y[_ngcontent-%COMP%]:last-child{margin-block-start:-.375rem}.t-content[_ngcontent-%COMP%]{position:absolute;display:flex;inset-block:0 -1px;inset-inline:-1px 0;align-items:flex-end}'],changeDetection:0});var Re=yt;function Mi(n,t){if(n&1&&f(0,"div",1),n&2){let e=t.$implicit,i=t.$index,o=c();p("background",`var(--tui-chart-categorical-${i.toString().padStart(2,"0")})`)("height",o.getHeight(e),"%")}}var gt=class gt{constructor(){this.sum=m(()=>dt(...this.value()));this.value=s([]);this.size=s("m")}getHeight(t){return 100*t/this.sum()}};gt.\u0275fac=function(e){return new(e||gt)},gt.\u0275cmp=x({type:gt,selectors:[["tui-bar"]],hostVars:1,hostBindings:function(e,i){e&2&&C("data-size",i.size())},inputs:{value:[1,"value"],size:[1,"size"]},decls:2,vars:0,consts:[["automation-id","tui-bar__bar",3,"background","height"],["automation-id","tui-bar__bar"]],template:function(e,i){e&1&&y(0,Mi,1,4,"div",0,w),e&2&&g(i.value())},styles:["[_nghost-%COMP%]{display:flex;min-inline-size:.125rem;flex-direction:column-reverse;border-top-left-radius:var(--tui-radius-l);border-top-right-radius:var(--tui-radius-l);overflow:hidden}[data-size=l][_nghost-%COMP%]{inline-size:1rem;max-inline-size:1rem;margin:0 .1875rem}[data-size=m][_nghost-%COMP%]{inline-size:.5rem;max-inline-size:.5rem;margin:0 .1875rem}[data-size=s][_nghost-%COMP%]{inline-size:.25rem;max-inline-size:.5rem;margin:0 .125rem}"],changeDetection:0});var Gt=gt;var Si=["*"],Oi=(n,t)=>({$implicit:n,index:t,flexible:!1}),zi=(n,t)=>({$implicit:n,index:t,flexible:!0});function Li(n,t){if(n&1&&ie(0,2),n&2){let e=t.$implicit,i=t.$index;c(2);let o=Q(3);v("ngTemplateOutlet",o)("ngTemplateOutletContext",Dt(2,Oi,e,i))}}function Ii(n,t){if(n&1&&y(0,Li,1,5,"ng-container",2,w),n&2){let e=c();g(e.computedValue())}}function wi(n,t){if(n&1&&(d(0,"div",3),ie(1,2),u()),n&2){let e=t.$implicit,i=t.$index;c(2);let o=Q(3);l(),v("ngTemplateOutlet",o)("ngTemplateOutletContext",Dt(2,zi,e,i))}}function Hi(n,t){if(n&1&&y(0,wi,2,5,"div",3,w),n&2){let e=c();g(e.computedValue())}}function Di(n,t){if(n&1&&f(0,"tui-bar",4),n&2){let e=t.flexible,i=t.index,o=t.$implicit,r=c();p("background",`var(--tui-chart-categorical-${i.toString().padStart(2,"0")})`)("height",r.getHeight(o),"%"),S("t-bar_flexible",e)("t-bar_negative",o<0),v("size",r.size()||"m")("value",r.computedSegments())}}var _t=class _t{constructor(){this.largest=m(()=>this.computedValue().some(t=>t>0)?this.computedValue().reduce((t,e)=>t>e?t:e,0):Math.abs(this.computedValue().reduce((t,e)=>t<e?t:e,0)));this.value=s([]);this.size=s("m");this.collapsed=s(!1);this.computedValue=m(()=>this.collapsed()?[1]:this.value());this.computedSegments=m(()=>this.collapsed()?this.value():[])}getHeight(t){return Math.abs(100*t/this.largest())}};_t.\u0275fac=function(e){return new(e||_t)},_t.\u0275cmp=x({type:_t,selectors:[["tui-bar-set"]],inputs:{value:[1,"value"],size:[1,"size"],collapsed:[1,"collapsed"]},ngContentSelectors:Si,decls:6,vars:1,consts:[["bar",""],[1,"t-label"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"t-wrapper"],["automation-id","tui-bar-set__bar",1,"t-bar",3,"size","value"]],template:function(e,i){e&1&&(R(),M(0,Ii,2,0)(1,Hi,2,0)(2,Di,1,10,"ng-template",null,0,Et),d(4,"span",1),$(5),u()),e&2&&b(i.size()?0:1)},dependencies:[Te,Gt],styles:["[_nghost-%COMP%]{position:relative;display:flex;block-size:100%;align-items:flex-end;justify-content:center}.t-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;block-size:100%;align-items:flex-end}.t-wrapper[_ngcontent-%COMP%]:first-of-type{margin-inline-start:25%}.t-wrapper[_ngcontent-%COMP%]:last-of-type{margin-inline-end:25%}.t-bar[_ngcontent-%COMP%]{transform-origin:bottom center}.t-bar_negative[_ngcontent-%COMP%]{transform:rotate(180deg);opacity:var(--tui-disabled-opacity)}.t-bar.t-bar_flexible[_ngcontent-%COMP%]{max-inline-size:none;inline-size:75%;margin:0 auto}.t-label[_ngcontent-%COMP%]{position:absolute;inset-block-start:-1.5rem;font:var(--tui-font-body-xs);color:var(--tui-text-secondary)}"],changeDetection:0});var Zt=_t;var xt=class xt{constructor(){this.content=s("",{alias:"tuiHintContent"});this.appearance=s("",{alias:"tuiHintAppearance"})}};xt.\u0275fac=function(e){return new(e||xt)},xt.\u0275dir=J({type:xt,selectors:[["","tuiHintContent",""]],inputs:{content:[1,"tuiHintContent","content"],appearance:[1,"tuiHintAppearance","appearance"]}});var j=xt;var ki=n=>({$implicit:n});function Ni(n,t){if(n&1){let e=tt();d(0,"div",2),kt(1,"async"),W("click",function(){let o=B(e).$index,r=c();return E(r.tapColumn.emit(o))})("keydown.enter",function(){let o=B(e).$index,r=c();return E(r.tapColumn.emit(o))})("mouseenter.once",function(){return B(e),E(0)}),d(2,"div",3),kt(3,"tuiMapper"),f(4,"div",4,0)(6,"tui-bar-set",5),u()()}if(n&2){let e=t.$implicit,i=t.$index,o=Q(5),r=c();S("t-wrapper_hoverable",!!r.hintContent)("t-wrapper_hovered",Bt(1,16,r.drivers()[i])),v("tuiHint",r.hintContent)("tuiHintAppearance",r.hintAppearance)("tuiHintContext",ct(23,ki,i))("tuiHintDescribe",r.getHintId(i))("tuiHintHost",o),l(2),p("height",Ce(3,18,e,r.percentMapper,r.collapsed(),r.computedMax()),"%"),l(4),v("collapsed",r.collapsed())("id",r.getHintId(i))("size",r.size())("tabIndex",r.hintContent?0:-1)("value",e)}}var bt=class bt{constructor(){this.hintOptions=h(j,{optional:!0});this.autoId=ut();this.getMax=m(()=>this.collapsed()?Math.max(...this.value().reduce((t,e)=>t.map((i,o)=>i+(e[o]||0)))):this.value().reduce((t,e)=>Math.max(...e,t),0));this.transposed=m(()=>this.value().reduce((t,e)=>e.map((i,o)=>[...t[o]||[],e[o]||0]),[]));this.drivers=at(mt);this.value=s([]);this.max=s(NaN);this.size=s("m");this.collapsed=s(!1);this.tapColumn=me();this.computedMax=m(()=>this.max()||this.getMax());this.percentMapper=(t,e,i)=>100*(e?dt(...t):Math.max(...t))/i}get hintContent(){var t;return((t=this.hintOptions)==null?void 0:t.content())||""}get hintAppearance(){var t;return((t=this.hintOptions)==null?void 0:t.appearance())||""}getHintId(t){return`${this.autoId}_${t}`}};bt.\u0275fac=function(e){return new(e||bt)},bt.\u0275cmp=x({type:bt,selectors:[["tui-bar-chart"]],viewQuery:function(e,i){e&1&&lt(i.drivers,mt,5),e&2&&Y()},inputs:{value:[1,"value"],max:[1,"max"],size:[1,"size"],collapsed:[1,"collapsed"]},outputs:{tapColumn:"tapColumn"},features:[N([],[pt({direction:"top"})])],decls:2,vars:0,consts:[["hintHost",""],[1,"t-wrapper",3,"t-wrapper_hoverable","t-wrapper_hovered","tuiHint","tuiHintAppearance","tuiHintContext","tuiHintDescribe","tuiHintHost"],[1,"t-wrapper",3,"click","keydown.enter","mouseenter.once","tuiHint","tuiHintAppearance","tuiHintContext","tuiHintDescribe","tuiHintHost"],[1,"t-container"],[1,"t-host"],[1,"t-set",3,"collapsed","id","size","tabIndex","value"]],template:function(e,i){e&1&&y(0,Ni,7,25,"div",1,k),e&2&&g(i.transposed())},dependencies:[Rt,Zt,ht,Qt,Ut,Fe],styles:["[_nghost-%COMP%]{display:flex;flex:1;block-size:100%}.t-wrapper[_ngcontent-%COMP%]{transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;display:flex;flex:1;align-items:flex-end;justify-content:center;block-size:100%}.t-wrapper_hoverable[_ngcontent-%COMP%]{cursor:pointer}.t-wrapper_hoverable[_ngcontent-%COMP%]:hover, .t-wrapper_hoverable.t-wrapper_hovered[_ngcontent-%COMP%]{background-color:#0000000d}.t-container[_ngcontent-%COMP%]{flex:1}.t-host[_ngcontent-%COMP%]{position:absolute;inset-inline:50%}.t-set[_ngcontent-%COMP%]{border-radius:var(--tui-radius-m);pointer-events:none;outline:none}.t-set[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px var(--tui-border-focus)}"],changeDetection:0});var Ye=bt;var Ai=[[["","tuiCheckbox",""]],"*"],$i=["[tuiCheckbox]","*"],vt=class vt{constructor(){this.active=s(!1);this.color=s("");this.text=s("");this.size=s("m");this.disabled=s(!1)}};vt.\u0275fac=function(e){return new(e||vt)},vt.\u0275cmp=x({type:vt,selectors:[["tui-legend-item"]],hostVars:5,hostBindings:function(e,i){e&2&&(C("data-size",i.size()),p("--tui-background-accent-1",i.color()==="var(--tui-background-accent-1)"?null:i.color()),S("_disabled",i.disabled()))},inputs:{active:[1,"active"],color:[1,"color"],text:[1,"text"],size:[1,"size"],disabled:[1,"disabled"]},ngContentSelectors:$i,decls:7,vars:4,consts:[["appearance","outline-grayscale","size","s","tuiButton","","type","button",1,"t-button",3,"tuiAppearanceState"],[1,"t-wrapper"],[1,"t-dot"],[1,"t-text"]],template:function(e,i){e&1&&(R(Ai),d(0,"button",0)(1,"div",1),$(2),f(3,"span",2),d(4,"span",3),T(5),u(),$(6,1),u()()),e&2&&(v("tuiAppearanceState",i.active()?"hover":null),l(3),p("background-color",i.color()||"var(--tui-background-accent-1)"),l(2),Ht(i.text()))},dependencies:[ke],styles:["[_nghost-%COMP%]{display:inline-block}.t-button[_ngcontent-%COMP%]{block-size:2rem;font-weight:700}[data-size=m][_nghost-%COMP%]   .t-button[_ngcontent-%COMP%]{block-size:2.25rem;font:var(--tui-font-body-m);font-weight:700}.t-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;pointer-events:none}._disabled[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{color:var(--tui-text-tertiary)}.t-dot[_ngcontent-%COMP%]{inline-size:.5rem;block-size:.5rem;border-radius:100%;flex-shrink:0}._disabled[_nghost-%COMP%]   .t-dot[_ngcontent-%COMP%]{background:var(--tui-border-normal)}.t-dot[_ngcontent-%COMP%]:not(:first-child){display:none}.t-text[_ngcontent-%COMP%]{margin:0 .5rem;font-weight:400}"],changeDetection:0});var je=vt;function Xe(n,t){let e=t[0]-n[0],i=t[1]-n[1];return Math.atan2(i,e)}function We(n,t){let e=t[0]-n[0],i=t[1]-n[1];return Math.sqrt(e**2+i**2)}function re(n,t,e,i=!1,o=.2){let r=n||[0,0],a=t||n||[0,0],_=e||n||[0,0],P=Xe(a,_)+(i?Math.PI:0),O=We(a,_)*o,L=r[0]+Math.cos(P)*O,X=r[1]+Math.sin(P)*O;return[L,X]}var Fi="M 100 0 A 100 100 0 1 1 100 0 L 0 0";function Qe(n){return n*Math.PI/180}function Ue(n=0,t=0){let e=Qe(n),i=Qe(t),o=Math.cos(e)*100,r=Math.sin(e)*100,a=Math.cos(i)*100,_=Math.sin(i)*100,P=Le(t-n>180),O=["M",o,r,"A 100 100 0",P,1,a,_,"L 0 0"];return Number.isNaN(a)?Fi:O.join(" ")}function Ge(n,t,e){let[i,o]=re(n[t-1],n[t-2],n[t],!1,e),[r,a]=re(n[t],n[t-1],n[t+1],!0,e),_=n[t]??[0,0];return`C ${i},${o} ${r},${a} ${_[0]},${_[1]}`}function Ze(n){return`L ${n}`}var Bi=500;function qe(n,t,e){let i=[...n[t]??[0,0]];return e?Ge(n,t,e/Bi):Ze([i[0],i[1]])}var Ei={dots:!1,filled:!1,smoothingFactor:0},[qt,zo]=Oe(Ei);var Ri=(n,t)=>({$implicit:n,index:t});function Yi(n,t){if(n&1&&f(0,"div",8),n&2){let e=t.$implicit,i=c(2);p("inset-block-end",i.getBottom(e[1]),"%")("inset-inline-start",i.getLeft(e[0]),"%")}}function Vi(n,t){if(n&1&&y(0,Yi,1,4,"div",7,w),n&2){let e=c();g(e.value())}}function ji(n,t){if(n&1){let e=tt();d(0,"div",11),kt(1,"async"),W("mouseenter",function(){B(e);let o=c().$index,r=c(2);return E(r.onMouseEnter(o))}),f(2,"div",12)(3,"div",13,0),u()}if(n&2){let e=Q(4),i=c(),o=i.$implicit,r=i.$index,a=c(2);p("inset-inline-start",a.getLeft(a.getX(r)),"%")("width",a.getWidth(r),"%"),S("t-column_hint_hovered",Bt(1,20,a.drivers()[r]))("t-column_hovered",a.hovered()===r),v("tuiHint",(a.hintDirective==null?null:a.hintDirective.hint())||a.hintContent)("tuiHintContext",Dt(22,Ri,a.getImplicit(o),r))("tuiHintDescribe",a.isFocusable?a.getHintId(r):null)("tuiHintHost",e),l(2),p("inset-inline-start",a.getOffset(r),"%"),l(),p("inset-block-end",a.getBottom(o[1]),"%")("inset-inline-start",a.getOffset(r),"%"),v("id",a.getHintId(r))("tabIndex",a.isFocusable?0:-1)}}function Xi(n,t){if(n&1&&f(0,"div",14),n&2){let e=c().$implicit,i=c(2);p("inset-block-end",i.getBottom(e[1]),"%")}}function Wi(n,t){if(n&1&&M(0,ji,5,25,"div",9)(1,Xi,1,2,"div",10),n&2){let e=t.$count,i=c(2);b(e>1||i.dots()?0:-1),l(),b(i.isFocusable?1:-1)}}function Qi(n,t){if(n&1&&y(0,Wi,2,2,null,null,w),n&2){let e=c();g(e.value())}}function Ui(n,t){if(n&1&&(d(0,"div",17),T(1),u()),n&2){let e=c(),i=z(0),o=c();p("inset-inline-start",o.getLeft(e[0]),"%"),l(),H(" ",i(e[0])," ")}}function Gi(n,t){if(n&1&&(d(0,"div",18),T(1),u()),n&2){let e=c(),i=z(1),o=c();p("inset-block-end",o.getBottom(e[1]),"%"),l(),H(" ",i(e[1])," ")}}function Zi(n,t){if(n&1&&(U(0)(1),M(2,Ui,2,3,"div",15)(3,Gi,2,3,"div",16)),n&2){let e=c(),i=I(e.xStringify());l();let o=I(e.yStringify());l(),b(i?2:-1),l(),b(o?3:-1)}}var Ct=class Ct{constructor(){this.options=h(qt);this.autoId=ut();this.resize=Vt(h(ne,{self:!0}).pipe(A(([t])=>(t==null?void 0:t.contentRect.height)||NaN),K(t=>!Number.isNaN(t))),{initialValue:NaN});this.box=m(()=>`${this.x()} ${this.y()} ${this.width()} ${this.height()}`);this.hintDirective=h(Tt,{optional:!0});this.hintOptions=h(j,{optional:!0});this.viewBox=m(()=>{if(Number.isNaN(this.resize()))return"0 0 0 0";let t=this.height()/Math.max(this.resize(),1),[e=0,i=0,o=0,r=0]=this.box().split(" ").map(Number);return`${e} ${i-t} ${o} ${r+2*t}`});this.d=m(()=>this.value().reduce((t,e,i)=>i?`${t} ${qe(this.value(),i,this.smoothingFactor())}`:`M ${e}`,""));this.fillD=m(()=>{var t,e;return this.value().length?`${this.d()}V ${this.y()} H ${(t=this.value()[0])==null?void 0:t[0]} V ${(e=this.value()[0])==null?void 0:e[1]}`:this.d()});this.drivers=at(mt);this.drivers$=Yt(this.drivers);this.x=s(0);this.y=s(0);this.width=s(0);this.height=s(0);this.smoothingFactor=s(this.options.smoothingFactor);this.xStringify=s(null);this.yStringify=s(null);this.filled=s(this.options.filled);this.dots=s(this.options.dots);this.value=s([],{transform:t=>t.filter(e=>!e.some(Number.isNaN))});this.hovered=he(NaN)}onHovered(t){this.hovered.set(t)}get hintContent(){var t;return((t=this.hintOptions)==null?void 0:t.content())||""}get fillId(){return`tui-line-chart-${this.autoId}`}get fill(){return this.filled()?`url(#${this.fillId})`:"none"}get isFocusable(){return!this.hintDirective&&this.hasHints}get hasHints(){var t;return!!this.xStringify()||!!this.yStringify()||!!((t=this.hintDirective)!=null&&t.hint())||!!this.hintContent}onMouseLeave(){this.hintDirective||this.onHovered(NaN)}getX(t){var e,i,o,r;return this.isSinglePoint?(((e=this.value()[0])==null?void 0:e[0])||0)/2:t?((((i=this.value()[t-1])==null?void 0:i[0])||0)+(((o=this.value()[t])==null?void 0:o[0])||0))/2:2*(((r=this.value()[0])==null?void 0:r[0])||0)-this.getX(1)}getWidth(t){return 100*this.computeWidth(t)/this.width()}getHintId(t){return`${this.autoId}_${t}`}getImplicit(t){var e;return((e=this.hintDirective)==null?void 0:e.getContext(this.value().indexOf(t),this))??t}getHovered(t){return jt(t)&&Number.isInteger(t)?this.value()[t]??null:null}getBottom(t){return 100*(t-this.y())/this.height()}getLeft(t){return 100*(t-this.x())/this.width()}getOffset(t){var e;return 100*((((e=this.value()[t])==null?void 0:e[0])||0)-this.getX(t))/this.computeWidth(t)}onMouseEnter(t){this.hintDirective?this.hintDirective.raise(t,this):this.onHovered(t)}get isSinglePoint(){return this.value().length===1}computeWidth(t){var e;return t===this.value().length-1?2*((((e=this.value()[t])==null?void 0:e[0])||0)-this.getX(t)):this.getX(t+1)-this.getX(t)}};Ct.\u0275fac=function(e){return new(e||Ct)},Ct.\u0275cmp=x({type:Ct,selectors:[["tui-line-chart"]],viewQuery:function(e,i){e&1&&lt(i.drivers,mt,5),e&2&&Y()},hostBindings:function(e,i){e&1&&W("mouseleave",function(){return i.onMouseLeave()})},inputs:{x:[1,"x"],y:[1,"y"],width:[1,"width"],height:[1,"height"],smoothingFactor:[1,"smoothingFactor"],xStringify:[1,"xStringify"],yStringify:[1,"yStringify"],filled:[1,"filled"],dots:[1,"dots"],value:[1,"value"]},features:[N([ne],[pt({direction:"top",hideDelay:0})])],decls:10,vars:8,consts:[["hintHost",""],["focusable","false","height","100%","preserveAspectRatio","none","width","100%","xmlns","http://www.w3.org/2000/svg",1,"t-svg"],["x1","0","x2","0","y1","1","y2","0"],["offset","0%","stop-color","currentColor","stop-opacity","0.5"],["offset","100%","stop-color","currentColor","stop-opacity","0"],["stroke","none"],["fill","none","stroke","currentColor","stroke-width","2","vector-effect","non-scaling-stroke"],[1,"t-dot",3,"inset-block-end","inset-inline-start"],[1,"t-dot"],[1,"t-column",3,"t-column_hint_hovered","t-column_hovered","inset-inline-start","width","tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost"],[1,"t-line","t-line_horizontal",3,"inset-block-end"],[1,"t-column",3,"mouseenter","tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost"],[1,"t-line","t-line_vertical"],[1,"t-host",3,"id","tabIndex"],[1,"t-line","t-line_horizontal"],[1,"t-hint","t-hint_x",3,"inset-inline-start"],[1,"t-hint","t-hint_y",3,"inset-block-end"],[1,"t-hint","t-hint_x"],[1,"t-hint","t-hint_y"]],template:function(e,i){if(e&1&&(it(),d(0,"svg",1)(1,"defs")(2,"linearGradient",2),f(3,"stop",3)(4,"stop",4),u()(),f(5,"path",5)(6,"path",6),u(),M(7,Vi,2,0)(8,Qi,2,0)(9,Zi,4,4)),e&2){let o;C("viewBox",i.viewBox()),l(2),C("id",i.fillId),l(3),C("d",i.fillD())("fill",i.fill),l(),C("d",i.d()),l(),b(i.dots()?7:-1),l(),b(i.hasHints?8:-1),l(),b((o=i.getHovered(i.hovered()))?9:-1,o)}},dependencies:[Rt,ht,Qt,Ut],styles:['[_nghost-%COMP%]{display:flex;inline-size:100%;block-size:100%;pointer-events:none}.t-svg[_ngcontent-%COMP%]{block-size:calc(100% + 1px);transform:scaleY(-1);margin:-.03125rem 0}.t-column[_ngcontent-%COMP%]{position:absolute;inset-block-start:0;block-size:100%;pointer-events:auto}.t-dot[_ngcontent-%COMP%]{position:absolute;inline-size:.375rem;block-size:.375rem;border-radius:100%;background:currentColor;margin:-.1875rem;box-shadow:0 0 0 2px #fff}.t-host[_ngcontent-%COMP%]{position:absolute;inset-inline-start:50%;inline-size:.5rem;block-size:.5rem;border-radius:100%;opacity:0;background:#fff;margin:-.25rem;box-shadow:0 0 0 2px currentColor,0 .0625rem .1875rem .125rem #0000001a;outline:none;pointer-events:none}.t-host[_ngcontent-%COMP%]:focus, .t-column_hovered[_ngcontent-%COMP%]   .t-host[_ngcontent-%COMP%], .t-column[_ngcontent-%COMP%]:hover   .t-host[_ngcontent-%COMP%], .t-column_hint_hovered[_ngcontent-%COMP%]   .t-host[_ngcontent-%COMP%]{opacity:1}.t-line[_ngcontent-%COMP%]{position:absolute;opacity:0;background:var(--tui-border-normal)}.t-line_vertical[_ngcontent-%COMP%]{inset-block:0;inset-inline:50% auto;inline-size:1px}.t-line_horizontal[_ngcontent-%COMP%]{z-index:-1;inline-size:100%;block-size:1px}[style^="z-index: 0"][_nghost-%COMP%]   .t-column_hovered[_ngcontent-%COMP%]   .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column[_ngcontent-%COMP%]:hover   .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column_hint_hovered[_ngcontent-%COMP%]   .t-line[_ngcontent-%COMP%], [style^="z-index: 0"][_nghost-%COMP%]   .t-column_hovered[_ngcontent-%COMP%] + .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column[_ngcontent-%COMP%]:hover + .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column_hint_hovered[_ngcontent-%COMP%] + .t-line[_ngcontent-%COMP%]{opacity:1}.t-hint[_ngcontent-%COMP%]{position:absolute;box-shadow:var(--tui-shadow-small);font:var(--tui-font-body-xs);block-size:1.25rem;line-height:1.25rem;margin-block-end:-.625rem;padding:0 .375rem;white-space:nowrap;color:var(--tui-text-primary);background:var(--tui-background-base);transform:translate3d(-50%,0,0)}.t-hint_x[_ngcontent-%COMP%]{inset-block-end:0}.t-hint_y[_ngcontent-%COMP%]{inset-inline-start:0}'],changeDetection:0});var F=Ct;var Pt=class Pt{constructor(){this.charts=It(F);this.chartsRef=It(F,{read:ee});this.renderer=h(fe);this.destroyRef=h(ot);this.zone=h(rt);this.hovered$=h(G);this.computedContext=m((t=this.charts().map(({value:e})=>e()))=>(t[0]||[]).map((e,i)=>t.map(o=>o[i]??[0,0])));this.hint=s("",{alias:"tuiLineChartHint"})}ngAfterViewInit(){q([Nt(this.charts()),this.hovered$]).pipe(K(t=>!t.some(Boolean)),V(this.zone),et(this.destroyRef)).subscribe(()=>{this.charts().forEach(t=>t.onHovered(NaN))})}getContext(t,e){return this.computedContext()[t]||[]}raise(t,e){let i=this.charts().map(r=>r.value()[t]??[0,0]),o=[...i].sort((r,a)=>r[1]-a[1]);this.charts().forEach(r=>r.onHovered(t)),this.chartsRef().forEach(({nativeElement:r},a)=>this.renderer.setStyle(r,"z-index",o.indexOf(i[a]??[0,0])))}};Pt.\u0275fac=function(e){return new(e||Pt)},Pt.\u0275dir=J({type:Pt,selectors:[["","tuiLineChartHint",""]],contentQueries:function(e,i,o){e&1&&(wt(o,i.charts,F,4),wt(o,i.chartsRef,F,4,ee)),e&2&&Y(2)},inputs:{hint:[1,"tuiLineChartHint","hint"]},features:[N([G])]});var Tt=Pt;function Nt(n){return q(n.map(({drivers$:t})=>t.pipe(A(e=>e.map(i=>i.pipe($t(!1))))))).pipe(A(t=>t.reduce((e,i)=>e.concat(i),[])),Ft(t=>q(t)),A(t=>t.some(Boolean)),ce())}var qi=n=>({$implicit:n});function Ki(n,t){if(n&1&&f(0,"tui-line-chart",2),n&2){let e,i,o=t.$implicit,r=t.$index,a=c(),_=Q(3);p("z-index",a.zIndex),v("dots",a.dots())("height",a.height())("smoothingFactor",a.smoothingFactor())("tuiHintContent",a.hintContent()?_:"")("value",o)("width",r===0?a.firstWidth:a.getWidth((e=o[0]==null?null:o[0][0])!==null&&e!==void 0?e:0))("x",r===0?0:a.getX((i=o[0]==null?null:o[0][0])!==null&&i!==void 0?i:0))("xStringify",a.xStringify()?a.daysStringify:null)("y",a.y())("yStringify",a.yStringify())}}function Ji(n,t){if(n&1&&(ye(0),T(1),ge()),n&2){let e=t.polymorpheusOutlet;l(),H(" ",e," ")}}function tn(n,t){if(n&1&&M(0,Ji,2,1,"ng-container",3),n&2){let e=t.$implicit,i=c();v("polymorpheusOutlet",i.hintContent())("polymorpheusOutletContext",ct(2,qi,i.getHintContext(e[0],i.value())))}}var en=[NaN,NaN],nt=class nt{constructor(){this.destroyRef=h(ot);this.zone=h(rt);this.hovered$=h(G);this.options=h(qt);this.hintDirective=h(Kt,{optional:!0});this.brokenMonths=m(()=>{var r,a,_;let t=this.value(),e=(((r=t[0])==null?void 0:r[0].day)||1)-1,i=(a=t[0])==null?void 0:a[0],o=(_=t[t.length-1])==null?void 0:_[0];return Array.from({length:i&&o?Xt.lengthBetween(i,o)+1:0},(P,O)=>O+((i==null?void 0:i.month)||0)+((i==null?void 0:i.year)||0)*12).map(P=>t.map(([{month:O,year:L},X],Lt)=>O+L*12===P?[Lt+e,X]:null).filter(jt)).map((P,O,L)=>{var X;return O===L.length-1?P:[...P,((X=L[O+1])==null?void 0:X.find(Lt=>!Number.isNaN(Lt[1])))||en]})});this.charts=at(F);this.y=s(0);this.height=s(0);this.smoothingFactor=s(this.options.smoothingFactor);this.hintContent=s();this.xStringify=s(null);this.yStringify=s(null);this.dots=s(this.options.dots);this.zIndex=0;this.value=s([],{transform:t=>{var a;if(!t.length)return[];let e=(a=t[0])==null?void 0:a[0],i=t[t.length-1],o=[...t],r=e&&i?oe.lengthBetween(e,i[0])+1:0;return Array.from({length:r},(_,P)=>{var ae;let O=(ae=o[0])==null?void 0:ae[0],L=e==null?void 0:e.append({day:P}),X=O&&(L!=null&&L.daySame(O))?o.shift():null,Lt=X?X[1]:NaN;return[L,Lt]})}});this.hint=m(()=>{var t;return((t=this.hintDirective)==null?void 0:t.hint())??this.hintContent()});this.daysStringify=t=>{let e=this.getDay(t),i=this.xStringify();return i&&e?i(e):""}}ngAfterViewInit(){q([Nt(this.charts()),this.hovered$]).pipe(K(t=>!t.some(Boolean)),V(this.zone),et(this.destroyRef)).subscribe(()=>{this.onHovered(NaN)})}onHovered(t){var a;if(we(t)){this.charts().forEach(_=>_.onHovered(NaN));return}let e=(a=this.value()[0])==null?void 0:a[0],i=e&&t?Xt.lengthBetween(e,t):0,o=e&&t?oe.lengthBetween(e,t)+e.day-1:0,r=this.charts()[i];this.charts().forEach(_=>{_===r?r.onHovered(r.value().findIndex(P=>P[0]===o)):_.onHovered(NaN)})}raise(t,{value:e}){var r;let i=((r=e()[t])==null?void 0:r[0])||0,o=this.getDay(i);o&&(this.hintDirective?this.hintDirective.raise(o):this.onHovered(o))}getContext(t,{value:e}){var r;let i=((r=e()[t])==null?void 0:r[0])||0,o=this.getDay(i);return this.hintDirective&&o?this.hintDirective.getContext(o):this.getHintContext(i,this.value())}get months(){return this.value().length?this.brokenMonths():[]}get firstWidth(){var t;return this.months.length*(((t=this.value()[0])==null?void 0:t[0].daysCount)||0)}getHintContext(t,e){var i,o;return e[t-(((o=(i=e[0])==null?void 0:i[0])==null?void 0:o.day)||0)+1]??null}getX(t){var a;let e=(a=this.value()[0])==null?void 0:a[0],i=this.getDay(t),r=(e&&i?Xt.lengthBetween(e,i):0)*((i==null?void 0:i.daysCount)||0);return t-r}getWidth(t){var e;return(((e=this.getDay(t))==null?void 0:e.daysCount)||0)*this.months.length}getDay(t){var i,o;let e=(i=this.value()[0])==null?void 0:i[0];return(o=this.value()[t-((e==null?void 0:e.day)||0)+1])==null?void 0:o[0]}};nt.\u0275fac=function(e){return new(e||nt)},nt.\u0275cmp=x({type:nt,selectors:[["tui-line-days-chart"]],viewQuery:function(e,i){e&1&&lt(i.charts,F,5),e&2&&Y()},hostVars:2,hostBindings:function(e,i){e&2&&p("z-index",i.zIndex)},inputs:{y:[1,"y"],height:[1,"height"],smoothingFactor:[1,"smoothingFactor"],hintContent:[1,"hintContent"],xStringify:[1,"xStringify"],yStringify:[1,"yStringify"],dots:[1,"dots"],value:[1,"value"]},features:[N([G,{provide:Tt,useExisting:nt}])],decls:4,vars:0,consts:[["hint",""],[1,"t-chart",3,"dots","height","smoothingFactor","z-index","tuiHintContent","value","width","x","xStringify","y","yStringify"],[1,"t-chart",3,"dots","height","smoothingFactor","tuiHintContent","value","width","x","xStringify","y","yStringify"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(e,i){e&1&&(y(0,Ki,1,12,"tui-line-chart",1,w),M(2,tn,1,4,"ng-template",null,0,Et)),e&2&&g(i.months)},dependencies:[Ne,j,F],styles:["[_nghost-%COMP%]{display:block}.t-chart[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%}"],changeDetection:0});var At=nt;function Ke(n,t){return n.find(([e])=>e.daySame(t))||[t,NaN]}var Mt=class Mt{constructor(){this.charts=It(pe(()=>At));this.map=m(()=>this.getMap(...this.charts().map(({value:t})=>t())));this.destroyRef=h(ot);this.zone=h(rt);this.hovered$=h(G);this.hint=s("",{alias:"tuiLineChartHint"})}ngAfterContentInit(){q([...this.charts().map(({charts:t})=>Nt(t())),this.hovered$]).pipe(K(t=>!t.some(Boolean)),V(this.zone),et(this.destroyRef)).subscribe(()=>{this.charts().forEach(t=>t.onHovered(NaN))})}getContext(t){return this.map().get(String(t))||[]}raise(t){let e=this.charts().map(({value:o})=>t?Ke(o(),t):[]).filter(([o,r])=>!Number.isNaN(r)),i=[...e].sort((o,r)=>o[1]-r[1]);this.charts().forEach((o,r)=>{let a=e[r];o.onHovered(t),o.zIndex=Math.max(a?i.indexOf(a):0,0)})}getMap(...t){return(t[0]||[]).reduce((e,[i])=>e.set(String(i),t.map(o=>Ke(o,i))),new Map)}};Mt.\u0275fac=function(e){return new(e||Mt)},Mt.\u0275dir=J({type:Mt,selectors:[["","tuiLineChartHint",""]],contentQueries:function(e,i,o){e&1&&wt(o,i.charts,At,4),e&2&&Y()},inputs:{hint:[1,"tuiLineChartHint","hint"]},features:[N([G])]});var Kt=Mt;var St=class St{constructor(){this.el=De();this.performance=h(Me);this.animationFrame$=h(Pe);this.speed=h(He);this.tuiPieChart=s([0,0]);this.$=Yt(this.tuiPieChart).pipe($t([0,0]),de(),Ft(([t,e])=>{let i=this.performance.now(),o=e[0]-t[0],r=e[1]-t[1];return this.animationFrame$.pipe(A(a=>Ie(ze((a-i)/Ae(this.speed),0,1))),ue(a=>a<1,!0),A(a=>[t[0]+o*a,e[1]>359?e[1]:t[1]+r*a]))}),V(),et()).subscribe(([t,e])=>this.el.setAttribute("d",Ue(t,e)))}};St.\u0275fac=function(e){return new(e||St)},St.\u0275dir=J({type:St,selectors:[["path","tuiPieChart",""]],inputs:{tuiPieChart:[1,"tuiPieChart"]}});var Jt=St;var nn=n=>({$implicit:n}),on=()=>[0,0];function rn(n,t){if(n&1){let e=tt();it(),d(0,"path",5),W("tuiHoveredChange",function(o){let r=B(e).$index,a=c();return E(a.onHovered(o,r))}),u()}if(n&2){let e=t.$index,i=c();p("color",`var(--tui-chart-categorical-${e.toString().padStart(2,"0")})`),v("tuiHint",i.hintContent)("tuiHintContext",ct(6,nn,e))("tuiPieChart",i.segments()[e]||ve(8,on)),C("transform",i.getTransform(e))}}var an={xs:"50",s:"50",m:"77.8",l:"81.9",xl:"81.3"},Je={xs:1.15,s:1.25,m:1.11,l:1.09,xl:1.08},Ot=class Ot{constructor(){this.hintOptions=h(j,{optional:!0});this.autoId=ut();this.getSum=m(()=>dt(...this.value()));this.segments=m(()=>this.value().map((t,e,i)=>i.reduce((o,r,a)=>a<e?this.getDeg(r)+o:o,this.getDeg(t))).map((t,e,i)=>[i[e-1]||0,Math.min(t,359.9999)]));this.value=s([]);this.size=s("m");this.masked=s(!1);this.activeItemIndex=st(NaN)}get hintContent(){var t;return((t=this.hintOptions)==null?void 0:t.content())||""}get maskId(){return`tui-ring-chart-${this.autoId}`}get mask(){return this.masked()?`url(#${this.maskId})`:null}get radius(){return an[this.size()]}getTransform(t){let e=this.masked()?`scale(${Je[this.size()]})`:`scale(${Je.xs})`;return t===this.activeItemIndex()?e:null}onHovered(t,e){this.activeItemIndex.set(t?e:NaN)}getDeg(t){return 360*(t/this.getSum())||0}};Ot.\u0275fac=function(e){return new(e||Ot)},Ot.\u0275cmp=x({type:Ot,selectors:[["tui-pie-chart"]],hostVars:3,hostBindings:function(e,i){e&2&&(C("data-size",i.size()),S("_empty",!i.getSum()))},inputs:{value:[1,"value"],size:[1,"size"],masked:[1,"masked"],activeItemIndex:[1,"activeItemIndex"]},outputs:{activeItemIndex:"activeItemIndexChange"},features:[N([],[pt({direction:"top-end",appearance:"floating",showDelay:0,hideDelay:0})])],decls:9,vars:4,consts:[["focusable","false","height","100%","viewBox","-100 -100 200 200","width","100%","xmlns","http://www.w3.org/2000/svg",1,"t-svg"],["fill","white","height","400","width","400","x","-200","y","-200"],["cx","0","cy","0"],["cx","0","cy","0","r","100",1,"t-placeholder"],["automation-id","tui-pie-chart__segment","d","","fill","currentColor","tuiHintPointer","",1,"t-segment",3,"color","tuiHint","tuiHintContext","tuiPieChart"],["automation-id","tui-pie-chart__segment","d","","fill","currentColor","tuiHintPointer","",1,"t-segment",3,"tuiHoveredChange","tuiHint","tuiHintContext","tuiPieChart"]],template:function(e,i){e&1&&(it(),d(0,"svg",0)(1,"defs")(2,"mask"),f(3,"rect",1)(4,"circle",2),u()(),d(5,"g"),f(6,"circle",3),y(7,rn,1,9,":svg:path",4,k),u()()),e&2&&(l(2),C("id",i.maskId),l(2),C("r",i.radius),l(),p("mask",i.mask),l(2),g("-".repeat(i.segments().length)))},dependencies:[ht,$e,Wt,Jt],styles:["[_nghost-%COMP%]{position:relative;display:block;inline-size:var(--t-size);block-size:var(--t-size);border-radius:100%}[data-size=xs][_nghost-%COMP%]{--t-size: 2rem;pointer-events:none}[data-size=s][_nghost-%COMP%]{--t-size: 4rem}[data-size=m][_nghost-%COMP%]{--t-size: 9rem}[data-size=l][_nghost-%COMP%]{--t-size: 11rem}[data-size=xl][_nghost-%COMP%]{--t-size: 16rem}.t-svg[_ngcontent-%COMP%]{position:relative;overflow:visible;transform:rotate(-90deg)}.t-segment[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}._empty[_nghost-%COMP%]   .t-segment[_ngcontent-%COMP%]{display:none}.t-placeholder[_ngcontent-%COMP%]{fill:var(--tui-background-neutral-1)}"],changeDetection:0});var te=Ot;var sn=["*"],zt=class zt{constructor(){this.value=s([]);this.size=s("m");this.activeItemIndex=st(NaN)}};zt.\u0275fac=function(e){return new(e||zt)},zt.\u0275cmp=x({type:zt,selectors:[["tui-ring-chart"]],hostVars:1,hostBindings:function(e,i){e&2&&C("data-size",i.size())},inputs:{value:[1,"value"],size:[1,"size"],activeItemIndex:[1,"activeItemIndex"]},outputs:{activeItemIndex:"activeItemIndexChange"},ngContentSelectors:sn,decls:5,vars:4,consts:[[1,"t-content"],[1,"t-wrapper"],[1,"t-chart",3,"activeItemIndexChange","masked","size","value","activeItemIndex"],[1,"t-shield"]],template:function(e,i){e&1&&(R(),d(0,"div",0)(1,"div",1),$(2),u()(),d(3,"tui-pie-chart",2),be("activeItemIndexChange",function(r){return xe(i.activeItemIndex,r)||(i.activeItemIndex=r),r}),u(),f(4,"div",3)),e&2&&(l(3),v("masked",!0)("size",i.size())("value",i.value()),_e("activeItemIndex",i.activeItemIndex))},dependencies:[te],styles:["[_nghost-%COMP%]{position:relative;display:block;inline-size:var(--t-size);block-size:var(--t-size);flex-shrink:0;border-radius:100%}[data-size=xs][_nghost-%COMP%]{--t-size: 3rem}[data-size=s][_nghost-%COMP%]{--t-size: 4rem}[data-size=m][_nghost-%COMP%]{--t-size: 9rem}[data-size=l][_nghost-%COMP%]{--t-size: 11rem}[data-size=xl][_nghost-%COMP%]{--t-size: 16rem}.t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex;font:var(--tui-font-body-m);max-block-size:100%;flex-direction:column;justify-content:center;text-align:center;padding:1.5rem;border-radius:100%;box-sizing:border-box;overflow:hidden;word-break:break-word;white-space:pre-wrap;color:var(--tui-text-secondary)}[data-size=m][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{font:var(--tui-font-body-xs)}.t-wrapper[_ngcontent-%COMP%]:first-line{color:var(--tui-text-primary)}[data-size=l][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-body-l);font-weight:700}[data-size=m][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-body-m);font-weight:700}.t-shield[_ngcontent-%COMP%]{position:absolute;inset:25%;border-radius:100%}.t-chart[_ngcontent-%COMP%]{inline-size:100%;block-size:100%}"],changeDetection:0});var ti=zt;export{Ee as a,Ti as b,Pi as c,bn as d,Re as e,Gt as f,Zt as g,j as h,Ye as i,je as j,Tt as k,F as l,Kt as m,At as n,te as o,ti as p};
