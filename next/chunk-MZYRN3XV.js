import{b as mr}from"./chunk-I2QNPLAC.js";import{E as D,N as er,W as g,Z as or}from"./chunk-DANSFZDD.js";import{j as x}from"./chunk-OF37Q5N3.js";import{Fa as tr,Ga as O,L as P,X as rr,Xa as ir,Ya as nr,Za as pr,eb as ar}from"./chunk-PZDN5K6W.js";import{e as X}from"./chunk-KWZHGPWS.js";import{a as Y,d as Z,g as $}from"./chunk-TDHYON55.js";import{Bc as K,Cb as L,Eb as B,Tb as G,V as k,Vb as f,Wb as b,Wc as l,Xc as Q,Zb as N,_a as a,ab as T,bb as S,fc as w,hc as H,i as _,ia as I,ja as U,kc as q,pc as z,qc as W,rc as J,td as F,ud as i,vb as j,x as R,za as e}from"./chunk-2UPKG2B4.js";import{a as p,b as V}from"./chunk-B4AJQJMI.js";var lr=()=>({});function cr(o,r){if(o&1&&J(0,"span",2),o&2){let t=r.polymorpheusOutlet;w("innerHTML",t,j)}}function dr(o,r){if(o&1&&(z(0,"span",0),N(1,cr,1,1,"span",1),W()),o&2){let t=r,n=K();L(),w("polymorpheusOutlet",t.message||n.default())("polymorpheusOutletContext",t.context||Q(2,lr))}}var c=class c{constructor(){this.default=e(er);this.content=i((r=this.error())=>P(r)?new x(r):r);this.error=a(null)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=G({type:c,selectors:[["tui-error"]],hostVars:2,hostBindings:function(t,n){t&2&&H("_error",n.content())},inputs:{error:[1,"error"]},decls:1,vars:1,consts:[["tuiAnimated","",1,"t-message-text"],[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerHTML"]],template:function(t,n){if(t&1&&N(0,dr,2,3,"span",0),t&2){let M;q((M=n.content())?0:-1,M)}},dependencies:[pr,ar],styles:['[_nghost-%COMP%]{transition-property:grid-template-rows;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:grid;font:var(--tui-typography-body-s);color:var(--tui-text-negative);overflow-wrap:break-word;grid-template-rows:0fr}._error[_nghost-%COMP%]{grid-template-rows:1fr}.t-message-text[_ngcontent-%COMP%]{white-space:pre-line;grid-area:1 / 1 / span 2;overflow:hidden}.t-message-text.tui-enter[_ngcontent-%COMP%], .t-message-text.tui-leave[_ngcontent-%COMP%]{animation-name:tuiFade}.t-message-text[_ngcontent-%COMP%]:before{content:"";line-height:calc(24 / 14);vertical-align:bottom}'],changeDetection:0});var h=c;var m=class m{constructor(){this.content=e(or);this.control=new _;this.errors=X(this.control.pipe(k(),U(r=>r.events.pipe(I(null),R(()=>!r.disabled&&r.touched&&r.errors)))));this.key=i((r=this.errors()||{})=>this.order().find(t=>r[t])||Object.keys(r)[0]||"");this.order=a([]);this.error=tr(h,"error",i((r=this.errors()||null)=>r&&this.getError(r[this.key()],this.content[this.key()])),{self:!0,optional:!0})}registerOnChange(){}registerOnTouched(){}writeValue(){}validate(r){return this.control.next(r),null}getError(r,t){if(r=T(r)?r():r,r instanceof x)return r;if(t===void 0&&yr(r))return E(r);if(T(t))return E(t(),r);if(t instanceof Function){let n=t(r);return E(T(n)?n():n,r)}return E(t,r)}};m.\u0275fac=function(t){return new(t||m)},m.\u0275dir=f({type:m,selectors:[["tui-error","ngModel",""],["tui-error","formControlName",""],["tui-error","formControl",""],["tui-error","formGroup",""],["tui-error","formGroupName",""],["tui-error","formArrayName",""]],inputs:{order:[1,"order"]},features:[l([O(Y,m,!0),O(Z,m,!0)])]});var C=m;function E(o="",r){return new x(o,r)}function yr(o){return P(o)||o instanceof B||o instanceof nr||o instanceof ir}var d=class d{constructor(){this.control=e($);this.directive=new C}transform(r){F(()=>{this.directive.validate(this.control.control),rr(this.directive.order,r)});let t=this.directive.error();return t?typeof t.message=="function"?t.message(t.context):t.message:""}};d.\u0275fac=function(t){return new(t||d)},d.\u0275pipe=b({name:"tuiError",type:d,pure:!1});var A=d;var s=class s{constructor(){this.tuiDateFormat=a.required()}};s.\u0275fac=function(t){return new(t||s)},s.\u0275dir=f({type:s,selectors:[["","tuiDateFormat",""]],inputs:{tuiDateFormat:[1,"tuiDateFormat"]},features:[l([{provide:D,useFactory:()=>{let r=e(D,{skipSelf:!0}),t=e(s).tuiDateFormat;return i(()=>p(p({},r()),t()))}}])]});var sr=s;var u=class u{constructor(){this.tuiNumberFormat=a.required()}};u.\u0275fac=function(t){return new(t||u)},u.\u0275dir=f({type:u,selectors:[["","tuiNumberFormat",""]],inputs:{tuiNumberFormat:[1,"tuiNumberFormat"]},features:[l([{provide:g,useFactory:()=>{let r=e(g,{skipSelf:!0}),t=e(u).tuiNumberFormat;return i(()=>p(p({},r()),t()))}}])]});var ur=u;var y=class y{constructor(){this.format=e(g);this.value=S(NaN);this.settings=S({});this.formatted=i(()=>mr(this.value(),p(V(p({},this.format()),{precision:Number.isNaN(this.format().precision)?1/0:this.format().precision}),this.settings())))}transform(r,t={}){return F(()=>{this.value.set(r),this.settings.set(t)}),this.formatted()}};y.\u0275fac=function(t){return new(t||y)},y.\u0275pipe=b({name:"tuiFormatNumber",type:y,pure:!1});var fr=y;export{h as a,C as b,A as c,sr as d,ur as e,fr as f};
