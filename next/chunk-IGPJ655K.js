import{Ea as $,Ga as I,xa as H}from"./chunk-TKOGNASY.js";import{j as b,k as V,l as z}from"./chunk-ENXYRILG.js";import"./chunk-LU7CBR4B.js";import"./chunk-XDF7FKYW.js";import"./chunk-7KJN4WZL.js";import"./chunk-Z7HU23OH.js";import"./chunk-JK5HT2AB.js";import"./chunk-KFMPOXNV.js";import"./chunk-EAD477WU.js";import"./chunk-QLHTNIA4.js";import"./chunk-7MABKNH2.js";import"./chunk-73TZT46D.js";import"./chunk-WVLZY2VJ.js";import"./chunk-RSQ5DH3A.js";import"./chunk-AB3GID7E.js";import"./chunk-DAFWQXI5.js";import"./chunk-NG54SK4A.js";import"./chunk-EUTJAJLT.js";import"./chunk-SFTRSDVA.js";import"./chunk-UAGKATBR.js";import"./chunk-L6M7T63J.js";import"./chunk-IWKM7HB7.js";import"./chunk-MOCXYVGQ.js";import"./chunk-EGC2VL5L.js";import"./chunk-AMVXOCDN.js";import"./chunk-7ABCP53G.js";import"./chunk-JGMRAGBJ.js";import"./chunk-FTCBM4DE.js";import"./chunk-EBHFP2TI.js";import"./chunk-O6XMKD7H.js";import"./chunk-6GXSYTJW.js";import"./chunk-LL2PODKS.js";import"./chunk-KFO6RLOG.js";import"./chunk-S4NBTRTG.js";import"./chunk-5PABLJY7.js";import"./chunk-SXUQLDLW.js";import"./chunk-FDI6E7EX.js";import"./chunk-XPB6YNIV.js";import"./chunk-XHQXVLHQ.js";import"./chunk-PIT57PTL.js";import"./chunk-OBPPGIVQ.js";import"./chunk-TQEODDI3.js";import"./chunk-KWZHGPWS.js";import"./chunk-TDHYON55.js";import"./chunk-GOJWO2R3.js";import{Ac as m,Bc as l,Cb as C,La as p,Lc as D,Ma as s,Mc as _,Oc as x,Tb as N,Zb as u,bb as v,fc as w,hc as y,id as M,kc as P,nd as O,pc as d,qc as c,vc as E,za as h}from"./chunk-2UPKG2B4.js";import"./chunk-B4AJQJMI.js";function k(i,t){if(i&1){let e=E();d(0,"div",2)(1,"div",3),m("pointerup",function(){p(e);let r=l().$implicit,o=l();return s(o.onDrop(r))}),c(),d(2,"tui-tiles",4)(3,"tui-tile")(4,"div",5),m("pointerdown",function(){p(e);let r=l().$implicit,o=l();return s(o.onDrag(r))}),_(5),c()()(),d(6,"div",3),m("pointerup",function(){p(e);let r=l().$implicit,o=l();return s(o.onDrop(r,1))}),c()()}if(i&2){let e=l().$implicit;C(5),x(" ",e.text," ")}}function j(i,t){if(i&1&&_(0),i&2){let e=l().$implicit;x(" ",e.text," ")}}function R(i,t){if(i&1&&u(0,k,7,1,"div",2)(1,j,1,1),i&2){let e=t.$implicit;P(e.children?1:0)}}var a=class a{constructor(){this.drag=v(null);this.cd=h(O);this.data={text:"Topmost",children:[{text:"Top level 1",children:[{text:"Another item",children:[{text:"Next level 1"},{text:"Next level 2"},{text:"Next level 3"}]}]},{text:"Top level 2"},{text:"Top level 3",children:[{text:"Test 1"},{text:"Test 2"}]}]};this.handler=t=>t.children||[]}onDrag(t){this.drag.set(t)}onDrop(t,e=0){let n=this.drag();if(!n)return;let r=T(n,this.data),o=T(t,this.data);r&&(r.children=r?.children?.filter(S=>S!==n));let f=(o?.children?.indexOf(t)??0)+e;o?.children&&(o.children=[...o.children.slice(0,f),n,...o.children.slice(f)]),this.drag.set(null)}};a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=N({type:a,selectors:[["ng-component"]],decls:3,vars:6,consts:[["content",""],[1,"tree",3,"childrenHandler","content","tuiTreeController","value"],[1,"wrapper"],[1,"drop",3,"pointerup"],[1,"tiles"],["tuiTileHandle","",1,"content",3,"pointerdown"]],template:function(e,n){if(e&1&&(d(0,"tui-tree",1),u(1,R,2,1,"ng-template",null,0,M),c()),e&2){let r=D(2);y("_dragged",n.drag()),w("childrenHandler",n.handler)("content",r)("tuiTreeController",!0)("value",n.data)}},dependencies:[b,V,z,$,H,I],styles:[".tree._dragged[_ngcontent-%COMP%]   .drop[_ngcontent-%COMP%]{pointer-events:auto}.tree._dragged[_ngcontent-%COMP%]   .drop[_ngcontent-%COMP%]:hover{opacity:1}.wrapper[_ngcontent-%COMP%]{position:relative;inline-size:100%}.content[_ngcontent-%COMP%]{display:flex;inline-size:100%;align-items:center}.tiles[_ngcontent-%COMP%]{inline-size:100%;grid-template-rows:1.5rem}.drop[_ngcontent-%COMP%]{position:absolute;z-index:1;inline-size:100%;block-size:.5rem;margin-block-start:-.25rem;background:#87ceeb;border-radius:1rem;opacity:0;pointer-events:none}"],changeDetection:0});var g=a;function T(i,t){if(!t.children)return null;if(t.children.includes(i))return t;for(let e of t.children){let n=T(i,e);if(n)return n}return null}export{g as default};
