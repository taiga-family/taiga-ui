import{a as Yi,b as Ni,c as ji,d as $i}from"./chunk-GFG35C6O.js";import{b as Fi}from"./chunk-TJZN5J2R.js";import{a as zi,j as nt,k as Hi}from"./chunk-T5UQZSZK.js";import{h as Bi,k as Vi,p as Ui}from"./chunk-NCYTPIAU.js";import{a as Ai,b as _t}from"./chunk-OHAGN5OB.js";import{a as Di,e as Ri,f as Ei,h as Li}from"./chunk-VJFTAZOO.js";import{f as Si}from"./chunk-4PDCEDWE.js";import{a as Mi,f as xi,g as wi,l as Pi}from"./chunk-CEEZBV64.js";import{b as Ti,c as Ii}from"./chunk-YPMRIVB4.js";import{b as mi}from"./chunk-32EPBUDC.js";import{B as yi,G as Ci,b as vt,g as _i}from"./chunk-YABU4UAY.js";import{b as ii}from"./chunk-DERVPRBY.js";import{j as ti}from"./chunk-LYVFTZAB.js";import{o as ui}from"./chunk-EVN24HAH.js";import{i as Oi}from"./chunk-CHS6H6BT.js";import{a as pe}from"./chunk-UEDJIMWG.js";import{a as ki}from"./chunk-2ASTB5IE.js";import{Cb as si,Dc as de,Ec as tt,Ed as vi,Fa as oi,Fd as bi,Gc as hi,Ic as it,Ja as ri,Kb as v,Oa as X,Vb as ci,Wb as Y,Yb as z,Zb as Ke,_b as Je,bd as fi,cd as H,eb as A,gc as di,h as b,hd as gi,j as ei,jb as Ge,lb as qe,lc as pi,nb as Xe,ob as ai,od as gt,pb as K,u as We,vc as et,y as Qe,ya as Ze,yb as li,za as ni}from"./chunk-HCM5SIEF.js";import{a as Jt,q as $e}from"./chunk-HB52MDKS.js";import{Aa as a,Ca as Bt,Cb as ht,Cc as m,Db as c,Dc as d,E as ze,Ec as L,Fc as k,Gc as se,Hc as ce,I as B,Ic as T,J as ut,Jc as O,Ma as P,Na as S,Oa as ee,Oc as M,Pc as Wt,Q as we,Qa as Vt,Qc as D,S as He,Ta as Ut,Ub as h,V as Be,Va as Se,Vc as Qt,W as Q,Wa as Ft,Wb as le,Wc as Zt,X as Dt,Xc as ft,Yb as Nt,Yc as q,Zb as jt,_a as Yt,_b as f,_c as Gt,d as Pt,ea as Rt,ed as x,f as St,fa as Et,fc as V,fd as R,gc as u,ha as Lt,hc as C,i as pt,ic as U,id as qt,j as It,ja as Pe,jc as Ve,ka as Z,ma as G,mc as I,na as At,oa as mt,oc as Ue,od as Xt,p as $,pc as Fe,qa as zt,qc as Ye,rc as l,sc as s,tc as g,ua as Ht,uc as Ne,ud as Kt,vc as je,w as W,wc as $t,xa as ae,xc as F,y as kt}from"./chunk-NAEF7NDX.js";import{h as Ae}from"./chunk-42JZD6NG.js";var sn=["content"],cn=["stops"],dn=["*"];function pn(o,t){if(o&1&&g(0,"div",5,1),o&2){let e=t.$implicit;C("inset-block-start",e)}}var un={duration:20,easing:"ease-in",fill:"forwards"},ue=class ue{constructor(){this.elements=We;this.el=X();this.stops=["1.5rem"]}onScroll(){var re,E;let{clientHeight:t,scrollTop:e,scrollHeight:i}=this.el,n=((re=this.elements.get(0))==null?void 0:re.nativeElement.clientHeight)||0,r=((E=this.content)==null?void 0:E.nativeElement.clientHeight)||1/0,p=Math.min(t,r),j=`translate3d(0, ${-1*Math.min(e,p-n)}px, 0)`;this.el.style.setProperty("--t-height",`${i}px`),this.el.style.setProperty("overflow","scroll"),this.el.animate([{transform:j}],un)}};ue.\u0275fac=function(e){return new(e||ue)},ue.\u0275cmp=h({type:ue,selectors:[["tui-bottom-sheet"]],viewQuery:function(e,i){if(e&1&&(ce(sn,5),ce(cn,5)),e&2){let n;T(n=O())&&(i.content=n.first),T(n=O())&&(i.elements=n)}},hostVars:4,hostBindings:function(e,i){e&1&&m("scroll.zoneless",function(){return i.onScroll()})("resize",function(){return i.onScroll()}),e&2&&C("--t-initial",i.stops[0])("scroll-snap-type",i.stops.length>1?"y mandatory":null)},inputs:{stops:"stops"},features:[q([Fi({size:"h5"})])],ngContentSelectors:dn,decls:6,vars:0,consts:[["content",""],["stops",""],[1,"t-stop",3,"inset-block-start"],[1,"t-content",3,"resize"],[1,"t-bottom"],[1,"t-stop"]],template:function(e,i){if(e&1){let n=F();L(),Fe(0,pn,2,2,"div",2,Ue),l(2,"div",3,0),m("resize",function(){return P(n),S(i.onScroll())}),k(4),s(),g(5,"div",4)}e&2&&Ye(i.stops)},styles:['[_nghost-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;position:absolute;top:100%;left:0;right:0;display:block;block-size:calc(100% - 1rem);max-inline-size:40rem;margin:calc(-1 * var(--t-initial)) auto 0;background:var(--tui-background-elevation-1);border-top-left-radius:var(--tui-radius-l);border-top-right-radius:var(--tui-radius-l);overflow:auto;box-shadow:0 1rem var(--tui-background-elevation-1),var(--tui-shadow-medium)}[_nghost-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%]::-webkit-scrollbar-thumb{display:none}[_nghost-%COMP%]:before{content:"";position:sticky;top:.625rem;left:50%;z-index:1;display:block;inset-inline-start:50%;inline-size:2rem;block-size:.25rem;margin-block-end:-.25rem;transform:translate(calc(-50% * var(--tui-inline)));background:var(--tui-background-elevation-1);box-shadow:0 0 0 20rem var(--tui-background-elevation-1),inset 0 0 0 1rem var(--tui-border-normal);border-radius:1rem;clip-path:polygon(-100vw -1rem,100vw -1rem,100vw calc(100% + .625rem),-100vw calc(100% + .625rem))}[_nghost-%COMP%]:after{content:"";position:absolute;top:calc(100% - var(--t-initial));inline-size:1rem;block-size:calc(var(--t-height) - 100% + var(--t-initial));scroll-snap-align:start;scroll-snap-stop:always}.t-content[_ngcontent-%COMP%]{position:sticky;top:0;padding:2.25rem 1rem 1.5rem}.t-bottom[_ngcontent-%COMP%]{block-size:calc(100% - var(--t-initial))}.t-stop[_ngcontent-%COMP%]{position:absolute;block-size:var(--t-initial);inline-size:1rem;pointer-events:none;transform:translateY(-100%);scroll-snap-align:start;scroll-snap-stop:always}.t-stop[_ngcontent-%COMP%]:last-child{scroll-snap-align:none}'],changeDetection:0});var Wi=ue;function mn(o,t){o&1&&g(0,"div",4)}function hn(o,t){if(o&1){let e=F();l(0,"div",6),m("click",function(){let n=P(e),r=d(3);return S(r.onItemClick(n))}),M(1),s()}if(o&2){let e=t,i=d(3);U("t-cell_disabled",i.disabledItemHandler(e))("t-cell_today",i.itemIsToday(e)),V("data-range",i.getItemRange(e)),c(),D(" ",e.day," ")}}function fn(o,t){if(o&1&&(Ne(0),f(1,hn,2,6,"div",5),je()),o&2){let e,i=t.$implicit,n=d().$implicit;d();let r=ft(0);c(),I((e=r[n]==null?null:r[n][i])?1:-1,e)}}function gn(o,t){o&1&&g(0,"div",4)}function vn(o,t){if(o&1&&(l(0,"div",1),f(1,mn,1,0,"div",2)(2,fn,2,1,"ng-container",3)(3,gn,1,0,"div",2),s()),o&2){let e,i,n,r=t.$implicit;d();let p=ft(0);c(),u("tuiRepeatTimesOf",7-((e=p[r]==null?null:p[r].length)!==null&&e!==void 0?e:0)),c(),u("tuiRepeatTimesOf",(i=p[r]==null?null:p[r].length)!==null&&i!==void 0?i:0),c(),u("tuiRepeatTimesOf",7-((n=p[r]==null?null:p[r].length)!==null&&n!==void 0?n:0))}}var te=class te extends Li{constructor(){super(...arguments);this.isIOS=a(H)}};te.\u0275fac=(()=>{let e;return function(n){return(e||(e=Vt(te)))(n||te)}})(),te.\u0275cmp=h({type:te,selectors:[["tui-mobile-calendar-sheet"]],hostVars:2,hostBindings:function(i,n){i&2&&U("_ios",n.isIOS)},features:[Nt],decls:3,vars:4,consts:[["automation-id","tui-primitive-calendar-mobile__row","class","t-row",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-primitive-calendar-mobile__row",1,"t-row"],["class","t-cell t-cell_empty",4,"tuiRepeatTimes","tuiRepeatTimesOf"],[4,"tuiRepeatTimes","tuiRepeatTimesOf"],[1,"t-cell","t-cell_empty"],["automation-id","tui-primitive-calendar-mobile__cell","tuiRipple","",1,"t-cell",3,"t-cell_disabled","t-cell_today"],["automation-id","tui-primitive-calendar-mobile__cell","tuiRipple","",1,"t-cell",3,"click"]],template:function(i,n){if(i&1&&(Qt(0),x(1,"tuiCalendarSheet"),f(2,vn,4,3,"div",0)),i&2){let r=Zt(R(1,1,n.month));c(2),u("tuiRepeatTimesOf",r.length)}},dependencies:[Di,pe,nt],styles:[`.t-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;font:var(--tui-font-text-m)}.t-row[_ngcontent-%COMP%]:first-child{justify-content:flex-end}.t-row[_ngcontent-%COMP%]:last-child{justify-content:flex-start}.t-cell[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;line-height:2rem;isolation:isolate;cursor:pointer;overflow:hidden;border:.125rem solid transparent;box-sizing:border-box;mask:linear-gradient(transparent calc(50% - 1rem),#000 calc(50% - 1rem),#000 calc(50% + 1rem),transparent calc(50% + 1rem))}.t-cell[_ngcontent-%COMP%]:first-child{border-inline-start-color:transparent!important}.t-cell[_ngcontent-%COMP%]:last-child{border-inline-end-color:transparent!important}.t-cell[_ngcontent-%COMP%]:before, .t-cell[_ngcontent-%COMP%]:after{position:absolute;inset:0;content:"";z-index:-1;border-radius:var(--tui-radius-m)}.t-cell[_ngcontent-%COMP%]:after{mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 32"><path d="M0.2856 0L0.6763 0C2.9265 0 4.9876 1.259 6.0147 3.2611L10.2442 11.5048C11.5301 14.0113 11.5683 16.9754 10.3472 19.5141L5.9766 28.6007C4.9772 30.6786 2.8754 32 0.5696 32H0.285645V0Z"></path></svg>') right / .75rem 100% no-repeat,linear-gradient(#000,#000) left / calc(100% - .7rem) 100% no-repeat}.t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:first-child):before{border-top-left-radius:0;border-bottom-left-radius:0}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:last-child):before{border-top-right-radius:0;border-bottom-right-radius:0}.t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:not(:last-child):before{right:-1rem}.t-cell[data-range=start][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1)}.t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=end][_ngcontent-%COMP%]:not(:first-child):before{left:-1rem}.t-cell[data-range=end][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);transform:scaleX(-1)}.t-cell[data-range=active][_ngcontent-%COMP%]{color:var(--tui-text-primary-on-accent-1)}.t-cell[data-range=active][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);mask:none}.t-cell_disabled[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity);pointer-events:none}.t-cell_today[_ngcontent-%COMP%]{text-decoration:underline;text-underline-offset:.25rem}@media (hover: hover) and (pointer: fine){.t-cell[_ngcontent-%COMP%]:hover:not([data-range=start]):not([data-range=end]):before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=end][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=active][_ngcontent-%COMP%]:hover:after{background:var(--tui-background-accent-1-hover)}}[_nghost-%COMP%]{display:block;inline-size:20.75rem;max-inline-size:100vw}._ios[_nghost-%COMP%]{inline-size:22.625rem}._ios[_nghost-%COMP%]   .t-row[_ngcontent-%COMP%]{block-size:3.125rem;font-size:1.0625rem}._ios[_nghost-%COMP%]   .t-cell[data-range=start][_ngcontent-%COMP%], ._ios[_nghost-%COMP%]   .t-cell[data-range=end][_ngcontent-%COMP%], ._ios[_nghost-%COMP%]   .t-cell[data-range=active][_ngcontent-%COMP%]{font-weight:600}.t-row[_ngcontent-%COMP%]{block-size:3rem;justify-content:space-between!important;font-family:inherit;font-size:1.125rem;padding:.125rem;box-sizing:border-box}.t-row[_ngcontent-%COMP%]:first-child   .t-cell[_ngcontent-%COMP%]:not(.t-cell_empty) ~ .t-cell_empty[_ngcontent-%COMP%], .t-row[_ngcontent-%COMP%]:last-child   .t-cell_empty[_ngcontent-%COMP%]{display:none}.t-row[_ngcontent-%COMP%]:last-child   .t-cell[_ngcontent-%COMP%]:not(.t-cell_empty) ~ .t-cell_empty[_ngcontent-%COMP%]{display:flex}.t-cell[_ngcontent-%COMP%]{inline-size:2.5rem;block-size:2.5rem;border-radius:100%;overflow:hidden;mask:none;border:none;text-decoration:none}.t-cell_empty[_ngcontent-%COMP%]{visibility:hidden}.t-cell_today[_ngcontent-%COMP%]:after{content:"\\2022";text-align:center;line-height:4rem;font-size:1.5rem;color:var(--tui-text-action)}.t-cell_today[data-range=start][_ngcontent-%COMP%]:after, .t-cell_today[data-range=end][_ngcontent-%COMP%]:after, .t-cell_today[data-range=active][_ngcontent-%COMP%]:after{color:inherit}.t-cell[data-range=start][_ngcontent-%COMP%], .t-cell[data-range=end][_ngcontent-%COMP%], .t-cell[data-range=active][_ngcontent-%COMP%]{font-weight:500}.t-cell[_ngcontent-%COMP%]:after{mask:none}`],changeDetection:0});var ot=te;function Qi(o){return Array.from({length:o.yearCycle},(t,e)=>Array.from({length:v},(i,n)=>o.label+_n({year:e,month:n,startingYear:o.startingYear})*o.week))}function _n(o){let t=new Date(o.year+o.startingYear,o.month,1),i=new Date(o.year+o.startingYear,o.month+1,0).getDate()+(t.getDay()||7)-1;return Math.ceil(i/7)}var Ie=80,bt=5,w=1900,ke=196,ie=500,bn=64,yn=48,Cn=50,Tn=50,me=28,rt=Qi({label:bn,week:yn,yearCycle:me,startingYear:w}),at=Qi({label:Cn,week:Tn,yearCycle:me,startingYear:w});var yt=Tt(rt),Ct=Tt(at);function Tt(o,t=28,e=12){return o.reduce((i,n,r)=>r<=t?i+n.reduce((p,_,j)=>r<t||r===t&&j<e?p+_:p,0):i,0)}var De=class{constructor(t,e){this.isIOS=t;this.scrollService=e;this.index$=new pt;this.viewport=null;this.destroy$=new pt}get scrolledIndexChange(){return this.index$.pipe(Q())}attach(t){let e=this.isIOS?Ct:yt;this.viewport=t,this.viewport.setTotalContentSize(e*7),this.updateRenderedRange(this.viewport)}detach(){this.index$.complete(),this.viewport=null,this.destroy$.next(),this.destroy$.complete()}onContentScrolled(){this.viewport&&this.updateRenderedRange(this.viewport)}onDataLengthChanged(){}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){if(!this.viewport)return;let i=this.getOffsetForIndex(t);if(e!=="smooth"){this.viewport.scrollToOffset(i,e);return}this.scrollService.scroll$(this.viewport.elementRef.nativeElement,i).pipe(G(this.destroy$)).subscribe()}getOffsetForIndex(t){let e=t%v,i=(t-e)/v;return this.computeHeight(i,e)}getIndexForOffset(t){var _,j,re;let e=this.isIOS?at:rt,i=this.isIOS?Ct:yt,n=t%i,r=(t-n)/i*me,p=0;for(let E=0;E<e.length;E++)for(let xe=0;xe<(((_=e[E])==null?void 0:_.length)??0);xe++)if(p+=((j=e[E])==null?void 0:j[xe])??0,p-(((re=e[E])==null?void 0:re[xe])??0)/2>n)return Math.max((r+E)*v+xe,0);return ke}computeHeight(t,e){let i=this.isIOS?at:rt,n=t%me,r=Tt(i,n,e),p=(t-n)/me;return(this.isIOS?p*Ct:p*yt)+r}updateRenderedRange(t){let e=t.measureScrollOffset(),{start:i,end:n}=t.getRenderedRange(),r=t.getViewportSize(),p=t.getDataLength(),_={start:i,end:n},j=this.getIndexForOffset(e);e-this.getOffsetForIndex(i)<ie&&i!==0?(_.start=Math.max(0,this.getIndexForOffset(e-ie*2)),_.end=Math.min(p,this.getIndexForOffset(e+r+ie))):this.getOffsetForIndex(n)-e-r<ie&&n!==p&&(_.start=Math.max(0,this.getIndexForOffset(e-ie)),_.end=Math.min(p,this.getIndexForOffset(e+r+ie*2))),t.setRenderedRange(_),t.setRenderedContentOffset(this.getOffsetForIndex(_.start)),this.index$.next(j)}};Ae([Ze],De.prototype,"scrolledIndexChange",1);var Ot=new ae(""),Zi=[gt,{provide:Yi,deps:[H,gt],useClass:De},{provide:Ot,deps:[[new Bt,Mi]],useFactory:o=>(o||$).pipe(qe(),b())}];var On=["yearsScrollRef"],Mn=["monthsScrollRef"];function xn(o,t){if(o&1){let e=F();l(0,"header",2)(1,"button",10),m("click",function(){P(e);let n=d();return S(n.onClose())}),M(2),s(),l(3,"button",11),m("click",function(){P(e);let n=d();return S(n.onClose())}),M(4),s(),l(5,"h2",12),M(6),s(),l(7,"button",13),m("click",function(){P(e);let n=d();return S(n.onConfirm())}),M(8),s()()}if(o&2){let e=t,i=d();c(),C("border-radius",100,"%"),u("iconStart",i.icons.close),c(),D(" ",i.closeWord()," "),c(2),D(" ",i.cancelWord()," "),c(2),D(" ",i.single?e[0]:i.multi?e[2]:e[1]," "),c(2),D(" ",i.doneWord()," ")}}function wn(o,t){if(o&1){let e=F();l(0,"button",14),m("click",function(){let n=P(e).$implicit,r=d();return S(r.setYear(n))}),M(1),s()}if(o&2){let e=t.$implicit,i=d();V("data-state",i.getState(e)),c(),D(" ",e," ")}}function Pn(o,t){if(o&1&&(l(0,"div",7),M(1),s()),o&2){let e=t.$implicit;c(),D(" ",e," ")}}function Sn(o,t){if(o&1){let e=F();l(0,"section",15)(1,"h2",16),M(2),x(3,"tuiMonth"),x(4,"async"),s(),l(5,"tui-mobile-calendar-sheet",17),x(6,"tuiMapper"),m("dayClick",function(n){P(e);let r=d();return S(r.onDayClick(n))}),s()()}if(o&2){let e=t.$implicit,i=d();c(2),Wt(R(4,7,R(3,5,e))),c(3),u("disabledItemHandler",qt(6,9,i.disabledItemHandler,i.disabledItemHandlerMapper,i.min,i.max))("month",e)("single",i.single)("value",i.value)}}var he=class he{constructor(){this.value$=new It(null);this.today=Y.currentLocal();this.activeYear=0;this.activeMonth=0;this.destroyRef=a(Ut);this.doc=a(Jt);this.speed=a(li);this.ngZone=a(Ft);this.initialized=!1;this.isIOS=a(H);this.isE2E=a(gi);this.icons=a(si);this.closeWord=a(di);this.cancelWord=a(xi);this.doneWord=a(wi);this.unorderedWeekDays$=ei(a(pi));this.chooseDayOrRangeTexts=a(Pi,{optional:!0});this.years=Array.from({length:ke},(t,e)=>e+w);this.months=Array.from({length:ke*12},(t,e)=>new ci(Math.floor(e/v)+w,e%v));this.single=!a(Ei).rangeMode;this.multi=!1;this.min=Ke;this.max=Je;this.disabledItemHandler=Qe;this.cancel=new Se;this.confirm=new Se;this.valueChange=this.value$.pipe(Lt(1),Q((t,e)=>(t==null?void 0:t.toString())===(e==null?void 0:e.toString())),W(t=>!this.single&&t instanceof Y?new z(t,t):t));this.disabledItemHandlerMapper=(t,e,i)=>n=>n.dayBefore(e)||i!==null&&n.dayAfter(i)||t(n);a(Ot).pipe(b()).subscribe(t=>{this.value=t})}set value(t){t!==void 0&&this.value$.next(t)}get value(){return this.value$.value}ngAfterViewInit(){this.activeYear=this.initialYear,this.activeMonth=this.initialMonth,this.waitScrolledChange()}setYear(t){this.activeYear!==t&&(this.activeMonth+=this.getMonthOffset(t),this.activeYear=t,this.scrollToActiveYear("smooth"),ze(0,K(this.ngZone)).pipe(Xe(this.ngZone),b(this.destroyRef)).subscribe(()=>this.scrollToActiveMonth()))}get yearWidth(){return this.doc.documentElement.clientWidth/bt}onClose(){this.cancel.emit()}onConfirm(){this.value?this.confirm.emit(this.value):this.cancel.emit()}onDayClick(t){this.single?this.value=t:this.isMultiValue(this.value)?this.value=Si(this.value,t):this.value instanceof Y?this.value=z.sort(this.value,t):this.value instanceof z?this.value=t:this.value||(this.value=t)}getState(t){return this.isYearActive(t)?"active":this.isYearActive(t-1)||this.isYearActive(t+1)?"adjacent":null}onMonthChange(t){if(!t||this.activeMonth===t)return;this.activeMonth=t;let e=this.monthToYear(t);e!==this.activeYear&&(this.activeYear=e,this.scrollToActiveYear())}get initialYear(){var t,e;return this.value?this.value instanceof Y?this.value.year:this.value instanceof z?this.value.to.year:((e=(t=this.value)==null?void 0:t[0])==null?void 0:e.year)??this.today.year:this.today.year}get initialMonth(){var t,e,i,n;return this.value?this.value instanceof Y?this.value.month+(this.value.year-w)*v:this.value instanceof z?this.value.to.month+(this.value.to.year-w)*v:(((e=(t=this.value)==null?void 0:t[0])==null?void 0:e.month)??this.today.month)+((((n=(i=this.value)==null?void 0:i[0])==null?void 0:n.year)??this.today.year)-w)*v:this.today.month+(this.today.year-w)*v}isMultiValue(t){return!(t instanceof Y)&&!(t instanceof z)&&this.multi}getYearsViewportSize(){var t;return((t=this.yearsScrollRef)==null?void 0:t.getViewportSize())||0}updateViewportDimension(){var t,e;(t=this.yearsScrollRef)==null||t.checkViewportSize(),(e=this.monthsScrollRef)==null||e.checkViewportSize()}lateInit(){return this.getYearsViewportSize()>0?Pt:Be(200)}waitScrolledChange(){var t;this.updateViewportDimension(),(t=this.monthsScrollRef)==null||t.scrolledIndexChange.pipe(Be(vi(this.speed)),this.lateInit(),He(1),b(this.destroyRef)).subscribe(()=>{this.initialized=!0,this.updateViewportDimension(),this.initYearScroll(),this.initMonthScroll(),this.scrollToActiveYear(),this.scrollToActiveMonth()})}initYearScroll(){let{yearsScrollRef:t}=this;if(!t)return;let e=A(t.elementRef.nativeElement,"touchstart",{passive:!0}),i=A(t.elementRef.nativeElement,"touchend",{passive:!0}),n=A(t.elementRef.nativeElement,"click");t.elementScrolled().pipe(zt(e,()=>n),kt(r=>r),Be(0),W(()=>Math.round(t.measureScrollOffset()/this.yearWidth)+Math.floor(bt/2)+w),B(r=>r!==this.activeYear),b(this.destroyRef)).subscribe(r=>{this.activeMonth+=this.getMonthOffset(r),this.activeYear=r,this.scrollToActiveMonth()}),e.pipe(Z(()=>i),Z(()=>ut(t.elementScrolled(),ze(Ie,K(this.ngZone))).pipe(we(Ie*2,K(this.ngZone)),He(1),G(e))),b(this.destroyRef)).subscribe(()=>this.scrollToActiveYear("smooth"))}initMonthScroll(){let{monthsScrollRef:t}=this;if(!t)return;let e=A(t.elementRef.nativeElement,"touchstart",{passive:!0}),i=A(t.elementRef.nativeElement,"touchend",{passive:!0});e.pipe(Z(()=>i),Z(()=>ut(t.elementScrolled(),ze(Ie,K(this.ngZone))).pipe(we(Ie*2,K(this.ngZone)),He(1),G(e))),b(this.destroyRef)).subscribe(()=>this.scrollToActiveMonth("smooth"))}scrollToActiveYear(t="auto"){var e;(e=this.yearsScrollRef)==null||e.scrollToIndex(Math.max(this.activeYear-w-2,0),this.isE2E?"auto":t)}scrollToActiveMonth(t="auto"){var e;(e=this.monthsScrollRef)==null||e.scrollToIndex(this.activeMonth,this.isE2E?"auto":t)}isYearActive(t){return t===this.activeYear}monthToYear(t){return Math.ceil((t+1)/v)+w-1}getMonthOffset(t){return(t-this.activeYear)*v}};he.\u0275fac=function(e){return new(e||he)},he.\u0275cmp=h({type:he,selectors:[["tui-mobile-calendar"]],viewQuery:function(e,i){if(e&1&&(ce(On,5),ce(Mn,5)),e&2){let n;T(n=O())&&(i.yearsScrollRef=n.first),T(n=O())&&(i.monthsScrollRef=n.first)}},hostVars:4,hostBindings:function(e,i){e&1&&m("mousedown.prevent",function(){return 0}),e&2&&U("_ios",i.isIOS)("_initialized",i.initialized)},inputs:{single:"single",multi:"multi",min:"min",max:"max",disabledItemHandler:"disabledItemHandler",value:"value"},outputs:{cancel:"cancel",confirm:"confirm",valueChange:"valueChange"},features:[q(Zi)],decls:13,vars:9,consts:[["yearsScrollRef",""],["monthsScrollRef",""],[1,"t-header"],["orientation","horizontal",1,"t-years",3,"itemSize"],[1,"t-years-wrapper"],["type","button","class","t-year",3,"click",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"t-week"],[1,"t-day"],["itemSize","354","maxBufferPx","5000","minBufferPx","0",1,"t-months",3,"scrolledIndexChange"],["class","t-month-wrapper",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],["appearance","","automation-id","tui-mobile-calendar__cancel","tuiIconButton","","tuiRipple","","type","button",1,"t-close",3,"click","iconStart"],["tuiLink","","tuiTouchable","opacity","type","button",1,"t-link","t-link_close",3,"click"],["automation-id","tui-mobile-calendar__label",1,"t-label"],["automation-id","tui-mobile-calendar__confirm","tuiLink","","tuiTouchable","opacity","type","button",1,"t-link",3,"click"],["type","button",1,"t-year",3,"click"],[1,"t-month-wrapper"],[1,"t-month"],[1,"t-calendar",3,"dayClick","disabledItemHandler","month","single","value"]],template:function(e,i){if(e&1){let n=F();f(0,xn,9,7,"header",2),l(1,"cdk-virtual-scroll-viewport",3,0)(3,"div",4),f(4,wn,2,2,"button",5),s()(),l(5,"div",6),Fe(6,Pn,2,1,"div",7,Ue),x(8,"tuiOrderWeekDays"),x(9,"async"),s(),l(10,"cdk-virtual-scroll-viewport",8,1),m("scrolledIndexChange",function(p){return P(n),S(i.onMonthChange(p))}),f(12,Sn,7,14,"section",9),s()}if(e&2){let n;I((n=i.chooseDayOrRangeTexts==null?null:i.chooseDayOrRangeTexts())?0:-1,n),c(),u("itemSize",i.yearWidth),c(3),u("cdkVirtualForOf",i.years),c(2),Ye(R(9,7,R(8,5,i.unorderedWeekDays$))),c(6),u("cdkVirtualForOf",i.months)("cdkVirtualForTemplateCacheSize",10)}},dependencies:[$e,Ni,$i,ji,ui,mi,ki,ot,Ii,Ri,nt,Hi],styles:["[_nghost-%COMP%]{display:block;block-size:100%;color:var(--tui-text-primary);overscroll-behavior:none;-webkit-tap-highlight-color:transparent}[_nghost-%COMP%]     .t-cell:before, [_nghost-%COMP%]     .t-cell:after{transform:translateZ(1px)}.t-header[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;block-size:3.5rem;padding:0 1rem;border-block-end:.5px solid var(--tui-border-normal)}._ios[_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{block-size:2.75rem;border-block-end:none}.t-close[_ngcontent-%COMP%]{inline-size:1.5rem;block-size:1.5rem;margin-inline-end:2rem}._ios[_nghost-%COMP%]   .t-close[_ngcontent-%COMP%]{display:none}.t-link[_ngcontent-%COMP%]{margin-inline-start:auto;flex-shrink:0;font-size:.875rem;line-height:1rem;font-weight:500;text-transform:uppercase;color:var(--tui-text-action)}.t-link_close[_ngcontent-%COMP%]{display:none}._ios[_nghost-%COMP%]   .t-link[_ngcontent-%COMP%]{min-inline-size:3.75rem;text-align:end;font-size:.9375rem;line-height:1.125rem;font-weight:400;letter-spacing:.018125rem;text-transform:none}._ios[_nghost-%COMP%]   .t-link_close[_ngcontent-%COMP%]{display:block;margin:0 auto 0 0;text-align:start}.t-label[_ngcontent-%COMP%]{flex-grow:1;margin:0;font-size:1.25rem;line-height:3.5rem;font-weight:500;letter-spacing:-.0125rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.t-label[_ngcontent-%COMP%] + .t-link[_ngcontent-%COMP%]{padding-inline-start:1rem}._ios[_nghost-%COMP%]   .t-label[_ngcontent-%COMP%]{font-size:1.0625rem;font-weight:600;letter-spacing:-.025625rem;text-align:center}.t-years[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;block-size:4.0625rem;background-color:var(--tui-background-base);box-shadow:0 .5px var(--tui-border-normal)}.t-years[_ngcontent-%COMP%]::-webkit-scrollbar, .t-years[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}._ios[_nghost-%COMP%]   .t-years[_ngcontent-%COMP%]{background-color:transparent}.t-years-wrapper[_ngcontent-%COMP%]{display:flex;block-size:4.0625rem}.t-year[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;text-decoration:none;outline:none;inline-size:20vw;flex-shrink:0;font-size:.9375rem;font-weight:700;letter-spacing:.015625rem;cursor:pointer;opacity:.1;transform:scale(.73);transition:color,opacity,transform .2s}.t-year[data-state=adjacent][_ngcontent-%COMP%]{transform:scale(.86);opacity:.3}.t-year[data-state=active][_ngcontent-%COMP%]{color:var(--tui-text-action);opacity:1;transform:scale(1)}.t-week[_ngcontent-%COMP%]{display:flex;align-items:center;block-size:1.875rem;inline-size:20.75rem;max-inline-size:100%;margin:0 auto;font-size:.75rem}._ios[_nghost-%COMP%]   .t-week[_ngcontent-%COMP%]{inline-size:22.625rem;font-size:.6875rem;font-weight:500;color:var(--tui-text-secondary)}.t-day[_ngcontent-%COMP%]{flex:1;text-align:center}.t-months[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;block-size:calc(100% - 9.5rem);box-shadow:0 -1px var(--tui-border-normal);overflow-x:hidden}.t-months[_ngcontent-%COMP%]::-webkit-scrollbar, .t-months[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}._ios[_nghost-%COMP%]   .t-months[_ngcontent-%COMP%]{block-size:calc(100% - 8.75rem)}.t-month-wrapper[_ngcontent-%COMP%]{display:flex;margin:.625rem 0 -.625rem;block-size:22.125rem;flex-direction:column}.t-month[_ngcontent-%COMP%]{block-size:2.75rem;inline-size:100%;line-height:2.75rem;padding-inline-start:1rem;font-size:.875rem;font-weight:500;text-transform:uppercase;margin:0 0 1.25rem;box-sizing:border-box;border-block-end:.5px solid var(--tui-border-normal)}._ios[_nghost-%COMP%]   .t-month[_ngcontent-%COMP%]{block-size:3.125rem;margin:0;border-block-end:none;text-transform:none;font-size:1.375rem;line-height:3.125rem;letter-spacing:.02rem;font-weight:700}.t-calendar[_ngcontent-%COMP%]{margin:0 auto;transition:opacity .2s}.t-week[_ngcontent-%COMP%], .t-years[_ngcontent-%COMP%], .t-months[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:0}._initialized[_nghost-%COMP%]   .t-week[_ngcontent-%COMP%], ._initialized[_nghost-%COMP%]   .t-years[_ngcontent-%COMP%], ._initialized[_nghost-%COMP%]   .t-months[_ngcontent-%COMP%]{opacity:1}"],changeDetection:0});var lt=he;var Gi,qi,Xi,Ki,Ji,ne=class ne{constructor(){this.dropdown=a(_i,{optional:!0});this.keyboard=a(zi);this.context=de({optional:!0});this.observer=(Gi=this.context)==null?void 0:Gi.$implicit;this.data=((qi=this.context)==null?void 0:qi.data)||{};this.selectedPeriod=null;this.control=a(Oi,{optional:!0});this.directive=a(ct,{optional:!0});this.range=!!((Xi=this.directive)!=null&&Xi.range)||this.is("tui-input-date-range");this.multi=this.data.multi||this.is("tui-input-date[multiple]");this.single=!!((Ki=this.directive)!=null&&Ki.single)||!!((Ji=this.directive)!=null&&Ji.dateTime)||this.data.single||this.is("tui-input-date:not([multiple])");this.value=Kt((t=(i=>(i=(e=>(e=this.directive)==null?void 0:e.date)())==null?void 0:i.value())())=>Array.isArray(t)?t[0]:t);this.keyboard.hide()}max(){var t,e,i;return((e=(t=this.directive)==null?void 0:t.date)==null?void 0:e.max())??(this.data.max||(this.range?_t(this.control.max,this.selectedPeriod,this.control.maxLength,!1):(i=this.control)==null?void 0:i.max)||Je)}min(){var t,e,i;return((e=(t=this.directive)==null?void 0:t.date)==null?void 0:e.min())??(this.data.min||(this.range?_t(this.control.min,this.selectedPeriod,this.control.maxLength,!0):(i=this.control)==null?void 0:i.min)||Ke)}onValueChange(t){this.range&&(t===null||t instanceof z?this.selectedPeriod=t:t instanceof Y&&(this.selectedPeriod=new z(t,t)))}get calculatedDisabledItemHandler(){var t,e,i;return this.calculateDisabledItemHandler(((t=this.directive)==null?void 0:t.handlers.disabledItemHandler())||this.data.disabledItemHandler||((e=this.control)==null?void 0:e.disabledItemHandler)||Qe,this.selectedPeriod,((i=this.control)==null?void 0:i.minLength)??null)}close(){var t,e;(t=this.dropdown)==null||t.toggle(!1),(e=this.observer)==null||e.complete(),this.keyboard.show()}confirm(t){var i,n,r;let e=this.range?this.selectedPeriod:t;this.control&&(this.control.value=e),e&&((n=(i=this.directive)==null?void 0:i.date)==null||n.setDate(e)),(r=this.observer)==null||r.next(e),this.close()}calculateDisabledItemHandler(t,e,i){return Ai(t,e,i)}is(t){var e;return!!((e=this.dropdown)!=null&&e.el.closest(t))}};ne.\u0275fac=function(e){return new(e||ne)},ne.\u0275cmp=h({type:ne,selectors:[["tui-mobile-calendar-dropdown"]],features:[jt([bi,it])],decls:1,vars:6,consts:[[3,"cancel","confirm","valueChange","disabledItemHandler","max","min","multi","single","value"]],template:function(e,i){e&1&&(l(0,"tui-mobile-calendar",0),m("cancel",function(){return i.close()})("confirm",function(r){return i.confirm(r)})("valueChange",function(r){return i.onValueChange(r)}),s()),e&2&&u("disabledItemHandler",i.calculatedDisabledItemHandler)("max",i.max())("min",i.min())("multi",i.multi)("single",i.single)("value",i.value())},dependencies:[lt],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;background:var(--tui-background-elevation-1);box-shadow:0 10rem var(--tui-background-elevation-1),0 -90vh 1rem 2rem var(--tui-service-backdrop);block-size:calc(100% - env(safe-area-inset-top) - env(safe-area-inset-bottom));padding:env(safe-area-inset-top) 0 env(safe-area-inset-bottom)}.tui-enter[_nghost-%COMP%], .tui-leave[_nghost-%COMP%]{animation-name:tuiFade,tuiSlide}"],changeDetection:0}),Ae([Ze],ne.prototype,"calculateDisabledItemHandler",1);var st=ne;var fe=class fe{constructor(){this.handlers=a(yi)}get date(){return this.single||this.range||this.dateTime}};fe.\u0275fac=function(e){return new(e||fe)},fe.\u0275dir=le({type:fe,selectors:[["","tuiMobileCalendar",""]],contentQueries:function(e,i,n){if(e&1&&(se(n,Bi,5),se(n,Vi,5),se(n,Ui,5)),e&2){let r;T(r=O())&&(i.single=r.first),T(r=O())&&(i.range=r.first),T(r=O())&&(i.dateTime=r.first)}},features:[q([{provide:vt,useFactory:()=>a(fi)?st:a(vt,{skipSelf:!0})}])]});var ct=fe;var Re=10**-6,In="tui-dialog, tui-sheet-dialog, tui-dropdown, tui-dropdown-mobile",oe=class oe extends St{constructor(){let e=a(dt);super(i=>(e?this.pulling$:$).subscribe(i));this.el=X();this.scrollRef=a(et);this.loaded$=a(en);this.threshold=a(J);this.touched=!1;this.pulling$=this.loaded$.pipe(Pe(null),Z(()=>A(this.el,"touchstart",{passive:!0}).pipe(B(()=>!this.scrollRef.nativeElement.scrollTop&&!this.el.querySelector(In)),W(({touches:e})=>{var i;return((i=e[0])==null?void 0:i.clientY)??0}),Z(e=>A(this.el,"touchmove").pipe(mt(()=>{this.touched=!0}),W(({touches:i})=>{var n;return(((n=i[0])==null?void 0:n.clientY)??0)-e}),B(i=>i>0),G(A(this.el,"touchend").pipe(mt(()=>{this.touched=!1}))),G(Ge(this.scrollRef.nativeElement)),Dt(0))),Rt((e,i)=>!i&&!this.touched&&e>this.threshold?this.threshold:i+i*Re,0),At(e=>e!==this.threshold,!0),Pe(0))),we(0,K()),Q(),ai(),Et())}};oe.\u0275fac=function(i){return new(i||oe)},oe.\u0275prov=Ht({token:oe,factory:oe.\u0275fac});var ge=oe;function kn(o,t){if(o&1&&(ee(),l(0,"svg",3)(1,"defs")(2,"mask",4),g(3,"path",5),s()(),l(4,"g",6),g(5,"path",7),s()()),o&2){let e=d();C("opacity",e.opacity),V("transform",e.transform)}}function Dn(o,t){o&1&&g(0,"tui-loader",2),o&2&&u("inheritColor",!0)}var Rn=180,En=500,Ln=2.3,ve=class ve{constructor(){this.context=de();this.threshold=a(J)}get percent(){return this.context.$implicit*100/this.threshold}get dropped(){return this.context.$implicit<=Re||this.context.$implicit===this.threshold}get hostTransform(){return`translateY(${Math.min(this.context.$implicit,this.threshold*1.5)}px)`}get opacity(){return this.context.$implicit/(this.threshold*1.5)}get transform(){return`rotate(${Math.min(Rn+this.percent*Ln,En)} 0 0)`}};ve.\u0275fac=function(e){return new(e||ve)},ve.\u0275cmp=h({type:ve,selectors:[["tui-mobile-android-loader"]],hostVars:6,hostBindings:function(e,i){e&2&&(C("transform",i.hostTransform),U("_visible",i.percent)("_dropped",i.dropped))},decls:3,vars:1,consts:[[1,"t-wrapper"],["fill","none","height","24","viewBox","0 0 24 24","width","24","xmlns","http://www.w3.org/2000/svg",3,"opacity"],["size","s",1,"t-loader",3,"inheritColor"],["fill","none","height","24","viewBox","0 0 24 24","width","24","xmlns","http://www.w3.org/2000/svg"],["id","mask-1"],["clip-rule","evenodd","d","M21 12C21 7.03 16.97 3 12 3C7.03 3 3 7.03 3 12C3 16.97 7.03 21 12 21C14.06 21 15.96 20.3 17.48 19.14L16.06 17.7C14.91 18.51 13.51 19 12 19C8.13 19 5 15.87 5 12C5 8.13 8.13 5 12 5C15.87 5 19 8.13 19 12H16L20 16L24 12H21Z","fill","white","fill-rule","evenodd"],["mask","url(#mask-1)"],["clip-rule","evenodd","d","M21 12C21 7.03 16.97 3 12 3C7.03 3 3 7.03 3 12C3 16.97 7.03 21 12 21C14.06 21 15.96 20.3 17.48 19.14L16.06 17.7C14.91 18.51 13.51 19 12 19C8.13 19 5 15.87 5 12C5 8.13 8.13 5 12 5C15.87 5 19 8.13 19 12H16L20 16L24 12H21Z","fill","black","fill-rule","evenodd"]],template:function(e,i){e&1&&(l(0,"div",0),f(1,kn,6,3,":svg:svg",1)(2,Dn,1,1,"tui-loader",2),s()),e&2&&(c(),I(i.percent!==100?1:2))},dependencies:[Ti],styles:["[_nghost-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:sticky;top:0;z-index:1;display:block;block-size:0;opacity:0}._visible[_nghost-%COMP%]{opacity:1}._dropped[_nghost-%COMP%]{transition:transform var(--tui-duration) cubic-bezier(.4,0,.2,1),opacity var(--tui-duration) var(--tui-duration)}.t-wrapper[_ngcontent-%COMP%]{position:absolute;top:-2.5rem;left:50%;display:flex;box-shadow:var(--tui-shadow-medium);block-size:2.25rem;inline-size:2.25rem;background-color:var(--tui-background-neutral-1);border-radius:6.25rem;align-items:center;justify-content:center;margin-inline-start:-1.125rem}.t-loader[_ngcontent-%COMP%]{color:var(--tui-text-primary)}"],changeDetection:0});var Mt=ve,tn=new tt(Mt);var en=new ae("",{factory:()=>$}),J=new ae("",{factory:()=>50}),dt=new ae("",{factory:()=>a(H)?nn:tn});function An(o,t){if(o&1&&(ee(),g(0,"animate",3)),o&2){let e=d(2).$implicit,i=d();V("begin",i.calculateAnimationBegin(e))}}function zn(o,t){if(o&1&&(ee(),l(0,"g")(1,"rect",2),f(2,An,1,1,":svg:animate",3),s()()),o&2){let e=d().$implicit,i=d();V("transform",i.calculateTransform(e)),c(2),I(i.finished?2:-1)}}function Hn(o,t){if(o&1&&(ee(),Ne(0),f(1,zn,3,2,":svg:g"),je()),o&2){let e=t.$implicit,i=d();c(),I(i.isShown(e)?1:-1)}}var on=8,Bn=30,_e=class _e{constructor(){this.context=de();this.threshold=a(J);this.steps=12}get finished(){return this.percent>=100}get percent(){return this.context.$implicit*100/this.threshold}isShown(t){return this.percent>(t+1)*on}calculateTransform(t){return`rotate(${t*Bn} 50 50)`}calculateAnimationBegin(t){return`${t*on/100}s`}};_e.\u0275fac=function(e){return new(e||_e)},_e.\u0275cmp=h({type:_e,selectors:[["tui-mobile-ios-loader"]],decls:2,vars:1,consts:[["height","36","preserveAspectRatio","xMidYMid","viewBox","0 0 100 100","width","36",0,"xmlns","xlink","http://www.w3.org/1999/xlink","xmlns","http://www.w3.org/2000/svg"],[4,"tuiRepeatTimes","tuiRepeatTimesOf"],["fill","#c7c9cc","height","16","rx","7.05","ry","3.3","width","6","x","47","y","22"],["attributeName","opacity","dur","1s","keyTimes","0;1","repeatCount","indefinite","values","1;0"]],template:function(e,i){e&1&&(ee(),l(0,"svg",0),f(1,Hn,2,1,"ng-container",1),s()),e&2&&(c(),u("tuiRepeatTimesOf",i.steps))},dependencies:[pe],styles:["[_nghost-%COMP%]{position:absolute;top:-.5rem;left:50%;margin-inline-start:-1.125rem}"],changeDetection:0});var xt=_e,nn=new tt(xt);var Vn=["*"],Un=o=>({$implicit:o});function Fn(o,t){o&1&&$t(0)}var be=class be{constructor(){this.isIOS=a(H);this.threshold=a(J);this.pulling$=a(ge);this.component=a(dt);this.dropped$=this.pulling$.pipe(W(t=>t<=Re||t===this.threshold),Q());this.styleHandler=this.isIOS?t=>({top:ni(t/2)}):()=>null;this.pulled=a(ge).pipe(B(t=>t===this.threshold));if(!this.component)return;let t=a(et).nativeElement;Ge(t).pipe(Pe(null),Xe(),b()).subscribe(()=>{t.scrollTop?t.style.touchAction="":t.style.touchAction="pan-down"})}};be.\u0275fac=function(e){return new(e||be)},be.\u0275cmp=h({type:be,selectors:[["tui-pull-to-refresh"]],inputs:{styleHandler:"styleHandler"},outputs:{pulled:"pulled"},features:[q([ge])],ngContentSelectors:Vn,decls:6,vars:16,consts:[[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(e,i){e&1&&(L(),f(0,Fn,1,0,"ng-container",0),x(1,"async"),l(2,"div"),x(3,"async"),x(4,"async"),k(5),s()),e&2&&(u("polymorpheusOutlet",i.component)("polymorpheusOutletContext",Gt(14,Un,R(1,8,i.pulling$)||0)),c(2),Ve(i.styleHandler(R(3,10,i.pulling$)||0)),C("position","relative"),U("t-drop",R(4,12,i.dropped$)))},dependencies:[$e,hi],styles:[".t-drop[_ngcontent-%COMP%]{transition:all var(--tui-duration) cubic-bezier(.4,0,.2,1)}"],changeDetection:0});var rn=be;var Yn=["*",[["","tuiSwipeAction",""]]],Nn=["*","[tuiSwipeAction]"],ye=class ye{constructor(){this.actionsWidth=0;this.cdr=a(Xt)}onResize({target:t}){this.actionsWidth=t.clientWidth,this.cdr.detectChanges()}};ye.\u0275fac=function(e){return new(e||ye)},ye.\u0275cmp=h({type:ye,selectors:[["tui-swipe-actions"]],hostVars:2,hostBindings:function(e,i){e&2&&C("--t-actions-width",i.actionsWidth)},ngContentSelectors:Nn,decls:4,vars:0,consts:[[1,"t-content"],[1,"t-actions",3,"waResizeObserver"]],template:function(e,i){e&1&&(L(Yn),l(0,"div",0),k(1),s(),l(2,"div",1),m("waResizeObserver",function(r){return r[0]&&i.onResize(r[0])}),k(3,1),s())},dependencies:[ii],styles:["[_nghost-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;--tui-action-gap: 24;--tui-actions-padding: .5rem;--tui-item-size: 44;--t-x: calc(50% + 50% * var(--tui-inline));display:flex;inline-size:stretch;align-items:center;overflow-x:scroll;overflow-y:hidden;scroll-snap-type:x mandatory;perspective:1px;perspective-origin:calc(var(--t-x) + var(--tui-inline) * (calc(1px * var(--tui-item-size) / 2) + var(--tui-actions-padding)))}[_nghost-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%]::-webkit-scrollbar-thumb{display:none}.t-content[_ngcontent-%COMP%]{scroll-snap-align:start;flex-shrink:0;inline-size:100%}.t-actions[_ngcontent-%COMP%]{display:flex;gap:calc(1px * var(--tui-action-gap));padding:0 1rem 0 var(--tui-actions-padding);scroll-snap-align:start;align-items:center;transform-style:preserve-3d;pointer-events:none;transform:translateZ(-.00001px)}.t-actions[_ngcontent-%COMP%]:empty{display:none}  .t-actions>*{pointer-events:auto}  .t-actions>*:nth-child(2){--t-distance: calc(var(--tui-item-size) + var(--tui-action-gap)) * 1 ;--t-factor: calc((var(--t-actions-width) - var(--t-distance)) / var(--t-actions-width));--t-scale: calc(1 / var(--t-factor));--t-translate: calc(1px * (1 - 1 / var(--t-factor)));transform:translate3d(calc(calc((-100% * var(--tui-inline) - calc(1px * var(--tui-inline) * var(--tui-action-gap))) * (2 - 1)) / var(--t-scale)),0,var(--t-translate));scale:var(--t-scale)}  .t-actions>*:nth-child(3){--t-distance: calc(var(--tui-item-size) + var(--tui-action-gap)) * 2 ;--t-factor: calc((var(--t-actions-width) - var(--t-distance)) / var(--t-actions-width));--t-scale: calc(1 / var(--t-factor));--t-translate: calc(1px * (1 - 1 / var(--t-factor)));transform:translate3d(calc(calc((-100% * var(--tui-inline) - calc(1px * var(--tui-inline) * var(--tui-action-gap))) * (3 - 1)) / var(--t-scale)),0,var(--t-translate));scale:var(--t-scale)}  .t-actions>*:nth-child(4){--t-distance: calc(var(--tui-item-size) + var(--tui-action-gap)) * 3 ;--t-factor: calc((var(--t-actions-width) - var(--t-distance)) / var(--t-actions-width));--t-scale: calc(1 / var(--t-factor));--t-translate: calc(1px * (1 - 1 / var(--t-factor)));transform:translate3d(calc(calc((-100% * var(--tui-inline) - calc(1px * var(--tui-inline) * var(--tui-action-gap))) * (4 - 1)) / var(--t-scale)),0,var(--t-translate));scale:var(--t-scale)}  .t-actions>*:nth-child(5){--t-distance: calc(var(--tui-item-size) + var(--tui-action-gap)) * 4 ;--t-factor: calc((var(--t-actions-width) - var(--t-distance)) / var(--t-actions-width));--t-scale: calc(1 / var(--t-factor));--t-translate: calc(1px * (1 - 1 / var(--t-factor)));transform:translate3d(calc(calc((-100% * var(--tui-inline) - calc(1px * var(--tui-inline) * var(--tui-action-gap))) * (5 - 1)) / var(--t-scale)),0,var(--t-translate));scale:var(--t-scale)}  .t-actions>*:nth-child(6){--t-distance: calc(var(--tui-item-size) + var(--tui-action-gap)) * 5 ;--t-factor: calc((var(--t-actions-width) - var(--t-distance)) / var(--t-actions-width));--t-scale: calc(1 / var(--t-factor));--t-translate: calc(1px * (1 - 1 / var(--t-factor)));transform:translate3d(calc(calc((-100% * var(--tui-inline) - calc(1px * var(--tui-inline) * var(--tui-action-gap))) * (6 - 1)) / var(--t-scale)),0,var(--t-translate));scale:var(--t-scale)}@media (hover: hover) and (pointer: fine){.t-actions[_ngcontent-%COMP%]{display:none}}"],changeDetection:0});var an=ye;var Ce=class Ce{constructor(){this.el=X();this.autoClose=!0}handleEvent(t){this.autoClose!==!1&&!this.el.contains(ri(t))&&this.el.scrollTo({left:0,behavior:"smooth"})}};Ce.\u0275fac=function(e){return new(e||Ce)},Ce.\u0275dir=le({type:Ce,selectors:[["tui-swipe-actions","autoClose",""]],hostBindings:function(e,i){e&1&&m("pointerdown.zoneless",function(r){return i.handleEvent(r)},!1,ht)("focusin.zoneless",function(r){return i.handleEvent(r)},!1,ht)},inputs:{autoClose:"autoClose"}});var ln=Ce;var jn=["tuiTabBarItem",""],$n=["*"];function Wn(o,t){if(o&1&&(l(0,"span",2),M(1),s()),o&2){let e=d();c(),D(" ",e.format(t)," ")}}var Te=class Te{constructor(){this.icon="";this.badge=null}format(t){return t>999?"999+":String(t)}};Te.\u0275fac=function(e){return new(e||Te)},Te.\u0275cmp=h({type:Te,selectors:[["button","tuiTabBarItem",""],["a","tuiTabBarItem",""]],inputs:{icon:"icon",badge:"badge"},attrs:jn,ngContentSelectors:$n,decls:5,vars:2,consts:[[1,"t-icon",3,"icon"],[1,"t-wrapper"],["tuiAnimated","",1,"t-badge"],[1,"t-text"]],template:function(e,i){if(e&1&&(L(),g(0,"tui-icon",0),l(1,"span",1),f(2,Wn,2,1,"span",2),s(),l(3,"span",3),k(4),s()),e&2){let n;u("icon",i.icon),c(2),I((n=i.badge)?2:-1,n)}},dependencies:[it,Ci],styles:["[_nghost-%COMP%]{-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;line-height:inherit;text-decoration:none;transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;display:flex;flex:1 0;font:inherit;flex-direction:column;align-items:center;overflow:hidden}[_nghost-%COMP%]:nth-child(1){color:var(--tui-tab-1, inherit)}[_nghost-%COMP%]:nth-child(2){color:var(--tui-tab-2, inherit)}[_nghost-%COMP%]:nth-child(3){color:var(--tui-tab-3, inherit)}[_nghost-%COMP%]:nth-child(4){color:var(--tui-tab-4, inherit)}[_nghost-%COMP%]:nth-child(5){color:var(--tui-tab-5, inherit)}[_nghost-%COMP%]:nth-child(6){color:var(--tui-tab-6, inherit)}[_nghost-%COMP%]:nth-child(7){color:var(--tui-tab-7, inherit)}[_nghost-%COMP%]:nth-child(8){color:var(--tui-tab-8, inherit)}[_nghost-%COMP%]:nth-child(9){color:var(--tui-tab-9, inherit)}[_nghost-%COMP%]:nth-child(10){color:var(--tui-tab-10, inherit)}.t-icon[_ngcontent-%COMP%]{inline-size:1.75rem;block-size:1.75rem;margin:.375rem 0 .125rem;pointer-events:none;border:.125rem solid transparent}.t-wrapper[_ngcontent-%COMP%]{position:absolute;top:.125rem;left:1rem;display:flex;inline-size:100%;justify-content:center;pointer-events:none}.t-badge[_ngcontent-%COMP%]{display:flex;block-size:1.125rem;min-inline-size:1.125rem;align-items:center;justify-content:center;padding:0 .25rem;border-radius:1rem;font-size:.8125rem;box-sizing:border-box;color:var(--tui-background-base);background:var(--tui-status-negative)}.t-badge[_ngcontent-%COMP%]   .tui-enter[_ngcontent-%COMP%], .t-badge[_ngcontent-%COMP%]   .tui-leave[_ngcontent-%COMP%]{animation-name:tuiScale}.t-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-inline-size:100%;pointer-events:none}"],changeDetection:0});var Ee=Te;var Qn=["tuiTabBar",""],Zn=["*"];function Gn(o,t){o&1&&g(0,"div",2)}var Oe=class Oe{constructor(){this.tabs=We;this.quantity=4;this.activeItemIndex=NaN;this.activeItemIndexChange=new Se}setActive(t){oi(t)&&this.updateIndex(this.tabs.toArray().findIndex(({nativeElement:e})=>e===t))}get style(){return`--tui-tab-${this.activeItemIndex+1}: var(--tui-active-color)`}updateIndex(t){this.activeItemIndex=t,this.activeItemIndexChange.emit(t)}};Oe.\u0275fac=function(e){return new(e||Oe)},Oe.\u0275cmp=h({type:Oe,selectors:[["nav","tuiTabBar",""]],contentQueries:function(e,i,n){if(e&1&&se(n,Ee,4,Yt),e&2){let r;T(r=O())&&(i.tabs=r)}},hostVars:2,hostBindings:function(e,i){e&1&&m("click",function(r){return i.setActive(r.target)}),e&2&&Ve(i.style)},inputs:{quantity:"quantity",activeItemIndex:"activeItemIndex"},outputs:{activeItemIndexChange:"activeItemIndexChange"},attrs:Qn,ngContentSelectors:Zn,decls:3,vars:1,consts:[[1,"t-skeletons"],["class","t-skeleton",4,"tuiRepeatTimes","tuiRepeatTimesOf"],[1,"t-skeleton"]],template:function(e,i){e&1&&(L(),k(0),l(1,"div",0),f(2,Gn,1,0,"div",1),s()),e&2&&(c(2),u("tuiRepeatTimesOf",i.quantity))},dependencies:[pe],styles:['[_nghost-%COMP%]{--tui-active-color: var(--tui-text-action);position:relative;display:flex;font: .625rem/.75rem system-ui,sans-serif;block-size:var(--tui-height-l);color:var(--tui-text-secondary);-webkit-backdrop-filter:blur(.3125rem);backdrop-filter:blur(.3125rem)}[_nghost-%COMP%]:before{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:"";background:var(--tui-background-base-alt);box-shadow:inset 0 1px var(--tui-border-normal);opacity:.8}[tuiTheme=dark]   [_nghost-%COMP%]:before{opacity:.7}.t-skeletons[_ngcontent-%COMP%]{display:none;block-size:100%;inline-size:100%;justify-content:space-around}.t-skeletons[_ngcontent-%COMP%]:first-child{display:flex}.t-skeleton[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;animation:tuiSkeletonVibe ease-in-out 1s infinite alternate}.t-skeleton[_ngcontent-%COMP%]:before{content:"";inline-size:1.375rem;block-size:1.375rem;margin-block-end:.5rem;border-radius:100%;background:var(--tui-background-neutral-2)}.t-skeleton[_ngcontent-%COMP%]:after{content:"";inline-size:2.5rem;block-size:.375rem;border-radius:1rem;background:var(--tui-background-neutral-2)}'],changeDetection:0});var Le=Oe;var Me=class Me{constructor(){var n;let t=a(Le),e=X();(((n=a(ti,{optional:!0}))==null?void 0:n.isActiveChange)||$).pipe(B(Boolean),qe(),b()).subscribe(()=>t.setActive(e))}};Me.\u0275fac=function(e){return new(e||Me)},Me.\u0275dir=le({type:Me,selectors:[["","tuiTabBarItem","","routerLinkActive",""]]});var wt=Me;export{Wi as a,lt as b,ct as c,st as d,nn as e,en as f,dt as g,tn as h,rn as i,an as j,ln as k,Ee as l,Le as m,wt as n};
