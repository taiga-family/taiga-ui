import{$ as F,_ as N,ca as L,da as W,ea as G}from"./chunk-GFMWHXHB.js";import"./chunk-I3APOXEY.js";import"./chunk-LU7CBR4B.js";import"./chunk-25DZMLR5.js";import"./chunk-TK2ZMALG.js";import"./chunk-CSOCXIGY.js";import"./chunk-W3DYXSOJ.js";import"./chunk-HZES2IMV.js";import"./chunk-KWHIYQSG.js";import"./chunk-2G7DS4FA.js";import"./chunk-UGZKTBZP.js";import"./chunk-QLHTNIA4.js";import"./chunk-5OA4Q4GP.js";import"./chunk-NL5YAE3H.js";import"./chunk-EGSHYO6J.js";import"./chunk-3TPQOSFU.js";import"./chunk-LO7SW65Y.js";import"./chunk-Q3MSSB66.js";import"./chunk-67DA74WS.js";import"./chunk-NG54SK4A.js";import"./chunk-H6SLS4BL.js";import"./chunk-SFTRSDVA.js";import"./chunk-5YR74TI7.js";import{b as j}from"./chunk-EFYFB7HS.js";import"./chunk-F42WLITG.js";import"./chunk-UHAZC3AQ.js";import"./chunk-W2C6XQYS.js";import"./chunk-IDF6A2PG.js";import{q}from"./chunk-3ZVCWIHE.js";import"./chunk-IO2SUXHL.js";import"./chunk-FTCBM4DE.js";import"./chunk-FZ5GKFYF.js";import"./chunk-HNW3FD5R.js";import{fa as Q}from"./chunk-PBXJ4MBN.js";import"./chunk-LL2PODKS.js";import"./chunk-KFO6RLOG.js";import"./chunk-YZEUJVGX.js";import"./chunk-QARATVCH.js";import"./chunk-BZ34EWIY.js";import"./chunk-2NJG2F7S.js";import"./chunk-4OGXTBHW.js";import"./chunk-VYY5GYF4.js";import"./chunk-2LKEP7VN.js";import"./chunk-BLAIGQGS.js";import"./chunk-WCPCOMN3.js";import"./chunk-CVSPHD6B.js";import"./chunk-NIV2PIAL.js";import{R as A}from"./chunk-QUTX6DZN.js";import"./chunk-KWZHGPWS.js";import"./chunk-TDHYON55.js";import{q as U}from"./chunk-GOJWO2R3.js";import{Ac as g,Bc as b,Cb as m,F as P,Fc as z,Gc as M,Hc as I,J as E,La as u,Ma as _,Mc as s,Nc as O,Tb as V,Zb as v,cd as l,dd as p,fc as w,ia as S,id as R,j as C,ja as k,kc as x,pc as r,qc as a,rc as f,s as T,vc as y,wb as D,x as c,za as B}from"./chunk-2UPKG2B4.js";import"./chunk-B4AJQJMI.js";var H=["preview"];function J(o,e){o&1&&(r(0,"div",6),f(1,"tui-icon",9),r(2,"div"),s(3,"Preview unavailable"),a()())}function K(o,e){o&1&&f(0,"img",7),o&2&&w("src",e,D)}function X(o,e){o&1&&f(0,"tui-loader",8)}function Y(o,e){if(o&1){let i=y();r(0,"tui-preview",2),l(1,"async"),l(2,"async"),l(3,"async"),r(4,"tui-preview-title"),s(5),l(6,"async"),a(),r(7,"tui-preview-pagination",3),g("indexChange",function(n){u(i);let $=b();return _($.index$$.next(n))}),a(),r(8,"button",4),g("click",function(){u(i);let n=b();return _(n.download())}),s(9," Download "),a(),r(10,"button",5),g("click",function(){let n=u(i).$implicit;return _(n.complete())}),s(11," Close "),a(),v(12,J,4,0,"div",6),l(13,"async"),v(14,K,1,1,"img",7),l(15,"async"),v(16,X,1,0,"tui-loader",8),l(17,"async"),a()}if(o&2){let i,t=b();w("rotatable",!p(1,8,t.contentUnavailable$))("zoomable",!p(2,10,t.contentUnavailable$)&&!p(3,12,t.loading$)),m(5),O(p(6,14,t.title$)),m(2),w("index",t.index$$.value)("length",t.items.length),m(5),x(p(13,16,t.contentUnavailable$)?12:-1),m(2),x((i=p(15,18,t.imageSrc$))?14:-1,i),m(2),x(p(17,20,t.loading$)?16:-1)}}var d=class d{constructor(){this.previewDialogService=B(F);this.items=[{title:"some table.xlsx",hasPreview:!1},{title:"Content #2",hasPreview:!0}];this.index$$=new C(0);this.item$=this.index$$.pipe(c(e=>this.items[e]),E(A));this.title$=this.item$.pipe(c(e=>e.title));this.contentUnavailable$=this.item$.pipe(c(e=>!e.hasPreview));this.imageSrc$=this.item$.pipe(k(e=>e.hasPreview?this.emulateBackendRequest().pipe(S("")):T(null)));this.loading$=this.imageSrc$.pipe(c(e=>e===""))}show(){this.previewDialogService.open(this.preview||"").subscribe()}download(){console.info("downloading...")}emulateBackendRequest(){return P(1500).pipe(c(()=>"https://ng-web-apis.github.io/dist/assets/images/web-api.svg"))}};d.\u0275fac=function(i){return new(i||d)},d.\u0275cmp=V({type:d,selectors:[["ng-component"]],viewQuery:function(i,t){if(i&1&&z(H,5),i&2){let n;M(n=I())&&(t.preview=n.first)}},decls:4,vars:0,consts:[["preview",""],["size","m","tuiButton","","type","button",1,"tui-space_bottom-4",3,"click"],[3,"rotatable","zoomable"],[3,"indexChange","index","length"],["iconStart","@tui.download","tuiIconButton","","tuiPreviewAction","","type","button",3,"click"],["iconStart","@tui.x","tuiIconButton","","tuiPreviewAction","","type","button",3,"click"],["tuiTheme","dark",1,"t-container"],["alt","img source","height","512","width","512",3,"src"],["size","xl",1,"t-loader"],["icon","@tui.file",1,"t-icon"]],template:function(i,t){if(i&1){let n=y();r(0,"button",1),g("click",function(){return u(n),_(t.show())}),s(1,` Show preview
`),a(),v(2,Y,18,22,"ng-template",null,0,R)}},dependencies:[U,Q,q,j,W,G,L,N],styles:[".content[_ngcontent-%COMP%]{background-color:#f5f1f1;inline-size:25rem;block-size:37.5rem;padding:2.5rem;border-radius:.75rem}.t-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;color:var(--tui-text-secondary)}.t-icon[_ngcontent-%COMP%]{margin-block-end:.75rem;font-size:5rem}.t-loader[_ngcontent-%COMP%]{inline-size:4rem}"],changeDetection:0});var h=d;export{h as default};
