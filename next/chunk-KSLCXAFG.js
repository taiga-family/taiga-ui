import{e as ce,k as me,l as se,m as ue}from"./chunk-HCGLHT3T.js";import"./chunk-RYSNVDEJ.js";import"./chunk-JL4PKXS3.js";import"./chunk-OF6LWAQO.js";import"./chunk-BQR26O4V.js";import{k as de}from"./chunk-NCYTPIAU.js";import{c as pe}from"./chunk-OHAGN5OB.js";import"./chunk-EHQXA5ZD.js";import"./chunk-GFVVTMD5.js";import"./chunk-3N6EVDA2.js";import"./chunk-PG7HNE3E.js";import"./chunk-CM743BBE.js";import"./chunk-VJFTAZOO.js";import"./chunk-VJMMC5T3.js";import"./chunk-Q3RLR5U5.js";import"./chunk-2OYPWQS2.js";import"./chunk-VQ56HFN7.js";import"./chunk-VBCZOPQN.js";import"./chunk-MTAINC6A.js";import"./chunk-O6UM644T.js";import"./chunk-YEWDNQPR.js";import"./chunk-4PDCEDWE.js";import"./chunk-HDGWTFNH.js";import"./chunk-Z3LFZJ3K.js";import"./chunk-OMZMAFQR.js";import"./chunk-6DD5T2VR.js";import"./chunk-BZPKBGQL.js";import"./chunk-CEEZBV64.js";import"./chunk-KOYVH63H.js";import"./chunk-6A6EFZ7W.js";import"./chunk-GGQ7LRWG.js";import"./chunk-TM77L2JA.js";import"./chunk-YPMRIVB4.js";import{c as ee}from"./chunk-7QL3DKVH.js";import"./chunk-32EPBUDC.js";import{W as ne,Z as ae,ca as re,h as ie}from"./chunk-YABU4UAY.js";import"./chunk-DERVPRBY.js";import"./chunk-LYVFTZAB.js";import"./chunk-I4N5R6Q5.js";import"./chunk-EVN24HAH.js";import"./chunk-4U2DNEOR.js";import"./chunk-T7CZIA5R.js";import{c as oe}from"./chunk-DWKKHIXL.js";import"./chunk-HVPTAUBE.js";import"./chunk-CYYGRNV2.js";import"./chunk-CHS6H6BT.js";import"./chunk-UEDJIMWG.js";import{a as le}from"./chunk-2ASTB5IE.js";import"./chunk-Z7Z3MGBI.js";import"./chunk-WUXQZARL.js";import"./chunk-LMX6REOV.js";import{Vb as Y,Wb as c,Yb as b,fc as Z,hd as te,j as q,ya as T}from"./chunk-HCM5SIEF.js";import{B as Q,c as G,h as J,m as K}from"./chunk-34QFRBFN.js";import{q as X}from"./chunk-HB52MDKS.js";import"./chunk-SVUDN6EH.js";import{Aa as P,Cc as z,Db as l,Dc as y,Ma as E,Na as L,Nc as $,Oc as g,Pc as H,Qc as B,Sc as k,Tc as W,Ub as V,Uc as I,_b as _,ed as M,fd as j,gc as u,hd as O,kd as U,mc as S,oc as C,pc as D,qc as v,rc as p,s as x,sc as o,tc as w,w as F,xc as N}from"./chunk-NAEF7NDX.js";import{h}from"./chunk-42JZD6NG.js";function ye(n,e){n&1&&w(0,"tui-calendar-range")}function fe(n,e){n&1&&w(0,"tui-calendar-range")}function he(n,e){if(n&1&&(p(0,"span",8)(1,"small",10),g(2),o()()),n&2){let i=e.$index;l(2),B("Chart ",i+1,"")}}function _e(n,e){if(n&1&&(w(0,"tui-line-days-chart",11),M(1,"tuiFilter")),n&2){let i=e.$implicit,t=y(3);u("height",200)("value",O(1,2,i,t.filter,t.range))}}function Te(n,e){if(n&1&&D(0,_e,2,6,"tui-line-days-chart",11,C),n&2){let i=y(2);v(i.days)}}function xe(n,e){if(n&1&&(w(0,"tui-line-chart",12),M(1,"tuiFilter"),M(2,"tuiMapper")),n&2){let i=e.$implicit,t=y(3);u("height",200)("value",O(2,7,O(1,3,i,t.filter,t.range),t.toNumbers,t.range))("width",t.getWidth(t.range))}}function Ce(n,e){if(n&1&&D(0,xe,3,11,"tui-line-chart",12,C),n&2){let i=y(2);v(i.days)}}function De(n,e){if(n&1&&(p(0,"tui-axes",9),_(1,Te,2,0)(2,Ce,2,0),o()),n&2){let i=e,t=y(),a=$(21);u("axisXLabels",i)("horizontalLines",4)("tuiLineChartHint",a)("verticalLines",i.length-1),l(),S(t.getWidth(t.show)>90?1:2)}}function ve(n,e){if(n&1&&(p(0,"div",8)(1,"span",14),g(2),o()()),n&2){let i=e.$implicit;l(2),B("$",i[1].toFixed(0),"")}}function we(n,e){if(n&1&&(p(0,"div",13)(1,"strong"),g(2),o()(),p(3,"div"),D(4,ve,3,1,"div",8,C),o()),n&2){let i=e.$implicit,t=y();l(2),H(t.getDate(i[0][0],t.range.from)),l(2),v(i)}}var d=class d{constructor(){this.isE2E=P(te);this.months$=q(P(Z));this.data=new b(c.currentLocal(),c.currentLocal().append({month:5}));this.show=this.data;this.days=this.random(this.data);this.maxLength={month:6};this.filter=([e],{from:i,to:t})=>e.daySameOrAfter(i)&&e.daySameOrBefore(t);this.toNumbers=(e,{from:i})=>e.map(([t,a])=>[c.lengthBetween(i,t),a])}get range(){return this.computeRange(this.show)}getWidth({from:e,to:i}){return c.lengthBetween(e,i)}getDate(e,i){return e instanceof c?e:i.append({day:e})}labels({from:e,to:i}){let t=c.lengthBetween(e,i);if(t>90)return this.months$.pipe(F(s=>[...Array.from({length:Y.lengthBetween(e,i)+1},(f,R)=>s[e.append({month:R}).month]??""),""]));let a=Array.from({length:t},(s,f)=>e.append({day:f})),m=Me(a),r=a.map(String);return t>60?x([...ge(m),""]):t>14?x([...m,""]):t>7?x([...ge(r),""]):x([...r,""])}onDataChange(e){this.days=this.random(e)}computeRange(e){let{from:i,to:t}=e,a=c.lengthBetween(i,t),m=i.dayOfWeek(),r=t.dayOfWeek(),s=m?i.append({day:7-m}):i,f=r?t.append({day:7-r}):t,R=c.lengthBetween(s,f);return a>90?e:a>60?new b(s,f.append({day:R%14})):a>14?new b(s,f):new b(i,t.append({day:a%2}))}generateRandomData({from:e,to:i},t){return new Array(c.lengthBetween(e,i)+1).fill(0).reduce((a,m,r)=>{var s;return[...a,[e.append({day:r}),this.isE2E?t:Math.max((r?((s=a[r-1])==null?void 0:s[1])??0:t)+Math.random()*10-5,0)]]},[]).filter(([a])=>a.dayOfWeek()<5)}random(e){return[this.generateRandomData(e,100),this.generateRandomData(e,75),this.generateRandomData(e,50)]}};d.\u0275fac=function(i){return new(i||d)},d.\u0275cmp=V({type:d,selectors:[["ng-component"]],decls:22,vars:9,consts:[["hint",""],[1,"controls"],[3,"tuiTextfieldCleaner"],["tuiLabel",""],["tuiInputDateRange","",3,"ngModelChange","maxLength","ngModel"],[4,"tuiDropdown"],[1,"tui-space_left-4",3,"tuiTextfieldCleaner"],[1,"legend"],[1,"item"],[1,"axes",3,"axisXLabels","horizontalLines","tuiLineChartHint","verticalLines"],[1,"name"],[1,"chart",3,"height","value"],[1,"chart",3,"height","value","width"],[1,"tui-space_bottom-2"],[1,"value"]],template:function(i,t){if(i&1){let a=N();p(0,"tui-notification")(1,"code"),g(2,"TuiLineDaysChart"),o(),g(3,` is used to show data of several months to simplify working with different number of days in months
`),o(),p(4,"p",1)(5,"tui-textfield",2)(6,"label",3),g(7,"Data"),o(),p(8,"input",4),I("ngModelChange",function(r){return E(a),W(t.data,r)||(t.data=r),L(r)}),z("ngModelChange",function(r){return E(a),L(t.onDataChange(r))}),o(),_(9,ye,1,0,"tui-calendar-range",5),o(),p(10,"tui-textfield",6)(11,"label",3),g(12,"Visible range"),o(),p(13,"input",4),I("ngModelChange",function(r){return E(a),W(t.show,r)||(t.show=r),L(r)}),o(),_(14,fe,1,0,"tui-calendar-range",5),o()(),p(15,"p",7),D(16,he,3,1,"span",8,C),o(),_(18,De,3,5,"tui-axes",9),M(19,"async"),_(20,we,6,1,"ng-template",null,0,U)}if(i&2){let a;l(5),u("tuiTextfieldCleaner",!1),l(3),u("maxLength",t.maxLength),k("ngModel",t.data),l(2),u("tuiTextfieldCleaner",!1),l(3),u("maxLength",t.maxLength),k("ngModel",t.show),l(3),v(t.days),l(2),S((a=j(19,7,t.labels(t.show)))?18:-1,a)}},dependencies:[X,Q,G,J,K,ce,oe,de,pe,me,ue,se,le,ee,ne,re,ae,ie],styles:['.axes[_ngcontent-%COMP%]{block-size:12.5rem}.controls[_ngcontent-%COMP%]{display:flex}.controls[_ngcontent-%COMP%]   tui-textfield[_ngcontent-%COMP%]{flex:1}.legend[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.item[_ngcontent-%COMP%]{color:var(--tui-chart-categorical-01);display:flex;align-items:center;margin:0 .75rem}.item[_ngcontent-%COMP%]:first-child{color:var(--tui-chart-categorical-08)}.item[_ngcontent-%COMP%]:last-child{color:var(--tui-chart-categorical-12)}.item[_ngcontent-%COMP%]:before{content:"";border-block-end:.125rem solid;inline-size:1rem;margin-inline-end:.5rem}.name[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.value[_ngcontent-%COMP%]{color:#fff}.chart[_ngcontent-%COMP%]{color:var(--tui-chart-categorical-01);position:absolute;top:0;left:0;inline-size:100%;block-size:100%}.chart[_ngcontent-%COMP%]:first-child{color:var(--tui-chart-categorical-08)}.chart[_ngcontent-%COMP%]:last-child{color:var(--tui-chart-categorical-12)}'],changeDetection:0}),h([T],d.prototype,"getWidth",1),h([T],d.prototype,"getDate",1),h([T],d.prototype,"labels",1),h([T],d.prototype,"computeRange",1),h([T],d.prototype,"generateRandomData",1);var A=d;function Me(n){return n.filter(e=>!e.dayOfWeek()).map(String)}function ge(n){return n.filter((e,i)=>!(i%2))}export{A as default};
