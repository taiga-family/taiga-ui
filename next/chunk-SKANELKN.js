import{a as gt,c as Dt,e as De}from"./chunk-DZO4F3LV.js";import{b as B,g as ge}from"./chunk-RCHNFCUX.js";import{g as ut}from"./chunk-SGX2X6TI.js";import{Ba as tt,Ca as ot,Dc as dt,Ed as vt,Fd as yt,Ga as it,Gc as j,Ha as ue,Ic as ve,Na as nt,Pa as O,bb as fe,bd as v,cb as rt,cd as mt,eb as he,h as u,hb as st,j as Je,jb as at,mb as lt,ob as pt,pd as ft,qd as ht,rd as bt,sd as ye,vc as be,wa as et,yb as ct,z as Ke,za as c}from"./chunk-STJ74DE6.js";import{a as L}from"./chunk-5ENH3QN6.js";import{$ as _e,Aa as i,Bc as w,Cb as z,Cc as le,D as h,Db as b,Fa as Ue,Fb as Pe,G as E,I as k,J as te,Kc as pe,Lb as Ve,Lc as ce,Mb as Ge,Nc as de,Pc as me,Qa as Ne,S as oe,Ta as ne,Ub as g,W as Le,Wa as Ae,Wb as a,Xc as p,Y as je,Za as R,Zb as D,_a as re,_b as x,b as ke,ea as Be,f as He,fc as qe,gc as T,hc as X,i as Re,ic as Qe,ka as H,kb as $e,lc as Ze,nc as We,oa as ie,oc as Ye,pc as Xe,qc as F,rc as J,s as ze,sc as K,tc as se,u as Fe,ua as y,uc as ae,w as I,wb as Me}from"./chunk-X7N7YQIF.js";var _=class _{constructor(){this.doc=i(L);this.sub=E(h(this.doc,"focusout"),h(this.doc,"mousedown").pipe(k(t=>Object.is(t.target,this.element)))).subscribe(()=>{this.show()});this.inputMode=""}ngOnDestroy(){this.sub.unsubscribe(),this.show()}toggle(){this.element?this.show():this.hide()}hide(){let t=fe(this.doc);(t==null?void 0:t.inputMode)===void 0||this.element||(this.element=t,this.inputMode=t.inputMode,t.inputMode="none")}show(){this.element&&(this.element.inputMode="none",this.element.inputMode=this.inputMode,this.element=void 0)}};_.\u0275fac=function(e){return new(e||_)},_.\u0275prov=y({token:_,factory:_.\u0275fac,providedIn:"root"});var Te=_;function Ht(s,t){if(s&1&&(se(0),de(1),ae()),s&2){let e=t.polymorpheusOutlet;b(),me(" ",e," ")}}var Tt=16,U=class U{constructor(){this.el=O();this.keyboard=i(Te);this.doc=i(L);this.scrollTop=this.doc.documentElement.scrollTop;this.observer=new ResizeObserver(()=>this.refresh());this.dropdown=i(ge);this.context={$implicit:()=>this.dropdown.toggle(!1)};this.observer.observe(this.dropdown.el),this.doc.documentElement.style.setProperty("scroll-behavior","initial")}ngOnDestroy(){this.observer.disconnect(),this.doc.body.classList.remove("t-dropdown-mobile"),this.doc.body.style.removeProperty("--t-root-top"),this.doc.documentElement.scrollTop=this.scrollTop,this.doc.documentElement.style.removeProperty("scroll-behavior"),this.focused&&this.keyboard.hide()}onClick(t){it(t.target)&&!this.el.contains(t.target)&&(!this.dropdown.el.contains(t.target)||t.target.matches("input,textarea"))&&t.stopPropagation()}refresh(){var m;let{offsetTop:t=0,height:e=0}=((m=this.doc.defaultView)==null?void 0:m.visualViewport)||{};if(this.doc.body.style.removeProperty("--t-root-top"),!this.focused||!this.doc.documentElement.style.getPropertyValue("scroll-behavior"))return;this.doc.documentElement.scrollTop=0;let o=this.dropdown.el.getBoundingClientRect(),r=`max(var(--tui-dropdown-mobile-offset, ${c(Tt)}), env(safe-area-inset-top))`,n=`(${r} + ${c(o.height+Tt)})`,d=`calc(${c(t-o.top)} + ${r})`;this.el.style.setProperty("top",`calc(${c(t)} + ${n})`),this.el.style.setProperty("height",`calc(${c(e)} - ${n})`),this.doc.body.classList.add("t-dropdown-mobile"),this.doc.body.style.setProperty("--t-root-top",d)}get focused(){return this.dropdown.el.contains(fe(this.doc))}};U.\u0275fac=function(e){return new(e||U)},U.\u0275cmp=g({type:U,selectors:[["tui-dropdown-mobile"]],hostBindings:function(e,o){e&1&&w("pointerdown.prevent",function(){return 0})("click.zoneless.capture",function(n){return o.onClick(n)},!1,z)("window>scroll.zoneless.capture",function(){return o.refresh()})("visualViewport>resize.zoneless",function(){return o.refresh()})("visualViewport>scroll.zoneless",function(){return o.refresh()})},features:[D([ve,yt])],decls:3,vars:2,consts:[[1,"t-container"],[1,"t-content"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(e,o){e&1&&(F(0,"div",0)(1,"div",1),x(2,Ht,2,1,"ng-container",2),J()()),e&2&&(b(2),T("polymorpheusOutlet",o.dropdown._content())("polymorpheusOutletContext",o.context))},dependencies:[j],styles:[`tui-dropdown-mobile{scrollbar-width:none;-ms-overflow-style:none;position:absolute;top:0;left:0;inline-size:100%;block-size:100%;visibility:visible!important;background:var(--tui-background-base);overscroll-behavior:contain;overflow:auto;box-shadow:0 -.5rem .5rem var(--tui-background-base),0 10rem var(--tui-background-base),0 20rem var(--tui-background-base),0 30rem var(--tui-background-base);box-sizing:border-box;padding-block-end:env(safe-area-inset-bottom);pointer-events:auto}tui-dropdown-mobile::-webkit-scrollbar,tui-dropdown-mobile::-webkit-scrollbar-thumb{display:none}tui-dropdown-mobile.tui-enter,tui-dropdown-mobile.tui-leave{animation-name:tuiFade,tuiSlide}tui-dropdown-mobile:after{content:"";display:block;block-size:1px}tui-dropdown-mobile>.t-container{scrollbar-width:none;-ms-overflow-style:none;position:sticky;top:0;block-size:100%;overflow:auto;margin:0 .75rem;touch-action:pan-y!important}tui-dropdown-mobile>.t-container::-webkit-scrollbar,tui-dropdown-mobile>.t-container::-webkit-scrollbar-thumb{display:none}tui-dropdown-mobile [tuiDropdownButton][tuiDropdownButton]{position:fixed;right:1rem;bottom:max(1rem,env(safe-area-inset-bottom));display:inline-flex}.t-dropdown-mobile{touch-action:none;visibility:hidden}.t-dropdown-mobile *{touch-action:inherit;visibility:inherit}.t-dropdown-mobile tui-root{visibility:visible}.t-dropdown-mobile tui-root .t-root-content,.t-dropdown-mobile tui-root tui-dialogs{visibility:hidden}
`],encapsulation:2,changeDetection:0});var we=U;var N=class N{constructor(){this.isMobile=i(v)}onMouseDown(t){!this.isMobile||!ue(t.target)||!t.target.matches("input,textarea")||(t.preventDefault(),t.target.focus({preventScroll:!0}))}};N.\u0275fac=function(e){return new(e||N)},N.\u0275dir=a({type:N,selectors:[["","tuiDropdownMobile",""]],hostVars:2,hostBindings:function(e,o){e&1&&w("mousedown",function(n){return o.onMouseDown(n)}),e&2&&X("visibility","visible")},features:[p([{provide:B,useFactory:()=>i(v)?we:i(B,{skipSelf:!0})}])]});var wt=N;var Rt={label:"",appearance:"",stops:[],initial:0,offset:16,closable:!0,data:void 0,bar:!0,required:!1},[Ot,Co]=ot(Rt);var zt=["stops"];function Ft(s,t){if(s&1&&K(0,"div",8,0),s&2){let e=t.$implicit;X("margin-block-start",e)}}function Lt(s,t){if(s&1&&K(0,"header",6),s&2){let e=le();T("id",e.context.id)("innerHTML",e.context.label,Me)}}function jt(s,t){if(s&1&&K(0,"div",9),s&2){let e=t.polymorpheusOutlet;T("innerHTML",e,Me)}}var Bt=new Error(""),A=class A{constructor(){this.stops=Ge("stops",{read:re});this.el=O();this.pointers=0;this.context=dt();this.close$=new Re;this.$=E(this.close$,rt(),i(gt).pipe(I(Ke))).pipe(lt(),je(()=>Fe(this.context.closable)?(this.el.scrollTop<=0&&this.el.scrollTo({top:this.initial,behavior:"smooth"}),this.context.closable.pipe(oe(1))):ze(this.context.closable)),k(Boolean),u()).subscribe(()=>this.close())}ngAfterViewInit(){this.el.scrollTop=this.initial||0}onPointerChange(t){this.pointers=Math.max(this.pointers+t,0),!this.pointers&&this.el.scrollTop<=0&&this.close$.next()}get initial(){return this.context.closable?this.stops().map(t=>t.nativeElement.offsetTop-this.context.offset).concat(this.el.clientHeight??1/0)[this.context.initial]:0}close(){this.context.required?this.context.$implicit.error(Bt):this.context.$implicit.complete()}};A.\u0275fac=function(e){return new(e||A)},A.\u0275cmp=g({type:A,selectors:[["tui-sheet-dialog"]],viewQuery:function(e,o){e&1&&pe(o.stops,zt,5,re),e&2&&ce()},hostVars:7,hostBindings:function(e,o){e&1&&w("touchstart.passive.zoneless",function(){return o.onPointerChange(1)},!1,z)("touchend.zoneless",function(){return o.onPointerChange(-1)},!1,z)("touchcancel.zoneless",function(){return o.onPointerChange(-1)},!1,z)("scroll.zoneless",function(){return o.onPointerChange(0)})("click.self",function(){return o.close$.next()}),e&2&&(qe("data-appearance",o.context.appearance),X("--tui-offset",o.context.offset,"px"),Qe("_bar",o.context.bar)("_closeable",o.context.closable))},features:[p([et(be,re)]),D([ve])],decls:8,vars:3,consts:[["stops",""],[1,"t-stops"],[1,"t-stop",3,"margin-block-start"],[1,"t-sheet"],[1,"t-bar"],[1,"t-content"],[3,"id","innerHTML"],[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-stop"],[3,"innerHTML"]],template:function(e,o){e&1&&(F(0,"div",1),Ye(1,Ft,2,2,"div",2,We),J(),F(3,"div",3),K(4,"div",4),F(5,"div",5),x(6,Lt,1,2,"header",6)(7,jt,1,1,"div",7),J()()),e&2&&(b(),Xe(o.context.stops),b(5),Ze(o.context.label?6:-1),b(),T("polymorpheusOutlet",o.context.content)("polymorpheusOutletContext",o.context))},dependencies:[j],styles:['[_nghost-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;position:sticky;display:flex;inset-inline-start:0;inline-size:100%;max-inline-size:40rem;block-size:calc(100% - max(var(--tui-offset),env(safe-area-inset-top)));flex-direction:column;font:var(--tui-font-text-m);overflow-y:scroll;scroll-snap-type:y mandatory;margin:max(var(--tui-offset),env(safe-area-inset-top)) auto 0;border-radius:.75rem .75rem 0 0;--t-top: 0}[_nghost-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%]::-webkit-scrollbar-thumb{display:none}.tui-enter[_nghost-%COMP%], .tui-leave[_nghost-%COMP%]{animation-name:tuiFade,tuiSlide}[_nghost-%COMP%]:before{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;content:"";z-index:-1}._bar[_nghost-%COMP%]{--t-top: 1.5rem}._bar[_nghost-%COMP%]   .t-bar[_ngcontent-%COMP%]{display:block}._closeable[_nghost-%COMP%]{display:block}._closeable[_nghost-%COMP%]   .t-stops[_ngcontent-%COMP%]{display:flex}[data-appearance~=fullscreen][_nghost-%COMP%]{display:block}[data-appearance~=fullscreen][_nghost-%COMP%]   .t-sheet[_ngcontent-%COMP%]{min-block-size:100%}[_nghost-%COMP%]     tui-data-list{margin-inline-start:calc(-1 * var(--tui-data-list-padding));margin-inline-end:calc(-1 * var(--tui-data-list-padding))}[_nghost-%COMP%]     tui-data-list [tuiOption]{margin-inline-start:calc(-1 * var(--t-option-padding-inline));margin-inline-end:calc(-1 * var(--t-option-padding-inline))}.t-stops[_ngcontent-%COMP%]{display:none;block-size:100%;scroll-snap-stop:always;scroll-snap-align:start;pointer-events:none}.t-stop[_ngcontent-%COMP%]{position:relative;top:env(safe-area-inset-bottom);scroll-snap-stop:normal;scroll-snap-align:start;block-size:1rem;inline-size:1rem}.t-sheet[_ngcontent-%COMP%]{display:flex;inline-size:100%;flex-direction:column;box-shadow:var(--tui-shadow-small);border-radius:inherit;padding:0 1rem;margin-block-start:auto;background:var(--tui-background-elevation-1);box-sizing:border-box;scroll-snap-stop:always;scroll-snap-align:start}.t-bar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1;display:none;block-size:1.5rem;margin:0 -1rem;border-radius:inherit;background:var(--tui-background-elevation-1)}.t-bar[_ngcontent-%COMP%]:after{content:"";position:absolute;top:.5rem;left:50%;inline-size:2rem;block-size:.25rem;transform:translate(-50%);background:var(--tui-border-normal);border-radius:1rem}.t-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;flex-grow:1;border-radius:inherit;isolation:isolate;padding-block-end:max(1.5rem,env(safe-area-inset-bottom))}.t-content[_ngcontent-%COMP%]:after{content:"";position:relative;top:max(1.5rem,env(safe-area-inset-bottom));z-index:-1;display:block;scroll-snap-stop:always;scroll-snap-align:end;border-image:conic-gradient(var(--tui-background-elevation-1) 0 0) fill 0/0/0 100vh 100vh}*[_ngcontent-%COMP%]    >header, *[_ngcontent-%COMP%]    >[tuiSlides]>*>header, *[_ngcontent-%COMP%]    >ng-component>header, *[_ngcontent-%COMP%]    >ng-component>[tuiSlides]>*>header{position:sticky;top:var(--t-top);z-index:1;margin:0 -1rem;padding:.75rem 1rem;border-radius:inherit;background:var(--tui-background-elevation-1);font:var(--tui-font-heading-6)}*[_ngcontent-%COMP%]    >footer, *[_ngcontent-%COMP%]    >[tuiSlides]>*>footer, *[_ngcontent-%COMP%]    >ng-component>footer, *[_ngcontent-%COMP%]    >ng-component>[tuiSlides]>*>footer{display:flex;flex-direction:column-reverse;gap:.5rem;margin-block-start:1rem}'],changeDetection:0});var Oe=A;var Ut="#404040",C=class C extends Dt{constructor(){super(...arguments);this.theme=i(ft);this.initial=this.theme.color;this.count=0;this.options=i(Ot);this.content=Oe}add(e){this.count++,this.theme.color=Ut;let o=super.add(e);return()=>{o(),this.count--,this.count||(this.theme.color=this.initial)}}};C.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ne(C)))(r||C)}})(),C.\u0275prov=y({token:C,factory:C.\u0275fac,providedIn:"root"});var f=C;var $=class ${constructor(){this.tuiSheetDialogOptions=R({})}};$.\u0275fac=function(e){return new(e||$)},$.\u0275dir=a({type:$,selectors:[["ng-template","tuiSheetDialog",""]],inputs:{tuiSheetDialogOptions:[1,"tuiSheetDialogOptions"]},features:[p([bt(f)]),D([{directive:ye,inputs:["options","tuiSheetDialogOptions","open","tuiSheetDialog"],outputs:["openChange","tuiSheetDialogChange"]}])]});var Ct=$;function At(s,t){if(s&1&&(se(0),de(1),ae()),s&2){let e=t.polymorpheusOutlet;b(),me(" ",e," ")}}function $t(s,t){if(s&1&&x(0,At,2,1,"ng-container",0),s&2){let e=le();T("polymorpheusOutlet",e.dropdown._content())("polymorpheusOutletContext",e.context)}}var V=class V{constructor(){this.content=Ve(Pe);this.dialogs=i(f);this.directive=i(xe);this.dropdown=i(ge);this.context={$implicit:()=>this.dropdown.toggle(!1)};this.sub=Je(this.content).pipe(st(t=>this.dialogs.open(t,{label:this.directive.tuiDropdownSheet()})),u()).subscribe({complete:()=>this.dropdown.toggle(!1)})}};V.\u0275fac=function(e){return new(e||V)},V.\u0275cmp=g({type:V,selectors:[["ng-component"]],viewQuery:function(e,o){e&1&&pe(o.content,Pe,5),e&2&&ce()},decls:1,vars:0,consts:[[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(e,o){e&1&&x(0,$t,1,2,"ng-template")},dependencies:[j],encapsulation:2,changeDetection:0});var Ce=V;var G=class G{constructor(){this.tuiDropdownSheet=R("")}};G.\u0275fac=function(e){return new(e||G)},G.\u0275dir=a({type:G,selectors:[["","tuiDropdownSheet",""]],inputs:{tuiDropdownSheet:[1,"tuiDropdownSheet"]},features:[p([{provide:B,useFactory:()=>i(v)?Ce:i(B,{skipSelf:!0})}])]});var xe=G;var M=class M extends He{constructor(){super(e=>{let o=new ke;return $e(()=>{let r=at(this.host).pipe(Be(n=>this.pinned?n:this.offsetTop,this.offsetTop),I(n=>Math.max(1-Math.max(Math.round(this.host.scrollTop)-n,0)/this.el.offsetHeight,0)),Le(),pt(this.zone),u(this.destroyRef)).subscribe(e);o.closed?r.unsubscribe():o.add(r)},{injector:this.injector}),o});this.injector=i(Ue);this.el=O();this.scrollRef=i(be).nativeElement;this.destroyRef=i(ne);this.zone=i(Ae)}get host(){return this.el.closest(ut)||this.scrollRef}get offsetTop(){return nt(this.host,this.el).offsetTop}get pinned(){return this.el.getBoundingClientRect().top-this.host.getBoundingClientRect().top===0}};M.\u0275fac=function(o){return new(o||M)},M.\u0275prov=y({token:M,factory:M.\u0275fac});var ee=M;var q=class q{constructor(){this.tuiElasticSticky=i(ee)}};q.\u0275fac=function(e){return new(e||q)},q.\u0275dir=a({type:q,selectors:[["","tuiElasticSticky",""]],outputs:{tuiElasticSticky:"tuiElasticSticky"},exportAs:["tuiElasticSticky"],features:[p([ee])]});var xt=q;var Q=class Q{constructor(){this.tuiResponsiveDialogOptions=R({})}};Q.\u0275fac=function(e){return new(e||Q)},Q.\u0275dir=a({type:Q,selectors:[["ng-template","tuiResponsiveDialog",""]],inputs:{tuiResponsiveDialogOptions:[1,"tuiResponsiveDialogOptions"]},features:[p([{provide:ht,useFactory:()=>i(v)?i(f):i(De)}]),D([{directive:ye,inputs:["options","tuiResponsiveDialogOptions","open","tuiResponsiveDialog"],outputs:["openChange","tuiResponsiveDialogChange"]}])]});var _t=Q;var P=class P{constructor(){this.isMobile=i(v);this.dialogs=i(De);this.sheets=i(f)}open(t,e={}){return this.isMobile?this.sheets.open(t,e):this.dialogs.open(t,e)}};P.\u0275fac=function(e){return new(e||P)},P.\u0275prov=y({token:P,factory:P.\u0275fac,providedIn:"root"});var Mt=P;var Vt=[{transform:"scale(0)",opacity:"0.12"},{opacity:"0.12"}],Gt=[{opacity:"0.12"},{opacity:"0"}],Z=class Z{};Z.\u0275fac=function(e){return new(e||Z)},Z.\u0275cmp=g({type:Z,selectors:[["ng-component"]],hostAttrs:[1,"tui-ripple"],decls:0,vars:0,template:function(e,o){},styles:[`.tui-ripple{position:absolute;z-index:100;opacity:.12;border-radius:100%;background:var(--tui-ripple-background, currentColor);animation-fill-mode:forwards;pointer-events:none}
`],encapsulation:2,changeDetection:0});var Ie=Z,W=class W{constructor(){this.doc=i(L);this.destroyRef=i(ne);this.duration=vt(i(ct));this.nothing=tt(Ie);this.tuiRipple=""}start(t,e,o,r){let n=this.tuiRipple?o.closest(this.tuiRipple):r;if(!ue(n))return;let d=this.createRipple(t,e,n.getBoundingClientRect()),m=E(h(n,"pointerup"),h(n,"pointercancel"),h(n,"pointermove"));n.appendChild(d);let S=h(d.animate(Vt,this.duration),"finish");te(m.pipe(H(()=>S)),S.pipe(H(()=>m))).pipe(_e(),H(()=>h(d.animate(Gt,this.duration),"finish")),_e(),ie(()=>n.removeChild(d)),u(this.destroyRef)).subscribe()}createRipple(t,e,{width:o,height:r,top:n,left:d}){let m=this.doc.createElement("div"),S=Math.sqrt(o*o+r*r),Ee=S*2,It=t-d-S,Et=e-n-S;return Object.assign(m.style,{position:"absolute",top:c(Et),left:c(It),width:c(Ee),height:c(Ee),zIndex:100,opacity:.12,borderRadius:"100%",background:"var(--tui-ripple-background, currentColor)",animationFillMode:"forwards",pointerEvents:"none"}),m}};W.\u0275fac=function(e){return new(e||W)},W.\u0275dir=a({type:W,selectors:[["","tuiRipple",""]],hostBindings:function(e,o){e&1&&w("pointerdown.zoneless",function(n){return o.start(n.clientX,n.clientY,n.target,n.currentTarget)})},inputs:{tuiRipple:"tuiRipple"}});var Pt=W;var qt={transform:"scale(0.95)",opacity:"0.6",background:"rgba(146, 153, 162, 0.12)"};function Qt(s,t){var e;for(let o=0;o<s.length;o++)if(((e=s[o])==null?void 0:e.identifier)===t)return o;return-1}var Y=class Y{constructor(){this.isIOS=i(mt);this.el=O();this.tuiTouchable="";this.isIOS&&he(this.el,"touchstart",{passive:!0}).pipe(ie(()=>this.onTouchStart()),I(({touches:t})=>{var e;return(e=t[t.length-1])==null?void 0:e.identifier}),H(t=>te(he(this.el,"touchmove",{passive:!0}).pipe(k(({touches:e})=>this.hasTouchLeft(this.el,e,t??0))),he(this.el,"touchend")).pipe(oe(1))),u()).subscribe(()=>{this.el.style.removeProperty("transform"),this.el.style.removeProperty("opacity"),this.el.style.removeProperty("background")})}get style(){return this.tuiTouchable||"transform"}hasTouchLeft(t,e,o){let{ownerDocument:r}=t,n=Qt(e,o);if(!r||n===-1)return!0;let{clientX:d=0,clientY:m=0}=e[n]??{};return!t.contains(r.elementFromPoint(d,m))}onTouchStart(){this.style!=="transform"?this.el.style.removeProperty("transition"):this.el.style.setProperty("transition","transform 0.2s"),this.el.style.setProperty(this.style,qt[this.style])}};Y.\u0275fac=function(e){return new(e||Y)},Y.\u0275dir=a({type:Y,selectors:[["","tuiTouchable",""]],inputs:{tuiTouchable:"tuiTouchable"}});var St=Y;export{Te as a,wt as b,Rt as c,f as d,Ct as e,xe as f,xt as g,_t as h,Mt as i,Pt as j,St as k};
