import{k as he}from"./chunk-OMLGUX3A.js";import{C as ae,a as le}from"./chunk-WU7JPQ2P.js";import{$a as j,D as Y,Fa as Q,J as A,N as J,Pa as Z,Vb as N,Wc as se,Xb as ie,Za as $,_a as p,bb as H,fb as ee,hc as ne,j as z,ja as F,na as R,p as w,qd as S,r as M,rd as re,t as m,ta as D,td as oe,ub as te,w as K,wa as X,wd as T,x as I,za as h}from"./chunk-JYXVX5RO.js";var E=new X("HIGHLIGHT_OPTIONS");function Ue(s){return Q([{provide:E,useValue:s}])}var L=function(s){return s.FULL_WITH_CORE_LIBRARY_IMPORTS="The full library and the core library were imported, only one of them should be imported!",s.FULL_WITH_LANGUAGE_IMPORTS="The highlighting languages were imported they are not needed!",s.CORE_WITHOUT_LANGUAGE_IMPORTS="The highlighting languages were not imported!",s.LANGUAGE_WITHOUT_CORE_IMPORTS="The core library was not imported!",s.NO_FULL_AND_NO_CORE_IMPORTS="Highlight.js library was not imported!",s}(L||{}),Ae=(()=>{let n=class n{constructor(){this.document=h(le),this.isPlatformBrowser=ae(h(ee)),this.options=h(E,{optional:!0}),this._ready=new z(null),this.ready=K(this._ready.asObservable().pipe(A(e=>!!e))),this.isPlatformBrowser&&(this.document.defaultView.hljs?this._ready.next(this.document.defaultView.hljs):this._loadLibrary().pipe(F(e=>this.options?.lineNumbersLoader?(this.document.defaultView.hljs=e,this.loadLineNumbers().pipe(R(o=>{o.activateLineNumbers(),this._ready.next(e)}))):(this._ready.next(e),w)),J(e=>(console.error("[HLJS] ",e),this._ready.error(e),w))).subscribe(),this.options?.themePath&&this.loadTheme(this.options.themePath))}_loadLibrary(){if(this.options){if(this.options.fullLibraryLoader&&this.options.coreLibraryLoader)return m(()=>L.FULL_WITH_CORE_LIBRARY_IMPORTS);if(this.options.fullLibraryLoader&&this.options.languages)return m(()=>L.FULL_WITH_LANGUAGE_IMPORTS);if(this.options.coreLibraryLoader&&!this.options.languages)return m(()=>L.CORE_WITHOUT_LANGUAGE_IMPORTS);if(!this.options.coreLibraryLoader&&this.options.languages)return m(()=>L.LANGUAGE_WITHOUT_CORE_IMPORTS);if(this.options.fullLibraryLoader)return this.loadFullLibrary();if(this.options.coreLibraryLoader&&this.options.languages&&Object.keys(this.options.languages).length)return this.loadCoreLibrary().pipe(F(e=>this._loadLanguages(e)))}return m(()=>L.NO_FULL_AND_NO_CORE_IMPORTS)}_loadLanguages(e){let o=Object.entries(this.options.languages).map(([u,_])=>x(_()).pipe(R(y=>e.registerLanguage(u,y))));return Y(o).pipe(I(()=>e))}loadCoreLibrary(){return x(this.options.coreLibraryLoader())}loadFullLibrary(){return x(this.options.fullLibraryLoader())}loadLineNumbers(){return M(this.options.lineNumbersLoader())}setTheme(e){this.isPlatformBrowser&&(this._themeLinkElement?this._themeLinkElement.href=e:this.loadTheme(e))}loadTheme(e){this._themeLinkElement=this.document.createElement("link"),this._themeLinkElement.href=e,this._themeLinkElement.type="text/css",this._themeLinkElement.rel="stylesheet",this._themeLinkElement.media="screen,print",this.document.head.appendChild(this._themeLinkElement)}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"});let s=n;return s})(),x=s=>M(s).pipe(A(n=>!!n?.default),I(n=>n.default)),B=(()=>{let n=class n{constructor(){this.loader=h(Ae),this.options=h(E,{optional:!0}),this.hljsSignal=H(null),this.hljs=oe(()=>this.hljsSignal()),this.loader.ready.then(e=>{this.hljsSignal.set(e),this.options?.highlightOptions&&e.configure(this.options.highlightOptions)})}async highlight(e,o){return(await this.loader.ready).highlight(e,o)}async highlightAuto(e,o){return(await this.loader.ready).highlightAuto(e,o)}async highlightElement(e){(await this.loader.ready).highlightElement(e)}async highlightAll(){(await this.loader.ready).highlightAll()}async configure(e){(await this.loader.ready).configure(e)}async registerLanguage(e,o){(await this.loader.ready).registerLanguage(e,o)}async unregisterLanguage(e){(await this.loader.ready).unregisterLanguage(e)}async registerAliases(e,{languageName:o}){(await this.loader.ready).registerAliases(e,{languageName:o})}async listLanguages(){return(await this.loader.ready).listLanguages()}async getLanguage(e){return(await this.loader.ready).getLanguage(e)}async safeMode(){(await this.loader.ready).safeMode()}async debugMode(){(await this.loader.ready).debugMode()}async lineNumbersBlock(e,o){let u=await this.loader.ready;u.lineNumbersBlock&&u.lineNumbersBlock(e,o)}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"});let s=n;return s})(),P;function Fe(){if(!P)try{P=window?.trustedTypes?.createPolicy("ngx-highlightjs",{createHTML:s=>s})}catch{}return P}function Re(s){return Fe()?.createHTML(s)||s}var v=(()=>{let n=class n{constructor(){this._hljs=h(B),this._nativeElement=h(j).nativeElement,this._sanitizer=h(he),T({write:()=>{let e=this.code();this.setTextContent(e||""),e&&this.highlightElement(e)}}),T({write:()=>{let e=this.highlightResult();this.setInnerHTML(e?.value),this.highlighted.emit(e)}})}setTextContent(e){requestAnimationFrame(()=>this._nativeElement.textContent=e)}setInnerHTML(e){requestAnimationFrame(()=>this._nativeElement.innerHTML=Re(this._sanitizer.sanitize(te.HTML,e)||""))}};n.\u0275fac=function(o){return new(o||n)},n.\u0275dir=N({type:n});let s=n;return s})();var Ve=(()=>{let n=class n extends v{constructor(){super(...arguments),this.code=p(null,{alias:"highlightAuto"}),this.highlightResult=H(null),this.languages=p(),this.highlighted=$()}async highlightElement(e){let o=await this._hljs.highlightAuto(e,this.languages());this.highlightResult.set(o)}};n.\u0275fac=(()=>{let e;return function(u){return(e||(e=Z(n)))(u||n)}})(),n.\u0275dir=N({type:n,selectors:[["","highlightAuto",""]],hostVars:2,hostBindings:function(o,u){o&2&&ne("hljs",!0)},inputs:{code:[1,"highlightAuto","code"],languages:[1,"languages"]},outputs:{highlighted:"highlighted"},features:[se([{provide:v,useExisting:n}]),ie]});let s=n;return s})();function Ye(){let s=window,n=document,C="hljs-ln",e="hljs-ln-line",o="hljs-ln-code",u="hljs-ln-numbers",_="hljs-ln-n",y="data-line-number",k=/\r\n|\r|\n/g;s.hljs?(s.hljs.initLineNumbersOnLoad=fe,s.hljs.lineNumbersBlock=U,s.hljs.lineNumbersValue=pe,ge()):s.console.error("highlight.js not detected!");function ue(t){let i=t;for(;i;){if(i.className&&i.className.indexOf("hljs-ln-code")!==-1)return!0;i=i.parentNode}return!1}function ce(t){let i=t;for(;i.nodeName!=="TABLE";)i=i.parentNode;return i}function de(t){let i=t.toString(),r=t.anchorNode;for(;r.nodeName!=="TD";)r=r.parentNode;let l=t.focusNode;for(;l.nodeName!=="TD";)l=l.parentNode;let a=parseInt(r.dataset.lineNumber),c=parseInt(l.dataset.lineNumber);if(a!=c){let g=r.textContent,f=l.textContent;if(a>c){let d=a;a=c,c=d,d=g,g=f,f=d}for(;i.indexOf(g)!==0;)g=g.slice(1);for(;i.lastIndexOf(f)===-1;)f=f.slice(0,-1);let O=g,Oe=ce(r);for(let d=a+1;d<c;++d){let we=b('.{0}[{1}="{2}"]',[o,y,d]),Me=Oe.querySelector(we);O+=`
`+Me.textContent}return O+=`
`+f,O}else return i}document.addEventListener("copy",function(t){let i=window.getSelection();if(ue(i.anchorNode)){let r;window.navigator.userAgent.indexOf("Edge")!==-1?r=de(i):r=i.toString(),t.clipboardData.setData("text/plain",r),t.preventDefault()}});function ge(){let t=n.createElement("style");t.type="text/css",t.innerHTML=b(".{0}{border-collapse:collapse}.{0} td{padding:0}.{1}:before{content:attr({2})}",[C,_,y]),n.getElementsByTagName("head")[0].appendChild(t)}function fe(t){n.readyState==="interactive"||n.readyState==="complete"?G(t):s.addEventListener("DOMContentLoaded",function(){G(t)})}function G(t){try{let i=n.querySelectorAll("code.hljs,code.nohighlight");for(let r in i)i.hasOwnProperty(r)&&(me(i[r])||U(i[r],t))}catch(i){s.console.error("LineNumbers error: ",i)}}function me(t){return t.classList.contains("nohljsln")}function U(t,i){typeof t=="object"&&_e(function(){t.innerHTML=V(t,i)})}function pe(t,i){if(typeof t!="string")return;let r=document.createElement("code");return r.innerHTML=t,V(r,i)}function V(t,i){let r=ye(t,i);return W(t),Le(t.innerHTML,r)}function Le(t,i){let r=q(t);if(r[r.length-1].trim()===""&&r.pop(),r.length>1||i.singleLine){let l="";for(let a=0,c=r.length;a<c;a++)l+=b('<tr><td class="{0} {1}" {3}="{5}"><div class="{2}" {3}="{5}"></div></td><td class="{0} {4}" {3}="{5}">{6}</td></tr>',[e,u,_,y,o,a+i.startFrom,r[a].length>0?r[a]:" "]);return b('<table class="{0}">{1}</table>',[C,l])}return t}function ye(t,i){return i=i||{},{singleLine:be(i),startFrom:Ne(t,i)}}function be(t){return t.singleLine?t.singleLine:!1}function Ne(t,i){let l=1;isFinite(i.startFrom)&&(l=i.startFrom);let a=je(t,"data-ln-start-from");return a!==null&&(l=ve(a,1)),l}function W(t){let i=t.childNodes;for(let r in i)if(i.hasOwnProperty(r)){let l=i[r];Ee(l.textContent)>0&&(l.childNodes.length>0?W(l):Te(l.parentNode))}}function Te(t){let i=t.className;if(!/hljs-/.test(i))return;let r=q(t.innerHTML),l="";for(let a=0;a<r.length;a++){let c=r[a].length>0?r[a]:" ";l+=b(`<span class="{0}">{1}</span>
`,[i,c])}t.innerHTML=l.trim()}function q(t){return t.length===0?[]:t.split(k)}function Ee(t){return(t.trim().match(k)||[]).length}function _e(t){s.setTimeout(t,0)}function b(t,i){return t.replace(/\{(\d+)\}/g,function(r,l){return i[l]!==void 0?i[l]:r})}function je(t,i){return t.hasAttribute(i)?t.getAttribute(i):null}function ve(t,i){if(!t)return i;let r=Number(t);return isFinite(r)?r:i}}var Je=(()=>{let n=class n{constructor(){this.options=h(E)?.lineNumbersOptions,this._hljs=h(B),this._highlight=h(v),this._nativeElement=h(j).nativeElement,this.startFrom=p(this.options?.startFrom,{transform:re}),this.singleLine=p(this.options?.singleLine,{transform:S}),T({write:()=>{this._highlight.highlightResult()&&this.addLineNumbers()}})}addLineNumbers(){this.destroyLineNumbersObserver(),requestAnimationFrame(async()=>{await this._hljs.lineNumbersBlock(this._nativeElement,{startFrom:this.startFrom(),singleLine:this.singleLine()}),this._lineNumbersObs=new MutationObserver(()=>{this._nativeElement.firstElementChild?.tagName.toUpperCase()==="TABLE"&&this._nativeElement.classList.add("hljs-line-numbers"),this.destroyLineNumbersObserver()}),this._lineNumbersObs.observe(this._nativeElement,{childList:!0})})}destroyLineNumbersObserver(){this._lineNumbersObs&&(this._lineNumbersObs.disconnect(),this._lineNumbersObs=null)}};n.\u0275fac=function(o){return new(o||n)},n.\u0275dir=N({type:n,selectors:[["","highlight","","lineNumbers",""],["","highlightAuto","","lineNumbers",""]],inputs:{startFrom:[1,"startFrom"],singleLine:[1,"singleLine"]}});let s=n;return s})();export{Ue as a,Ve as b,Ye as c,Je as d};
