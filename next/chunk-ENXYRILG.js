import{f as q,h as b}from"./chunk-RSQ5DH3A.js";import{a as G}from"./chunk-FTCBM4DE.js";import{Ea as $e,V as v,Y as Q,Z as ee,ia as Fe,ma as Le,qa as Ve,va as d,w as He,ya as Ae}from"./chunk-TQEODDI3.js";import{a as W,d as Re,e as je}from"./chunk-KWZHGPWS.js";import{C as Ie,a as Ee}from"./chunk-GOJWO2R3.js";import{$a as K,Ac as g,Cc as k,Dc as h,F as he,H as ve,J as V,Jc as Me,Kb as De,Kc as Be,La as xe,Ma as ke,Na as Ce,Ob as ze,P as be,Q as ye,Tb as l,V as Pe,Vb as u,Wc as C,Za as Oe,_a as s,b as de,bb as A,ec as $,fb as Se,fc as _e,gc as p,hc as X,i as me,ia as Z,j as ge,pc as T,qc as x,rc as Y,ta as we,ud as U,vc as Ne,wa as Te,x as w,y as fe,za as n}from"./chunk-2UPKG2B4.js";import{a as pe,b as ue}from"./chunk-B4AJQJMI.js";var O=class O{};O.\u0275fac=function(e){return new(e||O)},O.\u0275cmp=l({type:O,selectors:[["ng-component"]],hostAttrs:[1,"tui-fixed-gradient"],decls:0,vars:0,template:function(e,r){},styles:[`[tuiProgressFixedGradient]::-moz-progress-bar{inline-size:100%!important;clip-path:inset(0 calc(100% - var(--tui-progress-percent)) 0 0 round var(--tui-radius-m));transition:clip-path var(--tui-duration) linear;margin-inline-end:calc(-100% + var(--tui-progress-percent))}[tuiProgressFixedGradient]::-webkit-progress-value{inline-size:100%!important;clip-path:inset(0 calc(100% - var(--tui-progress-percent)) 0 0 round var(--tui-radius-m));transition:clip-path var(--tui-duration) linear}
`],encapsulation:2,changeDetection:0});var te=O,S=class S{constructor(){this.nothing=Q(te);this.el=d()}};S.\u0275fac=function(e){return new(e||S)},S.\u0275dir=u({type:S,selectors:[["progress","tuiProgressBar","","tuiProgressFixedGradient",""]],hostVars:2,hostBindings:function(e,r){e&2&&p("--tui-progress-percent",r.el.position*100,"%")}});var re=S;var Ge={color:null,size:"m"},[J,st]=$e(Ge);var Qe=["tuiProgressBar",""],z=class z{constructor(){this.options=n(J);this.color=s(this.options.color);this.size=s(this.options.size)}};z.\u0275fac=function(e){return new(e||z)},z.\u0275cmp=l({type:z,selectors:[["progress","tuiProgressBar",""]],hostAttrs:["data-tui-version","5.0.0-rc.3"],hostVars:3,hostBindings:function(e,r){e&2&&($("data-size",r.size()),p("--tui-progress-color",r.color()))},inputs:{color:[1,"color"],size:[1,"size"]},attrs:Qe,decls:0,vars:0,template:function(e,r){},styles:[`@keyframes tuiIndeterminateAnimation{50%{background-position:left}}[tuiProgressBar]:where(*[data-tui-version="5.0.0-rc.3"]){-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;--t-height: .75rem;display:block;inline-size:100%;block-size:var(--t-height);color:var(--tui-background-accent-1);background:var(--tui-background-neutral-2);clip-path:inset(0 .5px round var(--tui-radius-m));overflow:hidden;border-radius:1rem;flex-shrink:0}[tuiProgressBar]:where(*[data-tui-version="5.0.0-rc.3"])::-webkit-progress-value{transition:inline-size var(--tui-duration) linear}[tuiProgressBar]:where(*[data-tui-version="5.0.0-rc.3"])::-webkit-progress-value{background:var(--tui-progress-color, currentColor);border-radius:inherit}[tuiProgressBar]:where(*[data-tui-version="5.0.0-rc.3"])::-moz-progress-bar{background:var(--tui-progress-color, currentColor);border-radius:inherit}[tuiProgressBar]:where(*[data-tui-version="5.0.0-rc.3"])[data-size=xxs]{--t-height: .125rem}[tuiProgressBar]:where(*[data-tui-version="5.0.0-rc.3"])[data-size=xs]{--t-height: .25rem}[tuiProgressBar]:where(*[data-tui-version="5.0.0-rc.3"])[data-size=s]{--t-height: .5rem}[tuiProgressBar]:where(*[data-tui-version="5.0.0-rc.3"])[data-size=l]{--t-height: 1rem}[tuiProgressBar]:where(*[data-tui-version="5.0.0-rc.3"])[data-size=xl]{--t-height: 1.25rem}[tuiProgressBar]:where(*[data-tui-version="5.0.0-rc.3"])[data-size=xxl]{--t-height: 1.5rem}[tuiProgressBar]:where(*[data-tui-version="5.0.0-rc.3"]):indeterminate{background:linear-gradient(to right,var(--tui-background-neutral-2) 0 45%,var(--tui-progress-color, currentColor) 45% 55%,var(--tui-background-neutral-2) 55% 100%) right;background-size:225%;animation:tuiIndeterminateAnimation 3s infinite ease-in-out}[tuiProgressBar]:where(*[data-tui-version="5.0.0-rc.3"]):indeterminate::-webkit-progress-value{background:transparent}[tuiProgressBar]:where(*[data-tui-version="5.0.0-rc.3"]):indeterminate::-moz-progress-bar{background:transparent}[tuiProgressBar]:where(*[data-tui-version="5.0.0-rc.3"])::-webkit-progress-inner-element{border-radius:inherit}[tuiProgressBar]:where(*[data-tui-version="5.0.0-rc.3"])::-webkit-progress-bar{background:transparent;border-radius:inherit}label[tuiProgressLabel] [tuiProgressBar]:where(*[data-tui-version="5.0.0-rc.3"]):not(:first-child){position:absolute;top:0;left:0;inline-size:100%;block-size:100%;background:transparent}
`],encapsulation:2,changeDetection:0});var ie=z;var _=class _{constructor(){this.el=d();this.position=je(n(b,{self:!0}).pipe(w(()=>this.el.position)),{initialValue:this.el.position});this.color=U(()=>{let t=this.colors(),e=this.position();return!t.length||e<=0?null:`linear-gradient(to right${t.reduce((i,o,f)=>`${i}, ${o} calc(${f} / ${t.length} * 100% / ${e}) calc(${f+1} / ${t.length} * 100% / ${e})`,"")})`});this.colors=s([],{alias:"tuiProgressColorSegments"})}};_.\u0275fac=function(e){return new(e||_)},_.\u0275dir=u({type:_,selectors:[["progress","tuiProgressBar","","tuiProgressColorSegments",""]],hostVars:2,hostBindings:function(e,r){e&2&&p("--tui-progress-color",r.color())},inputs:{colors:[1,"tuiProgressColorSegments","colors"]},features:[C([b,{provide:q,useValue:{attributeOldValue:!0}}])]});var oe=_;var N=class N{constructor(){this.options=n(J);this.ratio=U((t=this.value()/this.max())=>Number.isFinite(t)?t:0);this.value=s(0);this.max=s(1);this.color=s(this.options.color);this.size=s(this.options.size);this.arc=s(!1,{transform:Ae})}};N.\u0275fac=function(e){return new(e||N)},N.\u0275cmp=l({type:N,selectors:[["tui-progress-circle"]],hostVars:7,hostBindings:function(e,r){e&2&&($("data-size",r.size()),p("--tui-progress-color",r.color())("--t-progress-ratio",r.ratio()),X("_arc",r.arc()))},inputs:{value:[1,"value"],max:[1,"max"],color:[1,"color"],size:[1,"size"],arc:[1,"arc"]},decls:4,vars:2,consts:[[1,"t-hidden-progress",3,"max","value"],["aria-hidden","true","height","100%","width","100%",1,"t-svg"],["cx","50%","cy","50%",1,"t-track"],["cx","50%","cy","50%",1,"t-progress"]],template:function(e,r){e&1&&(Y(0,"progress",0),Ce(),T(1,"svg",1),Y(2,"circle",2)(3,"circle",3),x()),e&2&&_e("max",r.max())("value",r.value())},styles:["[_nghost-%COMP%]{--t-stroke-width: var(--tui-thickness, .375em);position:relative;display:block;color:var(--tui-background-accent-1);transform:rotate(-90deg);transform-origin:center;font-size:1rem;inline-size:var(--t-diameter);min-inline-size:var(--t-diameter);block-size:var(--t-diameter);border-radius:100%;mask:radial-gradient(closest-side,transparent calc(100% - var(--t-stroke-width)),#000 calc(100% - var(--t-stroke-width) + .5px))}._arc[_nghost-%COMP%]{transform:rotate(135deg)}[data-size=xxs][_nghost-%COMP%]{--t-diameter: 2em}[data-size=xs][_nghost-%COMP%]{--t-diameter: 2.5em}[data-size=s][_nghost-%COMP%]{--t-diameter: 3.5em}[data-size=m][_nghost-%COMP%]{--t-diameter: 4em}[data-size=l][_nghost-%COMP%]{--t-diameter: 5em}[data-size=xl][_nghost-%COMP%]{--t-diameter: 6em}[data-size=xxl][_nghost-%COMP%]{--t-diameter: 8em}.t-track[_ngcontent-%COMP%], .t-progress[_ngcontent-%COMP%]{fill:transparent;stroke-linecap:round;stroke-width:var(--t-stroke-width);r:calc((var(--t-diameter) - var(--t-stroke-width)) / 2)}.t-track[_ngcontent-%COMP%]{stroke:var(--tui-background-neutral-1)}._arc[_nghost-%COMP%]   .t-track[_ngcontent-%COMP%]{stroke-dasharray:calc(.75 * calc(2 * 3.14159265 * calc((var(--t-diameter) - var(--t-stroke-width)) / 2))) calc(.25 * calc(2 * 3.14159265 * calc((var(--t-diameter) - var(--t-stroke-width)) / 2)))}.t-progress[_ngcontent-%COMP%]{transition-property:stroke-dashoffset,stroke-dasharray;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;transition-timing-function:linear;stroke:var(--tui-progress-color, currentColor);stroke-dasharray:calc(2 * 3.14159265 * calc((var(--t-diameter) - var(--t-stroke-width)) / 2));stroke-dashoffset:calc(calc(2 * 3.14159265 * calc((var(--t-diameter) - var(--t-stroke-width)) / 2)) - var(--t-progress-ratio) * calc(2 * 3.14159265 * calc((var(--t-diameter) - var(--t-stroke-width)) / 2)))}._arc[_nghost-%COMP%]   .t-progress[_ngcontent-%COMP%]{stroke-dashoffset:.1px;stroke-dasharray:calc(.75 * var(--t-progress-ratio) * calc(2 * 3.14159265 * calc((var(--t-diameter) - var(--t-stroke-width)) / 2))) calc(calc(2 * 3.14159265 * calc((var(--t-diameter) - var(--t-stroke-width)) / 2)))}.t-hidden-progress[_ngcontent-%COMP%]{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(50%);block-size:1px;inline-size:1px;margin:-1px;overflow:hidden;padding:0}.t-svg[_ngcontent-%COMP%]{overflow:unset}"],changeDetection:0});var ne=N;var qe=["tuiProgressLabel",""],Je=[[["progress"]],[["tui-progress-circle"]],"*"],Ze=["progress","tui-progress-circle","*"],M=class M{};M.\u0275fac=function(e){return new(e||M)},M.\u0275cmp=l({type:M,selectors:[["label","tuiProgressLabel",""]],attrs:qe,ngContentSelectors:Ze,decls:4,vars:0,consts:[[1,"t-label"]],template:function(e,r){e&1&&(k(Je),h(0),h(1,1),T(2,"span",0),h(3,2),x())},styles:["[_nghost-%COMP%]{position:relative;display:inline-block;color:var(--tui-text-primary)}.t-label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex;font:var(--tui-typography-body-s);flex-direction:column;justify-content:center;align-items:center}"],changeDetection:0});var se=M;var B=class B{};B.\u0275fac=function(e){return new(e||B)},B.\u0275cmp=l({type:B,selectors:[["ng-component"]],hostAttrs:[1,"tui-progress-segmented"],decls:0,vars:0,template:function(e,r){},styles:[`[tuiProgressBar]._segmented{--tui-segment-gap: .5rem;-webkit-mask-image:radial-gradient(circle closest-side at calc(var(--t-height) / 2) center,#999 0 99%,transparent calc(99% + .6px) 100%),radial-gradient(circle closest-side at calc(100% - calc(var(--t-height) / 2) - var(--tui-segment-gap)) center,#999 0 99%,transparent calc(99% + .6px) 100%),linear-gradient(to right,transparent 0 calc(var(--t-height) / 2),#999 calc(var(--t-height) / 2) calc(100% - calc(var(--t-height) / 2) - var(--tui-segment-gap)),transparent calc(100% - calc(var(--t-height) / 2) - var(--tui-segment-gap)));mask-image:radial-gradient(circle closest-side at calc(var(--t-height) / 2) center,#999 0 99%,transparent calc(99% + .6px) 100%),radial-gradient(circle closest-side at calc(100% - calc(var(--t-height) / 2) - var(--tui-segment-gap)) center,#999 0 99%,transparent calc(99% + .6px) 100%),linear-gradient(to right,transparent 0 calc(var(--t-height) / 2),#999 calc(var(--t-height) / 2) calc(100% - calc(var(--t-height) / 2) - var(--tui-segment-gap)),transparent calc(100% - calc(var(--t-height) / 2) - var(--tui-segment-gap)));-webkit-mask-size:calc(100% * var(--t-segment-width) + var(--tui-segment-gap) * var(--t-segment-width));mask-size:calc(100% * var(--t-segment-width) + var(--tui-segment-gap) * var(--t-segment-width))}
`],encapsulation:2,changeDetection:0});var ae=B,E=class E{constructor(){this.nothing=Q(ae);this.segments=s(1)}};E.\u0275fac=function(e){return new(e||E)},E.\u0275dir=u({type:E,selectors:[["","tuiProgressBar","","segments",""]],hostAttrs:[1,"_segmented"],hostVars:2,hostBindings:function(e,r){e&2&&p("--t-segment-width",1/r.segments())},inputs:{segments:[1,"segments"]}});var ce=E;var Ke=(c,t,e)=>{if(!c.has(t)||!c.has(e))return c;let r=c.get(t)??t,i=c.get(e)??e,o=new Map(c);return o.set(t,i),o.set(e,r),o},Rt=(c,t,e)=>{if(!c.has(t)||!c.has(e))return c;let r=c.get(t)??t,i=c.get(e)??e,o=new Map(c),f=new Map(Array.from(c).map(([a,We])=>[We,a]));if((i-r)/Math.abs(i-r)>0)for(let a=i;a>r;a--)o.set(f.get(a)??a,a-1);else for(let a=i;a<r;a++)o.set(f.get(a)??a,a+1);return o.set(t,i),o},Xe=new Te("",{factory:()=>Ke});var Ye=["*"],I=class I{constructor(){this.el$=new me;this.handler=n(Xe);this.sub=this.el$.pipe(be(()=>he(this.debounce())),V(this.filter.bind(this)),w(t=>this.reorder(t)),W()).subscribe(t=>this.order.set(t));this.debounce=s(0);this.order=ze(new Map);this.element=A(null);this.el=d()}rearrange(t){this.el$.next(t)}filter(t){return!!this.element()&&!!t&&this.element()!==t}reorder(t){let e=Array.from(this.el.children),r=e.indexOf(this.element()||t),i=e.indexOf(t),o=this.order().size?new Map(this.order()):new Map(e.map((f,a)=>[a,a]));return this.handler(o,r,i)}};I.\u0275fac=function(e){return new(e||I)},I.\u0275cmp=l({type:I,selectors:[["tui-tiles"]],hostBindings:function(e,r){e&1&&g("pointerleave.zoneless",function(){return r.rearrange()})},inputs:{debounce:[1,"debounce"],order:[1,"order"]},outputs:{order:"orderChange"},features:[C([G,b,{provide:q,useValue:{childList:!0}}])],ngContentSelectors:Ye,decls:1,vars:0,template:function(e,r){e&1&&(k(),h(0))},styles:[`tui-tiles{position:relative;z-index:0;display:grid;grid-auto-flow:dense;justify-items:stretch}tui-tiles._dragged tui-tile>.t-wrapper{pointer-events:none}tui-tiles._dragged tui-tile:not(._dragged)>.t-wrapper,tui-tiles:not(._dragged) tui-tile._dragged>.t-wrapper{transition-property:all;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;transition-delay:1ms}tui-tile>.t-wrapper{position:absolute;z-index:0;border-radius:inherit}tui-tile._dragged>.t-wrapper,tui-tile:has(tui-tile._dragged)>.t-wrapper{z-index:1}tui-tile [tuiTileHandle]{touch-action:none;-webkit-user-select:none;user-select:none}
`],encapsulation:2,changeDetection:0});var y=I;var P=class P{constructor(){this.isBrowser=Ie(n(Se));this.el=d();this.tiles=n(y);this.sub=new de;this.offset$=new ge([NaN,NaN]);this.position$=fe([this.offset$.pipe(Pe(He)),n(G).pipe(Z(null)),n(b).pipe(Z(null)),Re(this.tiles.order).pipe(ye(0,Fe()))]).pipe(w(([t])=>t))}init(t){this.isBrowser&&t?this.sub.add(this.position$.subscribe(e=>{this.setPosition(t,e),this.setRect(t,e)})):this.el.style.setProperty("position","relative")}setOffset(t){this.offset$.next(t)}ngOnDestroy(){this.sub.unsubscribe()}getRect([t,e]){let r=Number.isNaN(e)?this.el.offsetTop:e,i=Number.isNaN(t)?this.el.offsetLeft:t,o={top:r,left:i,width:this.el.clientWidth,height:this.el.clientHeight,right:NaN,bottom:NaN,y:r,x:i};return ue(pe({},o),{toJSON:()=>JSON.stringify(o)})}setRect({style:t},e){let{top:r,left:i,width:o,height:f}=this.getRect(e);t.top=v(r),t.left=v(i),t.width=v(o),t.height=v(f)}setPosition(t,[e]){if(!Number.isNaN(e)){t.style.setProperty("position","fixed"),t.style.setProperty("transition","none");return}let{style:r}=t,i=t.getBoundingClientRect(),o=this.el.getBoundingClientRect();r.removeProperty("position"),r.removeProperty("transition"),r.removeProperty("top"),r.removeProperty("left"),r.top=v(i.top-o.top+this.el.offsetTop),r.left=v(i.left-o.left+this.el.offsetLeft)}};P.\u0275fac=function(e){return new(e||P)},P.\u0275prov=we({token:P,factory:P.\u0275fac});var F=P;var et=["wrapper"],tt=["*"],R=class R{constructor(){this.wrapper=De("wrapper",{read:K});this.service=n(F);this.tiles=n(y);this.dragged=A(!1);this.width=s(1);this.height=s(1);this.element=d()}onDrag(t){let e=!Number.isNaN(t[0]);this.dragged.set(this.dragged()||e),this.tiles.element.set(e?this.element:null),this.service.setOffset(t),e?this.tiles.el.classList.add("_dragged"):this.tiles.el.classList.remove("_dragged")}ngAfterViewInit(){this.service.init(this.wrapper()?.nativeElement)}ngOnDestroy(){this.tiles.element()===this.element&&this.tiles.element.set(null)}};R.\u0275fac=function(e){return new(e||R)},R.\u0275cmp=l({type:R,selectors:[["tui-tile"]],viewQuery:function(e,r){e&1&&Me(r.wrapper,et,5,K),e&2&&Be()},hostVars:6,hostBindings:function(e,r){e&1&&g("pointerenter",function(){return r.tiles.rearrange(r.element)}),e&2&&(p("grid-column",`span var(--tui-width, ${r.width()})`)("grid-row",`span var(--tui-height, ${r.height()})`),X("_dragged",r.dragged()))},inputs:{width:[1,"width"],height:[1,"height"]},features:[C([F])],ngContentSelectors:tt,decls:3,vars:0,consts:[["wrapper",""],[1,"t-wrapper",3,"transitionend.self"]],template:function(e,r){if(e&1){let i=Ne();k(),T(0,"div",1,0),g("transitionend.self",function(){return xe(i),ke(r.dragged.set(!1))}),h(2),x()}},encapsulation:2,changeDetection:0});var L=R;var j=class j{constructor(){this.doc=n(Ee);this.tile=n(L);this.x=NaN;this.y=NaN;this.pointerSub=ve(ee(this.doc,"pointerup"),ee(this.doc,"pointermove")).pipe(V(()=>!Number.isNaN(this.x)),W()).subscribe(({x:t,y:e,type:r})=>{r==="pointerup"?this.onPointer():this.tile.onDrag([t-this.x,e-this.y])})}onPointer(t=NaN,e=NaN){let{left:r,top:i}=this.tile.element.getBoundingClientRect();this.x=t-r,this.y=e-i,this.tile.onDrag([NaN,NaN])}onStart(t){let e=Ve(t),{x:r,y:i,pointerId:o}=t;Le(e)&&e.releasePointerCapture(o),this.onPointer(r,i)}};j.\u0275fac=function(e){return new(e||j)},j.\u0275dir=u({type:j,selectors:[["","tuiTileHandle",""]],hostBindings:function(e,r){e&1&&g("pointerdown.zoneless.prevent",function(o){return r.onStart(o)})}});var le=j;var H=class H{constructor(){this.tuiPresent=Oe()}ngOnDestroy(){this.tuiPresent.emit(!1)}};H.\u0275fac=function(e){return new(e||H)},H.\u0275dir=u({type:H,selectors:[["","tuiPresent",""]],hostVars:2,hostBindings:function(e,r){e&1&&g("animationcancel.self",function(){return r.tuiPresent.emit(!1)})("animationstart.self",function(){return r.tuiPresent.emit(!0)}),e&2&&p("animation","tuiPresent 1s infinite")},outputs:{tuiPresent:"tuiPresent"}});var Ue=H;export{re as a,st as b,ie as c,oe as d,ne as e,se as f,ce as g,Rt as h,Xe as i,y as j,L as k,le as l,Ue as m};
