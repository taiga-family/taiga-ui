import{i as Xe,j as Qe}from"./chunk-VJFTAZOO.js";import{i as Ne,j as Ye,k as Be,l as Fe,n as w,o as Ue,p as Ke,q as je}from"./chunk-MTAINC6A.js";import{r as Le}from"./chunk-CEEZBV64.js";import{b as He}from"./chunk-32EPBUDC.js";import{e as Ee}from"./chunk-I4N5R6Q5.js";import{i as Ve}from"./chunk-CHS6H6BT.js";import{a as We}from"./chunk-UEDJIMWG.js";import{c as Ae}from"./chunk-Z7Z3MGBI.js";import{Bb as Ie,Oa as N,S as O,Ub as ze,V as xe,Vb as S,W as Oe,Wb as Re,Xb as B,Zb as q,_b as G,ab as we,eb as Y,h as _e,jd as De,ta as Se,y as Ce,ya as L}from"./chunk-HCM5SIEF.js";import{B as Pe,c as ye,h as Me,m as Te,p as ke}from"./chunk-34QFRBFN.js";import{a as fe}from"./chunk-HB52MDKS.js";import{Aa as h,Cc as T,Db as l,Dc as c,Lc as he,Ma as C,Mb as oe,Mc as ge,Na as y,Oc as W,Qa as re,Qc as X,Ub as H,Va as z,Vc as be,Wb as se,Wc as ve,Xc as Q,Ya as ae,Yb as le,Yc as V,Za as m,Zb as ce,Zc as $,_a as K,_b as D,ab as R,da as J,fc as E,gc as g,hc as j,ic as x,ja as ee,ka as te,ma as ne,mc as ue,oa as ie,rc as b,sc as M,tc as de,uc as me,ud as v,vc as pe,w as Z,xc as A}from"./chunk-NAEF7NDX.js";import{h as I}from"./chunk-42JZD6NG.js";var tt={rangeMode:!1},[$e,ct]=we(tt);function it(o,n){if(o&1){let e=A();b(0,"tui-scrollbar",0)(1,"tui-calendar-year",1),T("yearClick",function(t){C(e);let r=c();return y(r.onPickerYearClick(t))}),M()()}if(o&2){let e=c();l(),g("initialItem",e.year.year)("max",e.max().year)("min",e.min().year)("rangeMode",e.options.rangeMode)("value",e.value())}}function rt(o,n){if(o&1){let e=A();me(0),be(1),b(2,"div",7),T("click",function(){C(e);let t=Q(1),r=c(3);return y(r.onItemClick(t))})("tuiHoveredChange",function(t){C(e);let r=Q(1),a=c(3);return y(a.onItemHovered(t,r))}),W(3),M(),pe()}if(o&2){let e=n.$implicit,i=c().$implicit,t=c(2);l();let r=ve(t.getTuiMonth(i*4+e,t.year.year));l(),x("t-cell_disabled",t.disabledItemHandlerWithMinMax(r))("t-cell_today",t.isItemToday(r)),E("data-range",t.getItemRange(r)),l(),X(" ",t.months()[i*4+e]," ")}}function at(o,n){o&1&&(b(0,"div",5),D(1,rt,4,7,"ng-container",6),M()),o&2&&(l(),g("tuiRepeatTimesOf",4))}function ot(o,n){if(o&1){let e=A();b(0,"tui-spin-button",2),T("leftClick",function(){C(e);let t=c();return y(t.onPreviousYear())})("rightClick",function(){C(e);let t=c();return y(t.onNextYear())}),b(1,"button",3),T("click",function(){C(e);let t=c();return y(t.onYearClick())}),W(2),M()(),D(3,at,2,1,"div",4)}if(o&2){let e=c();g("focusable",!1)("leftDisabled",e.year.yearSameOrBefore(e.min()))("rightDisabled",e.year.yearSameOrAfter(e.max())),l(2),X(" ",e.year.formattedYear," "),l(),g("tuiRepeatTimesOf",3)}}var qe=Re.currentLocal(),f=class f{constructor(){this.isYearPickerShown=!1;this.months=h(Le);this.isRangePicking=v((n=this.value())=>!this.options.rangeMode&&n instanceof B&&n.isSingleMonth||this.options.rangeMode&&n instanceof S);this.year=qe;this.disabledItemHandler=Ce;this.minLength=null;this.maxLength=null;this.monthClick=new z;this.hoveredItemChange=new z;this.yearChange=new z;this.options=h($e);this.min=R(q);this.max=R(G);this.value=R(null);this.hoveredItem=null}set minSetter(n){this.min.set(n)}set maxSetter(n){this.max.set(n)}set valueSetter(n){this.value.set(n)}onNextYear(){this.updateActiveYear(this.year.append({year:1}))}onPreviousYear(){this.updateActiveYear(this.year.append({year:-1}))}getItemRange(n){let e=this.value(),{hoveredItem:i}=this;if(!e)return null;if(!this.options.rangeMode&&e instanceof S)return e!=null&&e.monthSame(n)?"active":null;let t=e instanceof S?new B(e,e):e,r=n.month+n.year*12,a=i?i.month+i.year*12:null,s=t.from.month+t.from.year*12,u=t.to.month+t.to.year*12,d=this.isRangePicking()?a:null,p=Math.min(s,u,d??s),P=Math.max(s,u,d??s);return p===P&&p===r?"active":p===r?"start":P===r?"end":p<r&&r<P?"middle":null}get disabledItemHandlerWithMinMax(){return this.calculateDisabledItemHandlerWithMinMax(this.disabledItemHandler,this.value(),this.isRangePicking(),this.min(),this.max(),this.minLength,this.maxLength)}getTuiMonth(n,e){return new S(e,n)}isItemToday(n){return qe.monthSame(n)}onPickerYearClick(n){this.isYearPickerShown=!1,this.year.year!==n&&this.updateActiveYear(new ze(n))}onItemClick(n){this.disabledItemHandlerWithMinMax(n)||this.monthClick.emit(n)}onYearClick(){this.isYearPickerShown=!0}onItemHovered(n,e){this.updateHoveredItem(n?e:null)}calculateDisabledItemHandlerWithMinMax(n,e,i,t,r,a,s){return u=>{let d=e instanceof B?e.from:e,p=i&&d?Math.abs(u.year*12+u.month-d.year*12-d.month):0,P=p&&s&&p>s,et=p&&a&&p<a;return P||et||u.monthBefore(t)||u.monthAfter(r)||n(u)}}updateHoveredItem(n){Se(this.hoveredItem,n,(e,i)=>e.monthSame(i))||(this.hoveredItem=n,this.hoveredItemChange.emit(n))}updateActiveYear(n){this.year=n,this.yearChange.emit(n)}};f.\u0275fac=function(e){return new(e||f)},f.\u0275cmp=H({type:f,selectors:[["tui-calendar-month"]],hostVars:2,hostBindings:function(e,i){e&2&&x("_picking",i.isRangePicking())},inputs:{year:"year",disabledItemHandler:"disabledItemHandler",minLength:"minLength",maxLength:"maxLength",minSetter:[2,"min","minSetter",n=>n??q],maxSetter:[2,"max","maxSetter",n=>n??G],valueSetter:[0,"value","valueSetter"]},outputs:{monthClick:"monthClick",hoveredItemChange:"hoveredItemChange",yearChange:"yearChange"},features:[V([Ie(f)])],decls:2,vars:1,consts:[[1,"t-scrollbar"],[3,"yearClick","initialItem","max","min","rangeMode","value"],[1,"t-spin",3,"leftClick","rightClick","focusable","leftDisabled","rightDisabled"],["automation-id","tui-calendar-month__active-year","tabIndex","-1","tuiLink","","type","button",3,"click"],["class","t-row",4,"tuiRepeatTimes","tuiRepeatTimesOf"],[1,"t-row"],[4,"tuiRepeatTimes","tuiRepeatTimesOf"],[1,"t-cell",3,"click","tuiHoveredChange"]],template:function(e,i){e&1&&D(0,it,2,5,"tui-scrollbar",0)(1,ot,4,5),e&2&&ue(i.isYearPickerShown?0:1)},dependencies:[Qe,Ae,He,We,Ee,Xe],styles:[`.t-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;font:var(--tui-font-text-m)}.t-row[_ngcontent-%COMP%]:first-child{justify-content:flex-end}.t-row[_ngcontent-%COMP%]:last-child{justify-content:flex-start}.t-cell[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;line-height:2rem;isolation:isolate;cursor:pointer;overflow:hidden;border:.125rem solid transparent;box-sizing:border-box;mask:linear-gradient(transparent calc(50% - 1rem),#000 calc(50% - 1rem),#000 calc(50% + 1rem),transparent calc(50% + 1rem))}.t-cell[_ngcontent-%COMP%]:first-child{border-inline-start-color:transparent!important}.t-cell[_ngcontent-%COMP%]:last-child{border-inline-end-color:transparent!important}.t-cell[_ngcontent-%COMP%]:before, .t-cell[_ngcontent-%COMP%]:after{position:absolute;inset:0;content:"";z-index:-1;border-radius:var(--tui-radius-m)}.t-cell[_ngcontent-%COMP%]:after{mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 32"><path d="M0.2856 0L0.6763 0C2.9265 0 4.9876 1.259 6.0147 3.2611L10.2442 11.5048C11.5301 14.0113 11.5683 16.9754 10.3472 19.5141L5.9766 28.6007C4.9772 30.6786 2.8754 32 0.5696 32H0.285645V0Z"></path></svg>') right / .75rem 100% no-repeat,linear-gradient(#000,#000) left / calc(100% - .7rem) 100% no-repeat}.t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:first-child):before{border-top-left-radius:0;border-bottom-left-radius:0}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:last-child):before{border-top-right-radius:0;border-bottom-right-radius:0}.t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:not(:last-child):before{right:-1rem}.t-cell[data-range=start][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1)}.t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=end][_ngcontent-%COMP%]:not(:first-child):before{left:-1rem}.t-cell[data-range=end][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);transform:scaleX(-1)}.t-cell[data-range=active][_ngcontent-%COMP%]{color:var(--tui-text-primary-on-accent-1)}.t-cell[data-range=active][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);mask:none}.t-cell_disabled[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity);pointer-events:none}.t-cell_today[_ngcontent-%COMP%]{text-decoration:underline;text-underline-offset:.25rem}@media (hover: hover) and (pointer: fine){.t-cell[_ngcontent-%COMP%]:hover:not([data-range=start]):not([data-range=end]):before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=end][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=active][_ngcontent-%COMP%]:hover:after{background:var(--tui-background-accent-1-hover)}}[_nghost-%COMP%]{display:block;block-size:12rem;inline-size:16rem;padding:1.125rem;box-sizing:content-box}.t-spin[_ngcontent-%COMP%]{margin-block-end:1rem}.t-cell[_ngcontent-%COMP%]{inline-size:4rem;border-block-start-width:.75rem;border-block-end-width:.75rem}.t-scrollbar[_ngcontent-%COMP%]{block-size:inherit;inline-size:inherit}`],changeDetection:0}),I([L],f.prototype,"calculateDisabledItemHandlerWithMinMax",1);var Ge=f;var k=class k{constructor(){this.doc=h(fe);this.el=N();this.range=h(U);this.activeThumbChange=ae();let n;Y(this.el,"pointerdown",{passive:!0,capture:!0}).pipe(ie(({clientX:e,target:i,pointerId:t})=>{n=this.detectActiveThumb(e,i);let r=this.range.slidersRefs()[n==="start"?0:1];r==null||r.nativeElement.setPointerCapture(t),this.activeThumbChange.emit(n),this.range.focusable()&&this.el.focus()}),te(e=>Y(this.doc,"pointermove").pipe(ee(e))),Z(({clientX:e})=>this.getFractionFromEvents(e??0)),ne(Y(this.doc,"pointerup",{passive:!0})),J(),_e()).subscribe(e=>{let i=this.range.toValue(e);this.range.processValue(i,n==="end")})}getFractionFromEvents(n){let{left:e,right:i,width:t}=this.el.getBoundingClientRect(),r=this.el.matches('[dir="rtl"] :scope')?i:e,a=Math.abs(O(n,e,i)-r);return Oe(a/t,Ne)}detectActiveThumb(n,e){let[i,t]=this.range.slidersRefs();switch(e){case(t==null?void 0:t.nativeElement):return"end";case(i==null?void 0:i.nativeElement):return"start";default:return this.findNearestActiveThumb(n)}}findNearestActiveThumb(n){let e=this.getFractionFromEvents(n),i=e*100-this.range.start(),t=e*100-100+this.range.end();return Math.abs(i)>Math.abs(t)||t>0||this.range.start()===0&&this.range.end()===100?"end":"start"}};k.\u0275fac=function(e){return new(e||k)},k.\u0275dir=se({type:k,outputs:{activeThumbChange:"activeThumbChange"}});var F=k;var Je=()=>({standalone:!0}),_=class _ extends Ve{constructor(){super(...arguments);this.el=N();this.options=h(Fe);this.lastActiveThumb="end";this.min=m(0);this.max=m(100);this.step=m(1);this.size=m(this.options.size);this.segments=m(1);this.keySteps=m(null);this.focusable=m(!0);this.margin=m(0);this.limit=m(1/0);this.slidersRefs=oe(w,{read:K});this.start=v(()=>this.toPercent(this.value()[0]));this.end=v(()=>100-this.toPercent(this.value()[1]));this.fractionStep=v((e=this.step())=>this.keySteps()?e/100:e/(this.max()-this.min()));this.computedKeySteps=v(()=>this.computePureKeySteps(this.keySteps(),this.min(),this.max()));this.segmentWidthRatio=v(()=>1/this.segments())}processValue(e,i){i?this.updateEnd(e):this.updateStart(e),this.lastActiveThumb=i?"end":"start"}takeStep(e){return this.value().map((i,t)=>{let a=this.toPercent(i)/100+e[t]*this.fractionStep();return this.toValue(a)})}toValue(e){return Ye(O(xe(e,this.fractionStep()),0,1)*100,this.computedKeySteps())}get rtl(){return this.el.matches('[dir="rtl"] :scope')}changeByStep(e,i){let[t,r]=this.slidersRefs().map(d=>d==null?void 0:d.nativeElement),a=i===this.el?this.lastActiveThumb==="end":i===r,s=a?r:t,u=this.takeStep(a?[0,e]:[e,0]);this.processValue(u[a?1:0],a),s==null||s.focus()}toPercent(e){return Be(e,this.computedKeySteps())}computePureKeySteps(e,i,t){return e||[[0,i],[100,t]]}updateStart(e){let i=Math.min(e,this.value()[1]),t=this.value()[1]-i;this.checkDistance(t)&&this.onChange([i,this.value()[1]])}updateEnd(e){let i=Math.max(e,this.value()[0]),t=i-this.value()[0];this.checkDistance(t)&&this.onChange([this.value()[0],i])}checkDistance(e){return O(e,this.margin(),this.limit())===e}};_.\u0275fac=(()=>{let e;return function(t){return(e||(e=re(_)))(t||_)}})(),_.\u0275cmp=H({type:_,selectors:[["tui-range"]],viewQuery:function(i,t){i&1&&he(t.slidersRefs,w,5,K),i&2&&ge()},hostVars:11,hostBindings:function(i,t){i&1&&T("focusout",function(){return t.onTouched()})("keydown.arrowUp.prevent",function(a){return t.changeByStep(1,a.target)})("keydown.arrowDown.prevent",function(a){return t.changeByStep(-1,a.target)})("keydown.arrowRight.prevent",function(a){return t.changeByStep(t.rtl?-1:1,a.target)})("keydown.arrowLeft.prevent",function(a){return t.changeByStep(t.rtl?1:-1,a.target)}),i&2&&(E("data-size",t.size())("tabindex",-1)("aria-disabled",t.disabled()),j("--t-start",t.start(),"%")("--t-end",t.end(),"%")("background",t.options.trackColor),x("_disabled",t.disabled()))},inputs:{min:[1,"min"],max:[1,"max"],step:[1,"step"],size:[1,"size"],segments:[1,"segments"],keySteps:[1,"keySteps"],focusable:[1,"focusable"],margin:[1,"margin"],limit:[1,"limit"]},features:[V([De([0,0])]),ce([{directive:F,outputs:["activeThumbChange","activeThumbChange"]}]),le],decls:3,vars:24,consts:[[1,"t-track"],["automation-id","tui-range__left","readonly","","tuiSlider","","type","range",1,"t-thumb",3,"disabled","keySteps","max","min","ngModel","ngModelOptions","size","step","tabIndex"],["automation-id","tui-range__right","readonly","","tuiSlider","","type","range",1,"t-thumb",3,"disabled","keySteps","max","min","ngModel","ngModelOptions","size","step","tabIndex"]],template:function(i,t){i&1&&(b(0,"div",0),de(1,"input",1)(2,"input",2),M()),i&2&&(j("--t-bg-size-ratio",1-t.segmentWidthRatio())("--t-segment-width",t.segmentWidthRatio()*100,"%"),l(),g("disabled",t.disabled())("keySteps",t.keySteps())("max",t.max())("min",t.min())("ngModel",t.value()[0])("ngModelOptions",$(22,Je))("size",t.size())("step",t.step())("tabIndex",t.focusable()?0:-1),l(),g("disabled",t.disabled())("keySteps",t.keySteps())("max",t.max())("min",t.min())("ngModel",t.value()[1])("ngModelOptions",$(23,Je))("size",t.size())("step",t.step())("tabIndex",t.focusable()?0:-1))},dependencies:[Pe,ye,ke,Me,Te,w,Ue,Ke,je],styles:['[_nghost-%COMP%]{position:relative;display:block;block-size:var(--tui-thickness);border-radius:var(--tui-radius-m);cursor:pointer;outline:none;margin:calc((1rem - var(--tui-thickness)) / 2) 0;touch-action:pan-x;--tui-thickness: .125rem}[_nghost-%COMP%]:active{cursor:ew-resize}[_nghost-%COMP%]:after{content:"";position:absolute;top:50%;block-size:1rem;inline-size:100%;transform:translateY(-50%)}._disabled[_nghost-%COMP%]{opacity:var(--tui-disabled-opacity);pointer-events:none}[data-size=s][_nghost-%COMP%]   .t-track[_ngcontent-%COMP%]{position:relative;margin:0 .25rem;block-size:100%}[data-size=s][_nghost-%COMP%]   .t-track[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:max(calc(var(--t-start) - 1px),1px);right:max(var(--t-end),1px);inset-inline-start:max(calc(var(--t-start) - 1px),1px);inset-inline-end:max(var(--t-end),1px);block-size:100%;background:var(--tui-background-accent-1);margin:0 -.25rem}[data-size=s][_nghost-%COMP%]   .t-track[_ngcontent-%COMP%]:after{position:absolute;inset:0;content:"";left:.125rem;right:.375rem;inset-inline-start:.125rem;inset-inline-end:.375rem;background-image:repeating-linear-gradient(to var(--tui-inline-end),var(--tui-text-tertiary) 0 .25rem,transparent 0 calc(var(--t-segment-width) / var(--t-bg-size-ratio)));background-position-x:var(--tui-inline-end);background-repeat:no-repeat;background-size:calc(100% * var(--t-bg-size-ratio))}[data-size=m][_nghost-%COMP%]   .t-track[_ngcontent-%COMP%]{position:relative;margin:0 .375rem;block-size:100%}[data-size=m][_nghost-%COMP%]   .t-track[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:max(calc(var(--t-start) - 1px),1px);right:max(var(--t-end),1px);inset-inline-start:max(calc(var(--t-start) - 1px),1px);inset-inline-end:max(var(--t-end),1px);block-size:100%;background:var(--tui-background-accent-1);margin:0 -.375rem}[data-size=m][_nghost-%COMP%]   .t-track[_ngcontent-%COMP%]:after{position:absolute;inset:0;content:"";left:.25rem;right:.5rem;inset-inline-start:.25rem;inset-inline-end:.5rem;background-image:repeating-linear-gradient(to var(--tui-inline-end),var(--tui-text-tertiary) 0 .25rem,transparent 0 calc(var(--t-segment-width) / var(--t-bg-size-ratio)));background-position-x:var(--tui-inline-end);background-repeat:no-repeat;background-size:calc(100% * var(--t-bg-size-ratio))}.t-thumb[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:50%;left:0;right:0;z-index:1;transform:translateY(-50%)}.t-thumb[_ngcontent-%COMP%]::-webkit-slider-thumb{pointer-events:auto}.t-thumb[_ngcontent-%COMP%]::-moz-range-thumb{pointer-events:auto}._disabled[_nghost-%COMP%]   .t-thumb[_ngcontent-%COMP%]::-webkit-slider-thumb{pointer-events:none}._disabled[_nghost-%COMP%]   .t-thumb[_ngcontent-%COMP%]::-moz-range-thumb{pointer-events:none}input[type=range].t-thumb[_ngcontent-%COMP%]::-webkit-slider-runnable-track{background:transparent}input[type=range].t-thumb[_ngcontent-%COMP%]::-moz-range-track{background:transparent}input[type=range].t-thumb[_ngcontent-%COMP%]::-moz-range-progress{background:transparent}.t-thumb[_ngcontent-%COMP%]:first-of-type{--tui-slider-thumb-transform: translateX(calc(var(--tui-inline) * -50%)) translateX(calc(var(--tui-inline) * -1px))}.t-thumb[_ngcontent-%COMP%]:last-of-type{--tui-slider-thumb-transform: translateX(calc(var(--tui-inline) * 50%)) translateX(calc(var(--tui-inline) * 1px))}._disabled[_nghost-%COMP%]   .t-thumb[_ngcontent-%COMP%]{opacity:1}'],changeDetection:0}),I([L],_.prototype,"computePureKeySteps",1);var U=_;export{ct as a,Ge as b,U as c};
