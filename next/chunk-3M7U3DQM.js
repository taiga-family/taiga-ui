import{f as te}from"./chunk-NADRH2SW.js";import{K as ee,xa as h}from"./chunk-6Q72JYNW.js";import"./chunk-ZI53JSSX.js";import"./chunk-SGRWN5DG.js";import"./chunk-B4UPMWGG.js";import"./chunk-73I5JGT6.js";import"./chunk-LXHAVJ3H.js";import"./chunk-H5OIXV76.js";import"./chunk-U6P34JGR.js";import"./chunk-KVGZLMMJ.js";import"./chunk-HZYEKESB.js";import"./chunk-OF4GD7M4.js";import"./chunk-CNDS5AHU.js";import"./chunk-XT4X3TXN.js";import"./chunk-EFEOUGTT.js";import"./chunk-WEBHLTA4.js";import"./chunk-JHZ7RVGM.js";import"./chunk-256PKKUD.js";import"./chunk-6W5WZCBL.js";import"./chunk-GYDFNRJU.js";import"./chunk-HDGWTFNH.js";import"./chunk-WK2IG7V3.js";import"./chunk-KHGGOZ7E.js";import{e as Z}from"./chunk-GBJA6OR6.js";import"./chunk-RR3R75KI.js";import"./chunk-BMDQDCHM.js";import"./chunk-WVWDEUZ6.js";import"./chunk-3YGYRV3K.js";import"./chunk-KORMDAHZ.js";import"./chunk-CB3DDEAW.js";import"./chunk-LG7C6KPB.js";import{G as v,J,M as K,T as X,n as z,p as Y,x as G}from"./chunk-F5GGLPTL.js";import"./chunk-7J7VU6MN.js";import{k as q}from"./chunk-B5LEU4Z2.js";import"./chunk-5HGPAYF2.js";import"./chunk-ZLPMIAO4.js";import{ea as j}from"./chunk-7UTDH6I4.js";import"./chunk-IZ46LUX5.js";import"./chunk-4GTWS6G4.js";import"./chunk-2AEUSRTN.js";import"./chunk-G4T4B2YP.js";import"./chunk-HWUDY5MF.js";import"./chunk-QKFSUYQR.js";import"./chunk-UZ2TF2IT.js";import{a as $}from"./chunk-WJEXTC7N.js";import"./chunk-CKE7NNGO.js";import"./chunk-OGEVKD7T.js";import"./chunk-E7FLKK4R.js";import{o as P}from"./chunk-6HQJZZJ3.js";import{B as N,c as V,h as F,m as H}from"./chunk-RSFXD4S2.js";import{q as I}from"./chunk-4QJHFCQC.js";import{Bc as w,Cc as x,Db as o,Gc as u,Hc as m,Ic as c,La as D,Ma as C,Nc as f,Pc as T,Rc as O,Sc as U,Tc as W,Ub as b,_a as _,_b as S,dd as y,ed as g,gc as d,gd as B,nc as k,oc as Q,pc as R,qc as l,rc as a,sc as L,wc as A,xb as M}from"./chunk-ET2ZSIIN.js";import"./chunk-42JZD6NG.js";function ie(p,t){if(p&1){let e=A();l(0,"button",5),w("click",function(){let r=D(e).$implicit,n=x(2);return C(n.onClick(r.login))}),l(1,"div",6),f(2),y(3,"tuiInitials"),L(4,"img",7),a(),f(5),a()}if(p&2){let e=t.$implicit;o(2),T(" ",g(3,3,e.name)," "),o(2),d("src",e.avatar,M),o(),T(" ",e.name," ")}}function re(p,t){if(p&1&&(l(0,"tui-data-list"),Q(1,ie,6,5,"button",4,k),y(3,"tuiMapper"),a()),p&2){let e=x();o(),R(B(3,0,e.items,e.filter,e.search.replace("@","")))}}var s=class s{constructor(){this.options=P;this.value="Type @ to see a dropdown";this.items=[{name:"Alexander Inkin",avatar:te`/images/avatar.jpg`,login:"a.inkin"},{name:"Roman Sedov",avatar:"",login:"r.sedov"}];this.filter=(t,e)=>t.filter(({name:i,login:r})=>r.startsWith(e)||i.startsWith(e));this.predicate=t=>String(j(t)).startsWith("@")}get search(){var e;let t=(e=this.textarea)==null?void 0:e.nativeElement;return(t==null?void 0:t.value.slice(t.value.indexOf("@"),t.selectionStart))||""}onArrow(t,e){let i=this.options[e];i&&(t.preventDefault(),i.nativeElement.focus())}onClick(t){if(!this.textarea)return;let e=this.search,i=this.value.replace(e,t),r=i.indexOf(t)+t.length;this.value=i,this.textarea.nativeElement.focus(),this.textarea.nativeElement.value=i,this.textarea.nativeElement.setSelectionRange(r,r)}};s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=b({type:s,selectors:[["ng-component"]],viewQuery:function(e,i){if(e&1&&(u(h,5,_),u(q,5),u(v,5,_)),e&2){let r;m(r=c())&&(i.textarea=r.first),m(r=c())&&(i.driver=r.first),m(r=c())&&(i.options=r)}},decls:6,vars:7,consts:[["tuiDropdownLimitWidth","auto","tuiDropdownSelectionPosition","word",3,"tuiDropdownSelection"],["tuiLabel",""],["tuiTextarea","",3,"ngModelChange","keydown.stop.arrowDown","keydown.stop.arrowUp","focused","max","min","ngModel"],[4,"tuiDropdown"],["tuiOption","","type","button"],["tuiOption","","type","button",3,"click"],["size","s","tuiAvatar",""],["alt","",3,"src"]],template:function(e,i){e&1&&(l(0,"tui-textfield",0)(1,"label",1),f(2,"Type a message"),a(),l(3,"textarea",2),y(4,"async"),W("ngModelChange",function(n){return U(i.value,n)||(i.value=n),n}),w("keydown.stop.arrowDown",function(n){return i.onArrow(n,"first")})("keydown.stop.arrowUp",function(n){return i.onArrow(n,"last")}),a(),S(5,re,4,4,"tui-data-list",3),a()),e&2&&(d("tuiDropdownSelection",i.predicate),o(3),d("focused",g(4,5,i.driver)||null)("max",4)("min",4),O("ngModel",i.value))},dependencies:[I,N,V,F,H,Z,J,v,z,Y,G,ee,$,h,K,X],encapsulation:2,changeDetection:0});var E=s;export{E as default};
