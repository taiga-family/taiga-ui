(window.webpackJsonp=window.webpackJsonp||[]).push([[177],{"g+aR":function(t,n,e){"use strict";e.r(n),e.d(n,"Link",(function(){return u})),e.d(n,"default",(function(){return u})),e.d(n,"pasteRegex",(function(){return a})),e.d(n,"pasteRegexExact",(function(){return o}));var r=e("jgtz"),i=e("ehfC"),a=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)/gi,o=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)$/gi,u=r.Mark.create({name:"link",priority:1e3,inclusive:!1,defaultOptions:{openOnClick:!0,linkOnPaste:!0,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow"}},addAttributes:function(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target}}},parseHTML:function(){return[{tag:"a[href]"}]},renderHTML:function(t){var n=t.HTMLAttributes;return["a",Object(r.mergeAttributes)(this.options.HTMLAttributes,n),0]},addCommands:function(){return{setLink:function(t){return function(n){return n.commands.setMark("link",t)}},toggleLink:function(t){return function(n){return n.commands.toggleMark("link",t,{extendEmptyMarkRange:!0})}},unsetLink:function(){return function(t){return t.commands.unsetMark("link",{extendEmptyMarkRange:!0})}}}},addPasteRules:function(){return[Object(r.markPasteRule)(a,this.type,(function(t){return{href:t[0]}}))]},addProseMirrorPlugins:function(){var t=this,n=[];return this.options.openOnClick&&n.push(new i.d({key:new i.e("handleClickLink"),props:{handleClick:function(n,e,r){var i,a=t.editor.getAttributes("link");return!(!(null===(i=r.target)||void 0===i?void 0:i.closest("a"))||!a.href||(window.open(a.href,a.target),0))}}})),this.options.linkOnPaste&&n.push(new i.d({key:new i.e("handlePasteLink"),props:{handlePaste:function(n,e,r){if(n.state.selection.empty)return!1;var i="";return r.content.forEach((function(t){i+=t.textContent})),!(!i||!i.match(o)||(t.editor.commands.setMark(t.type,{href:i}),0))}}})),n}})}}]);