import{Ka as m,La as p,ja as a,na as d,va as f}from"./chunk-QUTX6DZN.js";import{a as u}from"./chunk-GOJWO2R3.js";import{Ab as s,Ac as c,Vb as l,za as r}from"./chunk-2UPKG2B4.js";var e=class e{constructor(){this.doc=r(u);this.el=f();this.activeElement=null;this.initialized=!1;Promise.resolve().then(()=>{this.initialized=!0,this.activeElement=p(this.doc),this.el.focus()})}ngOnDestroy(){this.initialized=!1,d(this.activeElement)&&this.activeElement.focus()}onFocusIn(n){let{firstElementChild:t}=this.el;!a(this.el,n)&&t&&m({initial:t,root:this.el})?.focus()}};e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=l({type:e,selectors:[["","tuiFocusTrap",""]],hostAttrs:["tabIndex","0"],hostBindings:function(t,o){t&1&&c("focusin.zoneless",function(i){return o.initialized&&o.onFocusIn(i.target)},!1,s)("pointerdown",function(i){return i.currentTarget==null?null:i.currentTarget.removeAttribute("tabindex")})}});var h=e;export{h as a};
