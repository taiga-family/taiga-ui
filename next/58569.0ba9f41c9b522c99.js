(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[58569],{58569:(t,e,n)=>{n.r(e),n.d(e,{default:()=>w});var i=n(81359),o=n(87742),a=n(45861),s=n(64870),r=n(92229),l=n(8245),u=n(61204),c=n(80736),h=n(60149),d=n(54148),p=n(25358),m=n(64204),g=n(14759),b=n(55514),f=n(70948),$=n(44046),y=n(37550);const M=()=>({precision:0});function j(t,e){if(1&t){const t=y.RV6();y.j41(0,"tui-reorder",11),y.mxI("itemsChange",(function(e){y.eBV(t);const n=y.XpG();return y.DH7(n.initial,e)||(n.initial=e),y.Njj(e)})),y.bIt("enabledChange",(function(e){y.eBV(t);const n=y.XpG();return y.Njj(n.onEnabled(e))})),y.k0s()}if(2&t){const t=y.XpG();y.Y8G("enabled",t.enabled),y.R50("items",t.initial)}}function k(t,e){1&t&&(y.j41(0,"th",19),y.EFF(1," Name "),y.k0s()),2&t&&y.Y8G("requiredSort",!0)}function G(t,e){if(1&t&&(y.j41(0,"th",20),y.EFF(1," Date of Birth "),y.k0s()),2&t){const t=y.XpG(2);y.Y8G("tuiSortable",t.dob)}}function F(t,e){1&t&&(y.j41(0,"th",19),y.EFF(1," Age "),y.k0s()),2&t&&y.Y8G("requiredSort",!0)}function S(t,e){if(1&t&&(y.j41(0,"td",24),y.EFF(1),y.k0s()),2&t){const t=y.XpG().$implicit,e=y.XpG(3);y.AVh("match",e.isMatch(t.name)),y.R7$(),y.SpI(" ",t.name," ")}}function C(t,e){if(1&t&&(y.j41(0,"td",24),y.EFF(1),y.k0s()),2&t){const t=y.XpG().$implicit,e=y.XpG(3);y.AVh("match",e.isMatch(t.dob)),y.R7$(),y.SpI(" ",t.dob," ")}}function T(t,e){if(1&t&&(y.j41(0,"td",24),y.EFF(1),y.k0s()),2&t){const t=y.XpG().$implicit,e=y.XpG(3);y.AVh("match",e.isMatch(t.age)),y.R7$(),y.SpI(" ",t.age," ")}}function R(t,e){1&t&&(y.j41(0,"tr",22),y.DNE(1,S,2,3,"td",23)(2,C,2,3,"td",23)(3,T,2,3,"td",23),y.k0s()),2&t&&(y.R7$(),y.Y8G("tuiCell","name"),y.R7$(),y.Y8G("tuiCell","dob"),y.R7$(),y.Y8G("tuiCell","age"))}function J(t,e){if(1&t&&(y.j41(0,"tbody",21),y.Z7z(1,R,4,3,"tr",22,y.fX1),y.k0s()),2&t){const t=e.tuiLet;y.Y8G("data",t),y.R7$(),y.Dyx(t)}}function D(t,e){if(1&t){const t=y.RV6();y.j41(0,"table",12),y.nI1(1,"async"),y.nI1(2,"async"),y.bIt("tuiSortChange",(function(e){y.eBV(t);const n=y.XpG();return y.Njj(n.change(e))})),y.j41(3,"thead")(4,"tr",13),y.DNE(5,k,2,1,"th",14)(6,G,2,1,"th",15)(7,F,2,1,"th",14),y.k0s()(),y.DNE(8,J,3,1,"tbody",16),y.nI1(9,"tuiTableSort"),y.j41(10,"tfoot")(11,"tr")(12,"td",17)(13,"tui-table-pagination",18),y.nI1(14,"async"),y.nI1(15,"async"),y.bIt("paginationChange",(function(e){y.eBV(t);const n=y.XpG();return y.Njj(n.onPagination(e))})),y.k0s()()()()()}if(2&t){let t;const n=y.XpG();y.Y8G("columns",n.columns)("direction",null!==(t=y.bMT(1,10,n.direction$))&&void 0!==t?t:-1)("tuiSortBy",y.bMT(2,12,n.sortKey$)),y.R7$(5),y.Y8G("tuiHead","name"),y.R7$(),y.Y8G("tuiHead","dob"),y.R7$(),y.Y8G("tuiHead","age"),y.R7$(),y.Y8G("tuiLet",y.bMT(9,14,e)),y.R7$(4),y.Y8G("colSpan",n.columns.length),y.R7$(),y.Y8G("page",y.bMT(14,16,n.page$)||0)("total",y.bMT(15,18,n.total$)||0)}}const E=s.JKS.currentLocal(),I=["John","Jane","Jack","Jill","James","Joan","Jim","Julia","Joe","Julia"],x=["Smith","West","Brown","Jones","Davis","Miller","Johnson","Jackson","Williams","Wilson"],B=Array.from({length:300},(()=>{const t=E.append({day:-Math.floor(4e3*Math.random())-7500}),e=function(t){const e=E.year-t.year,n=E.month-t.month,i=E.day-t.day;return e+(0,s.Zix)(n>0||!n&&i>9)}(t);return{name:`${x[Math.floor(10*Math.random())]}, ${I[Math.floor(10*Math.random())]}`,dob:t,age:e}})),Y={Name:"name",Age:"age","Date of Birth":"dob"};let w=(()=>{var t;class e{constructor(){this.size$=new u.t(10),this.page$=new u.t(0),this.direction$=new u.t(a.AI.Desc),this.sortKey$=new u.t("name"),this.minAge=new o.MJ(21),this.minAge$=(0,s.lD9)(this.minAge).pipe((0,c.B)(1e3),(0,h.M)((()=>this.page$.next(0)))),this.request$=(0,d.z)([this.sortKey$,this.direction$,this.page$,this.size$,this.minAge$]).pipe((0,c.B)(0),(0,p.n)((t=>this.getData(...t).pipe((0,m.Z)(null)))),(0,g.u)()),this.initial=["Name","Date of Birth","Age"],this.enabled=this.initial,this.columns=["name","dob","age"],this.dob=!1,this.search="",this.loading$=this.request$.pipe((0,b.T)(s._sG)),this.total$=this.request$.pipe((0,f.p)(s.Ajz),(0,b.T)((({length:t})=>t)),(0,m.Z)(1)),this.data$=this.request$.pipe((0,f.p)(s.Ajz),(0,b.T)((t=>t.filter(s.Ajz))),(0,m.Z)([]))}onEnabled(t){this.enabled=t,this.columns=this.initial.filter((e=>t.includes(e))).map((t=>Y[t]??""))}onPagination({page:t,size:e}){this.page$.next(t),this.size$.next(e)}isMatch(t){return!!this.search&&(0,s.Gb0)(t,this.search)}change({sortKey:t,sortDirection:e}){this.sortKey$.next(t),this.direction$.next(e)}getData(t,e,n,i,o){console.info(`Sort by ${t} , direction : ${e}`);const a=n*i,r=a+i,l=[...B].sort(function(t,e){return(n,i)=>e*(0,s._JU)(n[t],i[t])}(t,e)).filter((t=>t.age>=o)).map(((t,e)=>e>=a&&e<r?t:null));return(0,$.O)(1e3*Math.random()+1e3).pipe((0,b.T)((()=>l)))}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=y.VBU({type:t,selectors:[["ng-component"]],decls:30,vars:19,consts:[["dropdown",""],["tuiTextfieldSize","m",1,"filters"],[1,"input"],["tuiLabel",""],["tuiTextfield","",3,"ngModelChange","ngModel"],["tuiInputNumber","",3,"formControl","tuiNumberFormat"],[1,"filters"],["tuiCheckbox","","type","checkbox",3,"ngModelChange","ngModel"],["size","m","tuiButton","","tuiChevron","","tuiDropdownOpen","","type","button",3,"tuiDropdown"],[3,"overlay","showLoader"],["tuiTable","",1,"table",3,"columns","direction","tuiSortBy"],[1,"columns",3,"itemsChange","enabledChange","enabled","items"],["tuiTable","",1,"table",3,"tuiSortChange","columns","direction","tuiSortBy"],["tuiThGroup",""],["tuiSortable","","tuiTh","",3,"requiredSort",4,"tuiHead"],["tuiTh","",3,"tuiSortable",4,"tuiHead"],["tuiTbody","",3,"data",4,"tuiLet"],[3,"colSpan"],[1,"tui-space_top-2",3,"paginationChange","page","total"],["tuiSortable","","tuiTh","",3,"requiredSort"],["tuiTh","",3,"tuiSortable"],["tuiTbody","",3,"data"],["tuiTr",""],["tuiTd","",3,"match",4,"tuiCell"],["tuiTd",""]],template:function(t,e){if(1&t){const t=y.RV6();y.j41(0,"p",1)(1,"tui-textfield",2)(2,"label",3),y.EFF(3,"Find on page"),y.k0s(),y.j41(4,"input",4),y.mxI("ngModelChange",(function(n){return y.eBV(t),y.DH7(e.search,n)||(e.search=n),y.Njj(n)})),y.k0s()(),y.j41(5,"tui-textfield")(6,"label",3),y.EFF(7,"Minimum age"),y.k0s(),y.nrm(8,"input",5),y.k0s()(),y.j41(9,"p",6)(10,"label",3)(11,"input",7),y.mxI("ngModelChange",(function(n){return y.eBV(t),y.DH7(e.dob,n)||(e.dob=n),y.Njj(n)})),y.k0s(),y.EFF(12," Enable sorting by DOB "),y.k0s(),y.j41(13,"button",8),y.EFF(14," Columns "),y.k0s(),y.DNE(15,j,1,2,"ng-template",null,0,y.C5r),y.k0s(),y.j41(17,"tui-loader",9),y.nI1(18,"async"),y.j41(19,"p")(20,"b"),y.EFF(21,"Sort key:"),y.k0s(),y.EFF(22),y.nI1(23,"async"),y.j41(24,"b"),y.EFF(25,"direction:"),y.k0s(),y.EFF(26),y.nI1(27,"async"),y.k0s(),y.DNE(28,D,16,20,"table",10),y.nI1(29,"async"),y.k0s()}if(2&t){let t;const n=y.sdS(16);y.R7$(4),y.R50("ngModel",e.search),y.R7$(4),y.Y8G("formControl",e.minAge)("tuiNumberFormat",y.lJ4(18,M)),y.R7$(3),y.R50("ngModel",e.dob),y.R7$(2),y.Y8G("tuiDropdown",n),y.R7$(4),y.Y8G("overlay",!0)("showLoader",!!y.bMT(18,10,e.loading$)),y.R7$(5),y.SpI(" ",y.bMT(23,12,e.sortKey$),", "),y.R7$(4),y.SpI(" ",y.bMT(27,14,e.direction$)," "),y.R7$(2),y.vxM((t=y.bMT(29,16,e.data$))?28:-1,t)}},dependencies:[i.Jj,o.YN,o.me,o.Zm,o.BC,o.vS,o.X1,o.l_,r.paf,l.GYS,l.kdZ,r.pUb,r.iEg,l.xhp,r.zRW,s.cOJ,r.apU,r.$0J,a.sJ,a.gJ,a.hO,a.ke,a.z2,a.z8,a.zv,a.nS,a.JO,a.i7,a.Zx,a.Jx,a.bI,r.Bwv,r.j8B,r.TB_],styles:[".table[_ngcontent-%COMP%]{inline-size:100%}.filters[_ngcontent-%COMP%]{display:flex;gap:1rem;white-space:nowrap;align-items:center}.input[_ngcontent-%COMP%]{flex:1}.columns[_ngcontent-%COMP%]{inline-size:10.625rem}.match[_ngcontent-%COMP%]{background:var(--tui-service-selection-background)}"],changeDetection:0}),e})()}}]);