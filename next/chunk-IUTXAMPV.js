import{b as Oi,h as Pi,i as ki,j as wi,k as Si,l as Di,m as Mi}from"./chunk-V7CI767L.js";import{b as pe,c as vi,g as ge}from"./chunk-RERZYVO6.js";import{a as Ci}from"./chunk-EE2REABA.js";import{m as xi}from"./chunk-LBBTIBGF.js";import{b as gi}from"./chunk-AO5RPMQO.js";import{b as di}from"./chunk-CTLJR5GG.js";import{A as bi,C as _i,F as yi,N as Te,a as K,g as fi,h as hi,l as Ti}from"./chunk-2VBI6APX.js";import{a as fe}from"./chunk-D2E3GXUF.js";import{V as ui,W as ce,f as ri,k as he,s as ai}from"./chunk-V4S4KP7W.js";import{i as $t}from"./chunk-S3E23OSN.js";import{I as dt,L as re,Qa as mt,Ta as pi,_ as oi,a as Je,b as ti,d as ne,hb as ft,la as ni,na as se,q as ei,qa as le,s as ii,sa as si,wa as li,xb as mi,za as ci}from"./chunk-KC37FEM7.js";import{g as Y,m as ae}from"./chunk-JUKN4WRM.js";import{D as Ze,a as Ke,p as ut}from"./chunk-RGJEWAQ3.js";import{B as Re,Bc as _,Cb as je,Cc as s,Db as a,Dc as S,E as Fe,Ec as D,Fb as te,G as Zt,Jc as z,Kc as Ge,La as C,Lb as Ve,Lc as E,Ma as x,Mc as tt,N as Ae,Nb as Lt,Nc as b,Ob as L,Oc as me,Pa as Jt,Pb as w,Pc as P,Qc as $e,Rc as We,Sc as Qe,Tc as qe,Ub as g,V as U,Wb as c,Xb as ee,Xc as y,Ya as st,Yb as ie,Za as l,Zb as lt,Zc as Xe,_b as f,_c as oe,ab as R,d as Me,fb as He,fc as Ue,gc as h,hc as G,i as Ie,ia as Ne,ic as M,ja as at,jd as ct,k as ze,la as Be,lc as v,nc as $,oc as W,p as Ut,pc as Q,qc as p,rc as u,s as Ee,sa as k,sc as F,sd as pt,tc as q,td as d,uc as X,ud as A,vc as Gt,vd as Ye,w as N,wa as de,wc as I,xc as Le,za as r}from"./chunk-YJQUARX2.js";import{a as Yt,b as Kt}from"./chunk-42JZD6NG.js";var Ii=new de("",{factory:he("showHideText")}),zi=new de("",{factory:he("paginationTexts")});var Hi={icons:{hide:"@tui.eye-off",show:"@tui.eye",drag:"@tui.grip-vertical"}},[Ei,jo]=dt(Hi);var ji=(o,e)=>({$implicit:o,index:e});function Vi(o,e){if(o&1&&(q(0),b(1),X()),o&2){let t=e.polymorpheusOutlet;a(),P(" ",t," ")}}function Ui(o,e){if(o&1){let t=I();p(0,"tui-tile")(1,"div",2)(2,"div",3),F(3,"tui-icon",4),f(4,Vi,2,1,"ng-container",5),u(),p(5,"button",6),_("click",function(){let n=C(t).$implicit,T=s();return x(T.toggle(n))})("keydown.arrowDown.prevent",function(){let n=C(t).$index,T=s();return x(T.move(n,1))})("keydown.arrowUp.prevent",function(){let n=C(t).$index,T=s();return x(T.move(n,-1))}),b(6),u()()()}if(o&2){let t=e.$implicit,i=e.$index,n=s();G("order",n.order.get(i)),a(),M("t-item_disabled",!n.isEnabled(t)),a(2),h("icon",n.options.icons.drag),a(),h("polymorpheusOutlet",n.content())("polymorpheusOutletContext",oe(9,ji,t,i)),a(),h("iconStart",n.getIcon(t)),a(),P(" ",n.showHideText()," ")}}var ht=class ht{constructor(){this.dragging=!1;this.order=new Map;this.unsortedItems=Ye({source:()=>this.items(),computation:(e,t)=>{let i=(t==null?void 0:t.value)??[];return e.length!==i.length||!e.every(n=>i.includes(n))?e:i}});this.options=r(Ei);this.showHideText=r(Ii);this.enabled=w([]);this.items=w([]);this.content=l(({$implicit:e})=>String(e))}onDrag(){this.dragging=!0}onDrop(){this.dragging&&(this.dragging=!1,this.updateItems())}isEnabled(e){return this.enabled().includes(e)}getIcon(e){return this.isEnabled(e)?this.options.icons.hide:this.options.icons.show}toggle(e){this.enabled.update(t=>this.isEnabled(e)?t.filter(i=>i!==e):t.concat(e)),this.updateEnabled()}move(e,t){let i=this.order.get(e)??e;if(!i&&t<0||i===this.unsortedItems().length-1&&t>0)return;let n=i+t,T=Array.from(this.order.values()).findIndex(ue=>ue===n);this.order.set(e,n),this.order.set(T,i),this.order=new Map(this.order),this.updateItems()}getSortedItems(){let e=this.unsortedItems(),t=Array.from({length:e.length});return e.forEach((i,n)=>{t[this.order.get(n)??n]=i}),t}updateItems(){this.items.set(this.getSortedItems()),this.updateEnabled()}updateEnabled(){this.enabled.set(this.getSortedItems().filter(e=>this.isEnabled(e)))}};ht.\u0275fac=function(t){return new(t||ht)},ht.\u0275cmp=g({type:ht,selectors:[["tui-reorder"]],hostBindings:function(t,i){t&1&&_("focusout.stop",function(){return 0})("pointerdown.zoneless",function(){return i.onDrag()})("pointerup.zoneless",function(){return i.onDrop()},!1,je)},inputs:{enabled:[1,"enabled"],items:[1,"items"],content:[1,"content"]},outputs:{enabled:"enabledChange",items:"itemsChange"},features:[y([{provide:ki,useValue:Pi}])],decls:3,vars:1,consts:[[1,"t-wrapper",3,"orderChange","order"],[3,"order"],[1,"t-item"],["tuiTileHandle","",1,"t-draggable"],[1,"t-icon",3,"icon"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["appearance","icon","size","xs","tuiIconButton","","type","button",1,"t-button",3,"click","keydown.arrowDown.prevent","keydown.arrowUp.prevent","iconStart"]],template:function(t,i){t&1&&(p(0,"tui-tiles",0),qe("orderChange",function(T){return Qe(i.order,T)||(i.order=T),T}),W(1,Ui,7,12,"tui-tile",1,$),u()),t&2&&(We("order",i.order),a(),Q(i.unsortedItems()))},dependencies:[ft,ce,K,wi,Si,Di],styles:["[_nghost-%COMP%]{display:block;font:var(--tui-font-text-s);padding:.5rem 0;-webkit-user-select:none;user-select:none}.t-wrapper[_ngcontent-%COMP%]{grid-auto-rows:2rem}.t-draggable[_ngcontent-%COMP%]{cursor:ns-resize;flex:1 1 auto}.t-item[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:flex;block-size:2rem;align-items:center;padding:0 .75rem;background:var(--tui-background-base)}.t-item_disabled[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity)}.t-item_disabled[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]{color:var(--tui-text-primary);opacity:1}.t-item[_ngcontent-%COMP%]:hover{background:var(--tui-background-base-alt)}.t-item[_ngcontent-%COMP%]:hover   .t-button[_ngcontent-%COMP%]{opacity:1}.t-icon[_ngcontent-%COMP%]{margin-inline-end:.5rem;color:var(--tui-text-tertiary)}.t-icon[_ngcontent-%COMP%]:before{font-size:1rem}.t-button[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;margin-inline-start:auto;opacity:0}.t-button[_ngcontent-%COMP%]:focus{opacity:1}"],changeDetection:0});var Ri=ht;var Li=["tuiCaption",""],Gi=["*"],Tt=class Tt{};Tt.\u0275fac=function(t){return new(t||Tt)},Tt.\u0275cmp=g({type:Tt,selectors:[["caption","tuiCaption",""]],attrs:Li,ngContentSelectors:Gi,decls:1,vars:0,template:function(t,i){t&1&&(S(),D(0))},styles:[`caption[tuiCaption]{caption-side:bottom;text-align:start;padding:.75rem 0;color:var(--tui-text-secondary)}caption[tuiCaption]>*{vertical-align:middle}caption[tuiCaption]>*:not(:first-child){margin-inline-start:.5rem}caption[tuiCaption] tui-pagination:not(:first-child),caption[tuiCaption] tui-pager:not(:first-child){display:inline-flex;vertical-align:middle}
`],encapsulation:2,changeDetection:0});var be=Tt;var gt=class gt{constructor(){this.tuiCell=l("");this.template=r(te)}};gt.\u0275fac=function(t){return new(t||gt)},gt.\u0275dir=c({type:gt,selectors:[["ng-template","tuiCell",""]],inputs:{tuiCell:[1,"tuiCell"]}});var bt=gt;var _t=class _t{constructor(){this.tuiHead=l.required();this.template=r(te)}};_t.\u0275fac=function(t){return new(t||_t)},_t.\u0275dir=c({type:_t,selectors:[["","tuiHead",""]],inputs:{tuiHead:[1,"tuiHead"]}});var B=_t;var j={Asc:1,Desc:-1},$i={sticky:!1,resizable:!1,open:!0,size:"m",direction:j.Asc,requiredSort:!1,sortIcons:{asc:"@tui.chevron-up",desc:"@tui.chevron-down",off:"@tui.chevrons-up-down"}},[Z,cn]=dt($i);var yt=class yt{constructor(){this.stuck=ne(r(ge).pipe(N(e=>{var t;return(((t=e[e.length-1])==null?void 0:t.intersectionRatio)??0)<1}),U(),li(),Ae(()=>Ut)))}};yt.\u0275fac=function(t){return new(t||yt)},yt.\u0275dir=c({type:yt,selectors:[["never"]],hostVars:2,hostBindings:function(t,i){t&2&&M("_stuck",i.stuck())},features:[y([ge,{provide:vi,useValue:[0,1]}])]});var Ct=yt;var Ai=()=>0,xt=class xt{};xt.\u0275fac=function(t){return new(t||xt)},xt.\u0275cmp=g({type:xt,selectors:[["ng-component"]],hostAttrs:[1,"tui-table"],decls:0,vars:0,template:function(t,i){},styles:[`table[tuiTable]{border-collapse:separate;border-spacing:0;isolation:isolate}table[tuiTable] [tuiCell]{padding:0}table[tuiTable] [tuiTitle]{white-space:nowrap}table[tuiTable] [tuiTitle] tui-icon{font-size:1rem}table[tuiTable] [tuiSubtitle]{color:var(--tui-text-secondary)}table[tuiTable] [tuiTh] [tuiCell],table[tuiTable] [tuiTh] [tuiTitle]{font:inherit;color:inherit}
`],encapsulation:2,changeDetection:0});var _e=xt,et=class et{constructor(){this.options=r(Z);this.nothing=ni(_e);this.computedSortChange=d(()=>({sortComparator:this.sorter(),sortDirection:this.direction()}));this.sortChangeOutput=A(()=>this.sortChange.emit(this.computedSortChange()));this.columns=l([]);this.size=l(this.options.size);this.direction=w(this.options.direction);this.sorter=w(Ai);this.sortChange=st();this.appearance=R("table");this.cleaner=R(!1)}updateSorterAndDirection(e){this.sorter()===e?this.updateSorter(this.sorter(),this.direction()===j.Asc?j.Desc:j.Asc):this.updateSorter(e)}updateSorter(e,t=j.Asc){this.sorter.set(e||Ai.bind({})),this.direction.set(t)}};et.\u0275fac=function(t){return new(t||et)},et.\u0275dir=c({type:et,selectors:[["table","tuiTable",""]],hostAttrs:["tuiTable",""],hostVars:1,hostBindings:function(t,i){t&2&&Ue("data-size",i.size())},inputs:{columns:[1,"columns"],size:[1,"size"],direction:[1,"direction"],sorter:[1,"sorter"]},outputs:{direction:"directionChange",sorter:"sorterChange",sortChange:"sortChange"},features:[y([{provide:pe,useValue:"10000px 10000px 10000px 0px"},se(yi,et),ui({size:"s"}),xi({size:"m",appearance:"neutral"}),Ci({size:"xxs",appearance:"neutral"}),Oi({size:"s",color:"var(--tui-text-action)"})]),lt([Ct])]});var O=et;var vt=class vt{constructor(){this.doc=r(Ke);this.el=mt();this.tuiResized$=le(this.el,"mousedown").pipe(si(),at(()=>{var i;let{width:e,right:t}=((i=this.el.closest("th"))==null?void 0:i.getBoundingClientRect())||ei;return le(this.doc,"mousemove").pipe(U(),N(({clientX:n})=>e+n-t),Be(le(this.doc,"mouseup")))}));this.tuiResized=ti(this.tuiResized$)}};vt.\u0275fac=function(t){return new(t||vt)},vt.\u0275dir=c({type:vt,selectors:[["","tuiResized",""]],outputs:{tuiResized:"tuiResized"}});var Wt=vt;var Wi=["tuiTh",""],Qi=["*"];function qi(o,e){if(o&1){let t=I();p(0,"button",4),_("click",function(){C(t);let n=s();return x(n.updateSorterAndDirection())}),Gt(1,2),F(2,"tui-icon",5),u()}if(o&2){let t=s(),i=tt(3);M("t-sort_sorted",t.isCurrent),a(),h("ngTemplateOutlet",i),a(),h("icon",t.icon)}}function Xi(o,e){if(o&1&&Gt(0,2),o&2){s();let t=tt(3);h("ngTemplateOutlet",t)}}function Yi(o,e){o&1&&D(0)}function Ki(o,e){if(o&1){let t=I();p(0,"div",6),_("tuiResized",function(n){C(t);let T=s();return x(T.onResized(n))}),u()}}var Ot=class Ot{constructor(){this.options=r(Z);this.head=r(B,{optional:!0});this.width=R(null);this.table=r(k(()=>O),{optional:!0});this.minWidth=l(-1/0);this.maxWidth=l(1/0);this.sorter=w(this.head?(e,t)=>oi(e[this.key],t[this.key]):null);this.resizable=l(this.options.resizable);this.sticky=l(this.options.sticky);this.requiredSort=l(this.options.requiredSort)}get key(){if(!this.head)throw new ye;return this.head.tuiHead()}get isCurrent(){return!!this.sorter&&!!this.table&&this.sorter()===this.table.sorter()}get icon(){var e;return this.isCurrent?((e=this.table)==null?void 0:e.direction())===j.Asc?this.options.sortIcons.asc:this.options.sortIcons.desc:this.options.sortIcons.off}updateSorterAndDirection(){var t;let e=this.requiredSort()?this.sorter():null;(t=this.table)==null||t.updateSorterAndDirection(this.isCurrentAndDescDirection?e:this.sorter())}onResized(e){this.width.set(Math.min(Math.max(e,this.minWidth()),this.maxWidth()))}get isCurrentAndDescDirection(){var e,t;return this.sorter()===((e=this.table)==null?void 0:e.sorter())&&((t=this.table)==null?void 0:t.direction())===j.Desc}};Ot.\u0275fac=function(t){return new(t||Ot)},Ot.\u0275cmp=g({type:Ot,selectors:[["th","tuiTh",""]],hostVars:8,hostBindings:function(t,i){t&2&&(G("min-width",i.width()||i.minWidth(),"px")("width",i.width()||i.minWidth(),"px")("max-width",i.width()||i.maxWidth(),"px"),M("_sticky",i.sticky()))},inputs:{minWidth:[1,"minWidth"],maxWidth:[1,"maxWidth"],sorter:[1,"sorter"],resizable:[1,"resizable"],sticky:[1,"sticky"],requiredSort:[1,"requiredSort"]},outputs:{sorter:"sorterChange"},attrs:Wi,ngContentSelectors:Qi,decls:5,vars:2,consts:[["content",""],["type","button",1,"t-sort",3,"t-sort_sorted"],[3,"ngTemplateOutlet"],[1,"t-bar"],["type","button",1,"t-sort",3,"click"],[1,"t-icon",3,"icon"],[1,"t-bar",3,"tuiResized"]],template:function(t,i){t&1&&(S(),f(0,qi,3,4,"button",1)(1,Xi,1,1,"ng-container",2)(2,Yi,1,0,"ng-template",null,0,ct)(4,Ki,1,0,"div",3)),t&2&&(v(i.sorter()&&i.table?0:1),a(4),v(i.resizable()?4:-1))},dependencies:[ut,K,Wt],styles:['[_nghost-%COMP%]{transition-property:box-shadow;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;top:0;block-size:var(--tui-height-m);font:var(--tui-font-text-s);text-align:start;font-weight:700;color:var(--tui-text-secondary);background:var(--tui-background-base);cursor:default;padding:0 .75rem;box-sizing:border-box;box-shadow:0 .3125rem #ededed00;border:1px solid var(--tui-border-normal);filter:opacity(1)}@supports (-webkit-hyphens: none){[_nghost-%COMP%]{transform:translateZ(0)}}[_nghost-%COMP%]:not(:first-child){border-inline-start:none}._sticky[_nghost-%COMP%], ._stuck   ._sticky[_nghost-%COMP%]{position:sticky;z-index:3000}._sticky[_nghost-%COMP%]:first-child, ._stuck   ._sticky[_nghost-%COMP%]:first-child{left:0}._sticky[_nghost-%COMP%]:after, ._stuck   ._sticky[_nghost-%COMP%]:after{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;top:0;left:100%;bottom:0;inline-size:.3125rem;pointer-events:none;background:#edededb3;opacity:0}._stuck   [_nghost-%COMP%]{z-index:2000}tr:not(:first-child)[_nghost-%COMP%], tr:not(:first-child)   [_nghost-%COMP%]{border-block-start:none}table[data-size="l"][_nghost-%COMP%], table[data-size="l"]   [_nghost-%COMP%]{block-size:var(--tui-height-l);font:var(--tui-font-text-m);font-weight:700;padding:0 1rem}table[data-size="s"][_nghost-%COMP%], table[data-size="s"]   [_nghost-%COMP%]{block-size:var(--tui-height-s);font:var(--tui-font-text-s);font-weight:700;padding:0 .5rem}thead[tuiThead][_nghost-%COMP%], thead[tuiThead]   [_nghost-%COMP%]{position:sticky}table._stuck._sticky[_nghost-%COMP%]:after, table._stuck   ._sticky[_nghost-%COMP%]:after{opacity:1}thead[tuiThead]._stuck[_nghost-%COMP%], thead[tuiThead]._stuck   [_nghost-%COMP%]{box-shadow:0 .3125rem #edededb3}[tuiTheme="dark"]._sticky[_nghost-%COMP%]:after, [tuiTheme="dark"]   ._sticky[_nghost-%COMP%]:after{background:#3c3c3ce6}[tuiTheme="dark"]   thead[tuiThead]._stuck[_nghost-%COMP%], [tuiTheme="dark"]   thead[tuiThead]._stuck   [_nghost-%COMP%]{box-shadow:0 .3125rem #3c3c3ce6}[tuiTheme="dark"]   thead[tuiThead]._stuck[_nghost-%COMP%]:first-child, [tuiTheme="dark"]   thead[tuiThead]._stuck   [_nghost-%COMP%]:first-child{box-shadow:.0625rem .3125rem #3c3c3ce6}table[data-size="l"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="l"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-l)}table[data-size="m"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="m"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-m)}table[data-size="s"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="s"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-s)}.t-sort[_ngcontent-%COMP%]{transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;line-height:inherit;text-decoration:none;display:inline-flex;vertical-align:top;flex-direction:inherit;align-items:center;outline:none;font:inherit;text-transform:inherit;color:inherit;cursor:pointer}.t-sort_sorted[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.t-sort[_ngcontent-%COMP%]:focus-visible{background:var(--tui-service-selection-background)}.t-sort[_ngcontent-%COMP%]:hover{color:var(--tui-text-primary)}.t-bar[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:0;bottom:0;right:-1px;inline-size:.1875rem;justify-self:flex-end;border-inline-start:2px solid transparent;background:var(--tui-status-warning);background-clip:content-box;cursor:ew-resize;opacity:0}.t-bar[_ngcontent-%COMP%]:hover, .t-bar[_ngcontent-%COMP%]:active{opacity:1}.t-icon[_ngcontent-%COMP%]:before{font-size:1rem}'],changeDetection:0});var V=Ot,ye=class extends Error{constructor(){super("")}};var Pt=class Pt{constructor(){this.table=r(O);this.sortables=L(kt,{descendants:!0});this.sortChange=d(()=>({sortKey:this.sortables().length?this.getKey(this.table.sorter()):null,sortDirection:this.table.direction()}));this.sortOutput=A(()=>{this.sortables().length&&this.tuiSortChange.emit(this.sortChange())});this.tuiSortChange=st();this.tuiSortBy=l(null)}getKey(e){var t;return((t=this.sortables().find(i=>i.sorter()===e))==null?void 0:t.key)||null}};Pt.\u0275fac=function(t){return new(t||Pt)},Pt.\u0275dir=c({type:Pt,selectors:[["table","tuiTable","","tuiSortBy",""]],contentQueries:function(t,i,n){t&1&&z(n,i.sortables,kt,5),t&2&&E()},inputs:{tuiSortBy:[1,"tuiSortBy"]},outputs:{tuiSortChange:"tuiSortChange"}});var Qt=Pt;var wt=class wt{constructor(){this.table=r(O);this.th=r(V);this.sortBy=r(k(()=>Qt));this.sortable=l(void 0,{alias:"tuiSortable",transform:pi});this.setThSorter=A(()=>{this.th.sorter.set(this.sortable()?this.sorter():null)});this.setTableSorter=A(()=>{this.match&&pt(this.table.sorter)!==this.sorter()&&this.table.updateSorter(this.sorter())});this.sorter=d(()=>this.sortable()&&pt(()=>this.match)?pt(this.table.sorter):()=>0)}get key(){return this.th.key}get match(){return this.sortBy.tuiSortBy()===this.key}};wt.\u0275fac=function(t){return new(t||wt)},wt.\u0275dir=c({type:wt,selectors:[["th","tuiTh","","tuiSortable",""]],inputs:{sortable:[1,"tuiSortable","sortable"]}});var kt=wt;var St=class St{};St.\u0275fac=function(t){return new(t||St)},St.\u0275dir=c({type:St,selectors:[["thead","tuiThead",""]],features:[y([{provide:pe,useValue:"0px 10000px 10000px 10000px"}]),lt([Ct])]});var Ce=St;var Dt=class Dt{constructor(){this.table=r(O);this.data=R([]);this.sorted=d((e=this.table.direction(),t=this.table.sorter())=>[...this.data()].sort((i,n)=>e*t(i,n)))}transform(e){return pt(()=>this.data.set(e??[])),this.sorted()}};Dt.\u0275fac=function(t){return new(t||Dt)},Dt.\u0275pipe=ee({name:"tuiTableSort",type:Dt,pure:!1});var xe=Dt;var Zi=["content"],Ji=["*"],Mt=class Mt{constructor(){this.content=Ve("content");this.el=mt();this.server=Ze(r(He));this.transitioning=R(!1);this.contentHeight=d((e=this.expanded())=>this.update(this.content()));this.visible$=new Ie;this.sub=this.visible$.pipe(at(e=>e?Fe(500).pipe(N(()=>e)):Ee(e)),Je()).subscribe(e=>this.el.classList.toggle("_visible",e));this.expanded=w(r(Z).open);this.transitioningEffect=A((e,t=this.expanded())=>this.transitioning.set(!0))}toggle(){this.expanded.set(!this.expanded())}update(e){if(!e||this.server)return 0;let t=e.nativeElement;t.style.setProperty("display","block");let i=t.getBoundingClientRect().height;return t.style.removeProperty("display"),i}};Mt.\u0275fac=function(t){return new(t||Mt)},Mt.\u0275cmp=g({type:Mt,selectors:[["tui-table-expand"]],viewQuery:function(t,i){t&1&&Ge(i.content,Zi,5),t&2&&E()},hostAttrs:["ngSkipHydration","true"],hostBindings:function(t,i){t&1&&_("tuiPresentChange",function(T){return i.visible$.next(T)})},inputs:{expanded:[1,"expanded"]},outputs:{expanded:"expandedChange"},features:[lt([{directive:Mi,outputs:["tuiPresentChange","tuiPresentChange"]}])],ngContentSelectors:Ji,decls:4,vars:6,consts:[["content",""],[1,"t-content"],[1,"t-filler",3,"animationcancel","animationend","animationstart"]],template:function(t,i){if(t&1){let n=I();S(),p(0,"div",1,0),D(2),u(),p(3,"div",2),_("animationcancel",function(){return C(n),x(i.transitioning.set(!1))})("animationend",function(){return C(n),x(i.transitioning.set(!1))})("animationstart",function(){return C(n),x(i.transitioning.set(!0))}),u()}t&2&&(M("t-content_open",i.expanded()&&!i.transitioning()),a(3),G("--t-height",i.contentHeight(),"px"),M("t-filler_open",i.expanded()))},styles:["@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_open{0%{block-size:0}to{block-size:var(--t-height)}}@keyframes _ngcontent-%COMP%_close{0%{block-size:var(--t-height)}to{block-size:0}}[_nghost-%COMP%]{display:contents}[_nghost-%COMP%]:not(._visible){--tui-duration: 0ms}.t-content[_ngcontent-%COMP%]{display:none}.t-content_open[_ngcontent-%COMP%]{display:contents}.t-content_open[_ngcontent-%COMP%]     tr{animation:_ngcontent-%COMP%_fade-in var(--tui-duration)}.t-filler[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_close calc(var(--tui-duration) + 1ms)}.t-filler_open[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_open calc(var(--tui-duration) + 1ms)}"],changeDetection:0});var ve=Mt;var to=["tuiTd",""],eo=["*"],It=class It{constructor(){this.control=Lt($t);this.textfield=Lt(Te)}};It.\u0275fac=function(t){return new(t||It)},It.\u0275cmp=g({type:It,selectors:[["th","tuiTd",""],["td","tuiTd",""]],contentQueries:function(t,i,n){t&1&&(z(n,i.control,$t,5),z(n,i.textfield,Te,5)),t&2&&E(2)},hostVars:2,hostBindings:function(t,i){t&2&&M("_editable",i.control()||i.textfield())},attrs:to,ngContentSelectors:eo,decls:1,vars:0,template:function(t,i){t&1&&(S(),D(0))},styles:['[_nghost-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;text-align:start;background:var(--tui-background-base);border:1px solid var(--tui-border-normal);border-block-start:none;box-sizing:border-box;filter:opacity(1)}@supports (-webkit-hyphens: none){[_nghost-%COMP%]{transform:translateZ(0)}}[_nghost-%COMP%]:first-child{left:0}[_nghost-%COMP%]:not(:first-child){border-inline-start:none}._editable[_nghost-%COMP%]{padding:0!important;vertical-align:top}th[_nghost-%COMP%]{position:sticky;z-index:100}th[_nghost-%COMP%]:after{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;top:0;bottom:0;left:100%;inline-size:.3125rem;pointer-events:none;background:#edededb3;opacity:0}th[_nghost-%COMP%]:focus-within:not(:disabled){z-index:1100}[tuiTheme="dark"][_nghost-%COMP%]:after, [tuiTheme="dark"]   [_nghost-%COMP%]:after{background:#3c3c3ce6}table._stuck[_nghost-%COMP%], table._stuck   [_nghost-%COMP%]{z-index:1000}table._stuck[_nghost-%COMP%]:last-of-type:after, table._stuck   [_nghost-%COMP%]:last-of-type:after{opacity:1}table[data-size="l"][_nghost-%COMP%], table[data-size="l"]   [_nghost-%COMP%]{block-size:var(--tui-height-l);font:var(--tui-font-text-m);padding:1rem}table[data-size="m"][_nghost-%COMP%], table[data-size="m"]   [_nghost-%COMP%]{block-size:var(--tui-height-m);font:var(--tui-font-text-s);padding:.75rem}table[data-size="s"][_nghost-%COMP%], table[data-size="s"]   [_nghost-%COMP%]{block-size:var(--tui-height-s);font:var(--tui-font-text-s);padding:.25rem .5rem}td[_nghost-%COMP%]:focus-within{z-index:100!important}td[_nghost-%COMP%]:not(:focus-within){z-index:0}'],changeDetection:0});var qt=It;var io=["tuiTbody",""],oo=["*"];function no(o,e){if(o&1&&(q(0),b(1),X()),o&2){let t=e.polymorpheusOutlet;a(),P(" ",t," ")}}function ro(o,e){if(o&1){let t=I();p(0,"tr")(1,"th",0)(2,"button",1),_("click",function(){C(t);let n=s();return x(n.onClick())}),p(3,"span",2),f(4,no,2,1,"ng-container",3),u(),F(5,"tui-icon",4),u()()()}if(o&2){let t=s();a(),h("colSpan",t.table.columns().length),a(3),h("polymorpheusOutlet",t.heading()),a(),h("tuiChevron",t.open())}}function ao(o,e){o&1&&D(0)}var zt=class zt{constructor(){this.options=r(Z);this.table=r(k(()=>O));this.rows=L(k(()=>Et));this.data=l([]);this.heading=l();this.open=w(this.options.open);this.onClick=()=>{this.open.set(!this.open())}}};zt.\u0275fac=function(t){return new(t||zt)},zt.\u0275cmp=g({type:zt,selectors:[["tbody","tuiTbody",""]],contentQueries:function(t,i,n){t&1&&z(n,i.rows,Et,4),t&2&&E()},inputs:{data:[1,"data"],heading:[1,"heading"],open:[1,"open"]},outputs:{open:"openChange"},attrs:io,ngContentSelectors:oo,decls:2,vars:2,consts:[[1,"t-heading",3,"colSpan"],["type","button",1,"t-expand",3,"click"],[1,"t-name"],[4,"polymorpheusOutlet"],[1,"t-chevron",3,"tuiChevron"]],template:function(t,i){t&1&&(S(),f(0,ro,6,3,"tr")(1,ao,1,0)),t&2&&(v(i.heading()?0:-1),a(),v(i.open()?1:-1))},dependencies:[ft,gi,K],styles:['[_nghost-%COMP%]{border-color:var(--tui-border-normal)}[_nghost-%COMP%]   tr[_ngcontent-%COMP%]{border-color:inherit}.t-expand[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;text-decoration:none;display:flex;inline-size:100%;block-size:100%;align-items:center;box-sizing:border-box;outline:none;font-weight:700;cursor:pointer;border-color:inherit}.t-expand[_ngcontent-%COMP%]:focus-visible   .t-name[_ngcontent-%COMP%]{background:var(--tui-service-selection-background)}.t-expand[_ngcontent-%COMP%]:before, .t-expand[_ngcontent-%COMP%]:after{content:"";position:sticky;block-size:100%;border-inline-start:1px solid;border-color:inherit}.t-expand[_ngcontent-%COMP%]:before{left:0}.t-expand[_ngcontent-%COMP%]:after{right:0}.t-heading[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;block-size:var(--tui-height-m);font:var(--tui-font-text-s);padding:0;background:var(--tui-background-neutral-1);border-block-end:1px solid var(--tui-border-normal);border-color:inherit}.t-heading[_ngcontent-%COMP%]:hover{background:var(--tui-background-neutral-1-hover)}table[data-size="l"][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], table[data-size="l"]   [_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-text-m);block-size:var(--tui-height-l)}.t-name[_ngcontent-%COMP%]{position:sticky;left:.75rem;display:inline-block}table[data-size="l"][_nghost-%COMP%]   .t-name[_ngcontent-%COMP%], table[data-size="l"]   [_nghost-%COMP%]   .t-name[_ngcontent-%COMP%]{left:1rem}.t-chevron[_ngcontent-%COMP%]{position:sticky;right:.75rem;margin:0 .6875rem 0 auto}'],changeDetection:0});var Xt=zt;var so=["tuiTr",""],lo=["*"];function co(o,e){if(o&1&&(p(0,"td",2),b(1),u()),o&2){let t=s().$implicit,i=s(2);a(),P(" ",i.item()[t]," ")}}function po(o,e){if(o&1&&(q(0,1),f(1,co,2,1,"ng-template",null,0,ct),X()),o&2){let t=e.$implicit,i=tt(2),n=s();h("ngTemplateOutlet",n[t]&&n[t].template||i)}}function uo(o,e){if(o&1&&W(0,po,3,1,"ng-container",1,$),o&2){let t=s();Q(t.table.columns())}}function mo(o,e){o&1&&F(0,"td")}var Rt=class Rt{constructor(){this.cells=L(k(()=>bt));this.body=r(k(()=>Xt));this.table=r(k(()=>O));this.height=ne(r(fe,{self:!0}).pipe(N(([e])=>(e==null?void 0:e.contentRect.height)??0),U(),ci()),{initialValue:0});this.items=d(()=>this.cells().reduce((e,t)=>Kt(Yt({},e),{[t.tuiCell()]:t}),{}));this.item=d(()=>this.body.data()[this.body.rows().findIndex(e=>e===this)])}};Rt.\u0275fac=function(t){return new(t||Rt)},Rt.\u0275cmp=g({type:Rt,selectors:[["tr","tuiTr",""]],contentQueries:function(t,i,n){t&1&&z(n,i.cells,bt,4),t&2&&E()},hostVars:2,hostBindings:function(t,i){t&2&&G("--t-row-height",i.height(),"px")},features:[y([fe])],attrs:so,ngContentSelectors:lo,decls:3,vars:1,consts:[["plain",""],[3,"ngTemplateOutlet"],["tuiTd",""]],template:function(t,i){if(t&1&&(S(),f(0,uo,2,0)(1,mo,1,0,"td"),D(2)),t&2){let n;v((n=i.items())?0:1,n)}},dependencies:[ut,qt],encapsulation:2,changeDetection:0});var Et=Rt;var fo=["tuiThGroup",""],ho=["*"],To=o=>({$implicit:o});function go(o,e){if(o&1&&Gt(0,1),o&2){let t=e.$implicit,i=s(),n=tt(3);h("ngTemplateOutlet",(i==null||i[t]==null?null:i[t].template)||n)("ngTemplateOutletContext",Xe(2,To,t))}}function bo(o,e){if(o&1&&(p(0,"th",2),b(1),u()),o&2){let t=s().$implicit;a(),P(" ",t.toString()," ")}}function _o(o,e){if(o&1&&f(0,bo,2,1,"th",2),o&2){let t=s(2);v(!t.th()&&!t.heads().length?0:-1)}}function yo(o,e){if(o&1&&(W(0,go,1,4,"ng-container",1,$),f(2,_o,1,1,"ng-template",null,0,ct)),o&2){let t=s();Q(t.table.columns())}}var Ft=class Ft{constructor(){this.th=Lt(k(()=>V));this.heads=L(k(()=>B));this.computedHeads=d(()=>this.heads().reduce((e,t)=>Kt(Yt({},e),{[t.tuiHead()]:t}),{}));this.table=r(k(()=>O))}};Ft.\u0275fac=function(t){return new(t||Ft)},Ft.\u0275cmp=g({type:Ft,selectors:[["tr","tuiThGroup",""]],contentQueries:function(t,i,n){t&1&&(z(n,i.th,V,5),z(n,i.heads,B,4)),t&2&&E(2)},attrs:fo,ngContentSelectors:ho,decls:2,vars:1,consts:[["plain",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tuiTh",""]],template:function(t,i){if(t&1&&(S(),D(0),f(1,yo,4,0)),t&2){let n;a(),v((n=i.computedHeads())?1:-1,n)}},dependencies:[ut,V],encapsulation:2,changeDetection:0});var Oe=Ft;function Co({$implicit:o}){return`${o}`}var xo={sizeOptionContent:Co,showPages:!0,items:[10,20,50,100],size:10},[Ni,da]=dt(xo);var vo=(o,e)=>({$implicit:o,total:e});function Oo(o,e){if(o&1&&(b(0),p(1,"strong",3),b(2),u()),o&2){let t=s(),i=s();P(" ",t.pages," "),a(2),me(i.pages())}}function Po(o,e){if(o&1&&(q(0),b(1),X()),o&2){let t=e.polymorpheusOutlet;a(),P(" ",t," ")}}function ko(o,e){if(o&1&&F(0,"tui-icon",9),o&2){let t=s(5);h("icon",t.icons.check)}}function wo(o,e){o&1&&F(0,"span",10)}function So(o,e){if(o&1){let t=I();p(0,"button",7),_("click",function(){let n=C(t).$implicit,T=s().$implicit,ue=s(3);return T(),x(ue.onItem(n))}),f(1,Po,2,1,"ng-container",8)(2,ko,1,1,"tui-icon",9)(3,wo,1,0,"span",10),u()}if(o&2){let t=e.$implicit,i=s(4);a(),h("polymorpheusOutlet",i.sizeOptionContent)("polymorpheusOutletContext",oe(3,vo,t,i.total())),a(),v(t===i.size()?2:3)}}function Do(o,e){if(o&1&&(p(0,"tui-data-list",5),W(1,So,4,6,"button",6,$),u()),o&2){let t=s(3);a(),Q(t.items())}}function Mo(o,e){if(o&1&&(p(0,"button",2)(1,"strong"),b(2),u(),f(3,Do,3,0,"tui-data-list",4),u()),o&2){let t=s(2);a(2),$e("",t.start+1,"\u2013",t.end(),"")}}function Io(o,e){o&1&&(p(0,"strong"),b(1,"0 - 0"),u())}function zo(o,e){if(o&1){let t=I();p(0,"button",11),_("click",function(){C(t);let n=s(2);return x(n.back())}),b(1),u(),p(2,"button",12),_("click",function(){C(t);let n=s(2);return x(n.forth())}),b(3),u()}if(o&2){let t=e,i=s(2);h("disabled",!i.start)("iconStart",i.icons.decrement),a(),P(" ",t[0]," "),a(),h("disabled",i.rightDisabled())("iconStart",i.icons.increment),a(),P(" ",t[1]," ")}}function Eo(o,e){if(o&1&&(p(0,"span",0),f(1,Oo,3,2),u(),p(2,"span",1),b(3),f(4,Mo,4,2,"button",2)(5,Io,2,0,"strong"),b(6),p(7,"strong",3),b(8),u()(),f(9,zo,4,6)),o&2){let t,i=e,n=s();a(),v(n.options.showPages?1:-1),a(2),P(" ",i.linesPerPage," "),a(),v(n.total()!==0?4:5),a(2),P(" ",i.of," "),a(2),me(n.total()),a(),v((t=n.spinTexts())?9:-1,t)}}var At=class At{constructor(){this.options=r(Ni);this.icons=r(ri);this.spinTexts=r(ai);this.texts=r(zi);this.pages=d(()=>Math.ceil(this.total()/this.size()));this.end=d(()=>Math.min(this.start+this.size(),this.total()));this.rightDisabled=d(()=>this.end()===this.total());this.pagination=d(()=>({page:this.page(),size:this.size()}));this.items=l(this.options.items);this.total=l(0);this.page=w(0);this.size=w(this.options.size);this.paginationChange=st()}onItem(e){let{start:t}=this;this.size.set(e),this.page.set(Math.floor(t/this.size())),this.paginationChange.emit(this.pagination())}get sizeOptionContent(){return this.options.sizeOptionContent}get start(){return Math.min(this.page(),Math.floor(this.total()/this.size()))*this.size()}back(){this.page.update(e=>e-1),this.paginationChange.emit(this.pagination())}forth(){this.page.update(e=>e+1),this.paginationChange.emit(this.pagination())}};At.\u0275fac=function(t){return new(t||At)},At.\u0275cmp=g({type:At,selectors:[["tui-table-pagination"]],inputs:{items:[1,"items"],total:[1,"total"],page:[1,"page"],size:[1,"size"]},outputs:{page:"pageChange",size:"sizeChange",paginationChange:"paginationChange"},decls:1,vars:1,consts:[[1,"t-pages"],["automation-id","tui-table-pagination__lines-per-page-wrapper"],["tuiDropdown","","tuiDropdownAuto","","tuiLink","","type","button"],[1,"t-strong"],["size","s",4,"tuiDropdown"],["size","s"],["tuiOption","","type","button",1,"t-item"],["tuiOption","","type","button",1,"t-item",3,"click"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-checkmark",3,"icon"],[1,"t-checkmark"],["appearance","icon","size","xs","tuiIconButton","","type","button",1,"t-button","t-button_back",3,"click","disabled","iconStart"],["appearance","icon","size","xs","tuiIconButton","","type","button",1,"t-button",3,"click","disabled","iconStart"]],template:function(t,i){if(t&1&&f(0,Eo,10,6),t&2){let n;v((n=i.texts())?0:-1,n)}},dependencies:[ft,ce,bi,_i,fi,Ti,hi,K,di],styles:["[_nghost-%COMP%]{display:flex;font:var(--tui-font-text-s);align-items:center;color:var(--tui-text-tertiary)}.t-strong[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.t-pages[_ngcontent-%COMP%]{margin-inline-end:auto}.t-item[_ngcontent-%COMP%]{min-inline-size:5.5rem;box-sizing:border-box}.t-checkmark[_ngcontent-%COMP%]{min-inline-size:1rem;font-size:1rem;margin-inline-start:auto}.t-button[_ngcontent-%COMP%]{transform:scaleX(var(--tui-inline))}.t-button_back[_ngcontent-%COMP%]{margin-inline-end:.25rem;margin-inline-start:1.5rem}"],changeDetection:0});var Bi=At;var it=class it extends $t{constructor(){super(...arguments);this.children=R([]);this.checked=d(()=>!!this.children().length&&this.children().every(t=>this.value().includes(t.tuiCheckboxRow())));this.indeterminate=d(()=>!!this.value().length&&!this.checked())}toggleAll(){this.onChange(this.checked()?[]:this.children().map(t=>t.tuiCheckboxRow()))}process(t){this.children.update(i=>re(i,t))}};it.\u0275fac=(()=>{let t;return function(n){return(t||(t=Jt(it)))(n||it)}})(),it.\u0275dir=c({type:it,selectors:[["","tuiTable","","ngModel",""],["","tuiTable","","formControl",""],["","tuiTable","","formControlName",""]],features:[y([mi([])]),ie]});var ot=it;var Nt=class Nt{constructor(){this.control=r(Y);this.parent=r(ot);this.checked=d((e=this.parent.value().includes(this.tuiCheckboxRow()))=>(setTimeout(()=>{var t;return(t=this.control.control)==null?void 0:t.setValue(e)}),e));this.tuiCheckboxRow=l.required()}ngOnInit(){this.parent.process(this)}ngOnDestroy(){this.parent.process(this),this.parent.onChange(this.parent.value().filter(e=>e!==this.tuiCheckboxRow()))}onChange(){this.parent.onChange(re(this.parent.value(),this.tuiCheckboxRow()))}};Nt.\u0275fac=function(t){return new(t||Nt)},Nt.\u0275dir=c({type:Nt,selectors:[["","tuiCheckbox","","tuiCheckboxRow",""]],hostVars:1,hostBindings:function(t,i){t&1&&_("change",function(){return i.onChange()}),t&2&&Le("checked",i.checked())},inputs:{tuiCheckboxRow:[1,"tuiCheckboxRow"]},features:[y([{provide:Y,useClass:ae}])]});var Pe=Nt;var Bt=class Bt{constructor(){this.el=mt();this.control=r(Y);this.parent=r(ot);this.update=A(()=>{var i;let e=this.parent.indeterminate(),t=this.parent.checked();this.el.indeterminate=e,this.el.checked=t,(i=this.control.control)==null||i.setValue(e?null:t)})}};Bt.\u0275fac=function(t){return new(t||Bt)},Bt.\u0275dir=c({type:Bt,selectors:[["","tuiCheckbox","","tuiCheckboxTable",""]],hostBindings:function(t,i){t&1&&_("change",function(){return i.parent.toggleAll()})},features:[y([{provide:Y,useClass:ae}])]});var ke=Bt;var nt=class{};var J=class J extends nt{constructor(){super(...arguments);this.filter=l(ii,{alias:"tuiGenericFilter"})}};J.\u0275fac=(()=>{let t;return function(n){return(t||(t=Jt(J)))(n||J)}})(),J.\u0275dir=c({type:J,selectors:[["","tuiGenericFilter",""]],inputs:{filter:[1,"tuiGenericFilter","filter"]},features:[y([se(nt,J)]),ie]});var we=J;var Ht=class Ht{constructor(){this.refresh$=new ze(1);this.filters=[]}register(e){this.filters=this.filters.concat(e),this.update()}unregister(e){this.filters=this.filters.filter(t=>t!==e),this.update()}filter(e){return this.refresh$.pipe(at(Me),Ne(null),N(()=>e.filter(t=>this.check(t))))}check(e){return this.filters.every(t=>t.filter(e))}update(){this.refresh$.next(Zt(...this.filters.map(({refresh$:e})=>e)))}};Ht.\u0275fac=function(t){return new(t||Ht)},Ht.\u0275dir=c({type:Ht,selectors:[["","tuiTableFilters",""]]});var rt=Ht;var jt=class jt{constructor(){this.head=r(B,{optional:!0});this.delegate=r(nt);this.control=r(Y);this.filters=r(rt);this.key=d(()=>{var e;return this.tuiTableFilter()||((e=this.head)==null?void 0:e.tuiHead())});this.tuiTableFilter=l();this.refresh$=Re(()=>{var e;return Zt(this.control.valueChanges||Ut,((e=this.control.statusChanges)==null?void 0:e.pipe(U()))||Ut)})}ngOnInit(){this.filters.register(this)}ngOnDestroy(){this.filters.unregister(this)}filter(e){let{disabled:t,value:i}=this.control;return!!t||!this.key()||this.delegate.filter()(e[this.key()],i)}};jt.\u0275fac=function(t){return new(t||jt)},jt.\u0275dir=c({type:jt,selectors:[["","tuiTableFilter",""]],inputs:{tuiTableFilter:[1,"tuiTableFilter"]}});var Se=jt;var Vt=class Vt{constructor(){this.filters=r(rt)}transform(e){return this.filters.filter(e)}};Vt.\u0275fac=function(t){return new(t||Vt)},Vt.\u0275pipe=ee({name:"tuiTableFilters",type:Vt,pure:!0});var De=Vt;export{Ri as a,be as b,bt as c,B as d,j as e,O as f,V as g,kt as h,Qt as i,Ce as j,xe as k,ve as l,qt as m,Et as n,Xt as o,Oe as p,da as q,Bi as r,ot as s,Pe as t,ke as u,we as v,rt as w,Se as x,De as y};
