import{o as tr}from"./chunk-3WUUVWGU.js";import{B as Q,Q as X}from"./chunk-CDNIB7XA.js";import{k as l}from"./chunk-GCBSK2J5.js";import{Ab as Z,Bb as $,Ib as rr,_ as g,e as B,ka as J,ma as K,na as x,zb as Y}from"./chunk-MT2X2BF3.js";import{a as z,d as W,g as q}from"./chunk-NQQ6KNH7.js";import{$a as d,Cc as L,Db as V,Fb as M,Ub as D,V as w,Wb as k,Xb as y,Xc as G,Yc as H,Za as c,_b as C,gc as v,i as b,ia as S,ic as F,ja as _,lc as N,qc as R,rc as I,sc as j,sd as U,td as m,w as O,wb as A,za as i}from"./chunk-ET2ZSIIN.js";var or=()=>({});function ir(e,r){if(e&1&&j(0,"span",2),e&2){let t=r.polymorpheusOutlet;v("innerHTML",t,A)}}function nr(e,r){if(e&1&&(R(0,"span",0),C(1,ir,1,1,"span",1),I()),e&2){let t=r,o=L();V(),v("polymorpheusOutlet",t.message||o.default())("polymorpheusOutletContext",t.context||H(2,or))}}var p=class p{constructor(){this.default=i(Q);this.content=m((r=this.error())=>g(r)?new l(r):r);this.error=c(null)}};p.\u0275fac=function(t){return new(t||p)},p.\u0275cmp=D({type:p,selectors:[["tui-error"]],hostVars:2,hostBindings:function(t,o){t&2&&F("_error",o.content())},inputs:{error:[1,"error"]},decls:1,vars:1,consts:[["tuiAnimated","",1,"t-message-text"],[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerHTML"]],template:function(t,o){if(t&1&&C(0,nr,2,3,"span",0),t&2){let P;N((P=o.content())?0:-1,P)}},dependencies:[$,rr],styles:['[_nghost-%COMP%]{transition-property:grid-template-rows;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:grid;font:var(--tui-font-text-s);color:var(--tui-text-negative);overflow-wrap:break-word;grid-template-rows:0fr}._error[_nghost-%COMP%]{grid-template-rows:1fr}.t-message-text[_ngcontent-%COMP%]{white-space:pre-line;grid-area:1 / 1 / span 2;overflow:hidden}.t-message-text.tui-enter[_ngcontent-%COMP%], .t-message-text.tui-leave[_ngcontent-%COMP%]{animation-name:tuiFade}.t-message-text[_ngcontent-%COMP%]:before{content:"";line-height:1.5rem;vertical-align:bottom}'],changeDetection:0});var u=p;var n=class n{constructor(){this.content=i(X);this.control=new b;this.errors=B(this.control.pipe(w(),_(r=>r.events.pipe(S(null),O(()=>r.invalid&&r.touched&&r.errors)))));this.key=m((r=this.errors()||{})=>this.order().find(t=>r[t])||Object.keys(r)[0]||"");this.order=c([]);this.error=K(u,"error",m((r=this.errors()||null)=>r&&this.getError(r[this.key()],this.content[this.key()])),{self:!0,optional:!0})}registerOnChange(){}registerOnTouched(){}writeValue(){}validate(r){return this.control.next(r),null}getError(r,t){if(r=d(r)?r():r,r instanceof l)return r;if(t===void 0&&pr(r))return h(r);if(d(t))return h(t(),r);if(t instanceof Function){let o=t(r);return h(d(o)?o():o,r)}return h(t,r)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=k({type:n,selectors:[["tui-error","ngModel",""],["tui-error","formControlName",""],["tui-error","formControl",""],["tui-error","formGroup",""],["tui-error","formGroupName",""],["tui-error","formArrayName",""]],inputs:{order:[1,"order"]},features:[G([x(z,n,!0),x(W,n,!0)])]});var f=n;function h(e="",r){return new l(e,r)}function pr(e){return g(e)||e instanceof M||e instanceof Z||e instanceof Y}var a=class a{constructor(){this.control=i(q);this.directive=new f}transform(r){U(()=>{this.directive.validate(this.control.control),J(this.directive.order,r)});let t=this.directive.error();return t?typeof t.message=="function"?t.message(t.context):t.message:""}};a.\u0275fac=function(t){return new(t||a)},a.\u0275pipe=y({name:"tuiError",type:a,pure:!1});var E=a;var s=class s{constructor(){this.service=i(tr)}transform(r){return this.service.format(r.valueOf())}};s.\u0275fac=function(t){return new(t||s)},s.\u0275pipe=y({name:"tuiFormatDate",type:s,pure:!0});var er=s;export{u as a,f as b,E as c,er as d};
