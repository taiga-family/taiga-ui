import{e as ae,l as re,m as oe,n as le}from"./chunk-WQJGR24D.js";import"./chunk-7DCJPR6I.js";import"./chunk-ENXYRILG.js";import"./chunk-LU7CBR4B.js";import{c as ne,m as ie}from"./chunk-XDF7FKYW.js";import"./chunk-GFNEXIPZ.js";import"./chunk-Z7HU23OH.js";import"./chunk-2IDGPPFK.js";import"./chunk-JK5HT2AB.js";import"./chunk-KFMPOXNV.js";import"./chunk-KIU557FP.js";import"./chunk-QLHTNIA4.js";import"./chunk-7MABKNH2.js";import"./chunk-73TZT46D.js";import"./chunk-WVLZY2VJ.js";import"./chunk-RSQ5DH3A.js";import"./chunk-AB3GID7E.js";import"./chunk-DAFWQXI5.js";import"./chunk-NG54SK4A.js";import"./chunk-EUTJAJLT.js";import"./chunk-SFTRSDVA.js";import"./chunk-TF24AHRB.js";import"./chunk-L6M7T63J.js";import{c as G}from"./chunk-IWKM7HB7.js";import"./chunk-MOCXYVGQ.js";import"./chunk-EGC2VL5L.js";import"./chunk-AMVXOCDN.js";import{c as K,e as Q,l as Y}from"./chunk-7ABCP53G.js";import"./chunk-ZWKWEEM2.js";import"./chunk-FTCBM4DE.js";import"./chunk-EBHFP2TI.js";import{q as J}from"./chunk-O6XMKD7H.js";import{J as q}from"./chunk-6GXSYTJW.js";import"./chunk-LL2PODKS.js";import"./chunk-KFO6RLOG.js";import{e as te}from"./chunk-YKUD726V.js";import"./chunk-ENZR5XDR.js";import"./chunk-S4NBTRTG.js";import"./chunk-5PABLJY7.js";import"./chunk-SXUQLDLW.js";import{m as Z,n as c,p as v,u as ee}from"./chunk-FDI6E7EX.js";import"./chunk-XPB6YNIV.js";import"./chunk-XHQXVLHQ.js";import"./chunk-PIT57PTL.js";import"./chunk-OBPPGIVQ.js";import"./chunk-TQEODDI3.js";import{p as H}from"./chunk-KWZHGPWS.js";import{C as U,c as j,h as $,m as X}from"./chunk-TDHYON55.js";import"./chunk-GOJWO2R3.js";import{Bc as g,Cb as l,La as L,Lc as N,Ma as O,Mc as s,Nc as V,Oc as R,Qc as S,Rc as B,Sc as k,Tb as I,Zb as _,bb as P,cd as w,fc as m,fd as M,id as z,kc as A,mc as T,nc as x,oc as C,pc as d,qc as o,rc as D,ud as E,vc as F,za as b}from"./chunk-2UPKG2B4.js";import"./chunk-B4AJQJMI.js";function ce(i,t){i&1&&D(0,"tui-calendar-range")}function pe(i,t){i&1&&D(0,"tui-calendar-range")}function me(i,t){if(i&1&&(d(0,"span",9)(1,"small",11),s(2),o()()),i&2){let n=t.$index;l(2),R("Chart ",n+1,"")}}function se(i,t){if(i&1&&(D(0,"tui-line-days-chart",12),w(1,"tuiFilter")),i&2){let n=t.$implicit,e=g(2);m("height",200)("value",M(1,2,n,e.filter,e.range()))}}function ue(i,t){if(i&1&&x(0,se,2,6,"tui-line-days-chart",12,T),i&2){let n=g();C(n.days())}}function ge(i,t){if(i&1&&(D(0,"tui-line-chart",13),w(1,"tuiFilter"),w(2,"tuiMapper")),i&2){let n=t.$implicit,e=g(2);m("height",200)("value",M(2,7,M(1,3,n,e.filter,e.range()),e.toNumbers,e.range()))("width",e.getWidth(e.range()))}}function ye(i,t){if(i&1&&x(0,ge,3,11,"tui-line-chart",13,T),i&2){let n=g();C(n.days())}}function fe(i,t){if(i&1&&(d(0,"div",9)(1,"span",15),s(2),o()()),i&2){let n=t.$implicit;l(2),R("$",n[1].toFixed(0),"")}}function he(i,t){if(i&1&&(d(0,"div",14)(1,"strong"),s(2),o()(),d(3,"div"),x(4,fe,3,1,"div",9,T),o()),i&2){let n=t.$implicit,e=g();l(2),V(e.getDate(n[0][0],e.range().from)),l(2),C(n)}}var y=class y{constructor(){this.isE2E=b(H);this.months=b(q);this.data=P(new v(c.currentLocal(),c.currentLocal().append({month:5})));this.show=P(this.data());this.days=E(()=>this.random(this.data()));this.maxLength={month:6};this.range=E(()=>{let t=this.show(),{from:n,to:e}=t,a=c.lengthBetween(n,e),p=n.dayOfWeek(),r=e.dayOfWeek(),u=p?n.append({day:7-p}):n,f=r?e.append({day:7-r}):e,h=c.lengthBetween(u,f);return a>90?t:a>60?new v(u,f.append({day:h%14})):a>14?new v(u,f):new v(n,e.append({day:a%2}))});this.labels=E(()=>{let{from:t,to:n}=this.show(),e=c.lengthBetween(t,n),a=this.months();if(e>90)return[...Array.from({length:Z.lengthBetween(t,n)+1},(f,h)=>a[t.append({month:h}).month]??""),""];let p=Array.from({length:e},(f,h)=>t.append({day:h})),r=_e(p),u=p.map(String);return e>60?[...de(r),""]:e>14?[...r,""]:e>7?[...de(u),""]:[...u,""]});this.filter=([t],{from:n,to:e})=>t.daySameOrAfter(n)&&t.daySameOrBefore(e);this.toNumbers=(t,{from:n})=>t.map(([e,a])=>[c.lengthBetween(n,e),a])}getWidth({from:t,to:n}){return c.lengthBetween(t,n)}getDate(t,n){return t instanceof c?t:n.append({day:t})}generateRandomData({from:t,to:n},e){return Array.from({length:c.lengthBetween(t,n)+1}).reduce((a,p,r)=>[...a,[t.append({day:r}),this.isE2E?e:Math.max((r?a[r-1]?.[1]??0:e)+Math.random()*10-5,0)]],[]).filter(([a])=>a.dayOfWeek()<5)}random(t){return[this.generateRandomData(t,100),this.generateRandomData(t,75),this.generateRandomData(t,50)]}};y.\u0275fac=function(n){return new(n||y)},y.\u0275cmp=I({type:y,selectors:[["ng-component"]],decls:23,vars:11,consts:[["hint",""],["tuiNotification",""],[1,"controls"],[3,"tuiTextfieldCleaner"],["tuiLabel",""],["tuiInputDateRange","",3,"ngModelChange","maxLength","ngModel"],[4,"tuiDropdown"],[1,"tui-space_left-4",3,"tuiTextfieldCleaner"],[1,"legend"],[1,"item"],[1,"axes",3,"axisXLabels","horizontalLines","tuiLineChartHint","verticalLines"],[1,"name"],[1,"chart",3,"height","value"],[1,"chart",3,"height","value","width"],[1,"tui-space_bottom-2"],[1,"value"]],template:function(n,e){if(n&1){let a=F();d(0,"div",1)(1,"code"),s(2,"TuiLineDaysChart"),o(),s(3,` is used to show data of several months to simplify working with different number of days in months
`),o(),d(4,"p",2)(5,"tui-textfield",3)(6,"label",4),s(7,"Data"),o(),d(8,"input",5),k("ngModelChange",function(r){return L(a),B(e.data,r)||(e.data=r),O(r)}),o(),_(9,ce,1,0,"tui-calendar-range",6),o(),d(10,"tui-textfield",7)(11,"label",4),s(12,"Visible range"),o(),d(13,"input",5),k("ngModelChange",function(r){return L(a),B(e.show,r)||(e.show=r),O(r)}),o(),_(14,pe,1,0,"tui-calendar-range",6),o()(),d(15,"p",8),x(16,me,3,1,"span",9,T),o(),d(18,"tui-axes",10),_(19,ue,2,0)(20,ye,2,0),o(),_(21,he,6,1,"ng-template",null,0,z)}if(n&2){let a=N(22);l(5),m("tuiTextfieldCleaner",!1),l(3),m("maxLength",e.maxLength),S("ngModel",e.data),l(2),m("tuiTextfieldCleaner",!1),l(3),m("maxLength",e.maxLength),S("ngModel",e.show),l(3),C(e.days()),l(2),m("axisXLabels",e.labels())("horizontalLines",5)("tuiLineChartHint",a)("verticalLines",e.labels().length),l(),A(e.getWidth(e.show())>90?19:20)}},dependencies:[U,j,$,X,ae,te,ie,ne,Q,Y,K,J,re,le,oe,ee,G],styles:['.axes[_ngcontent-%COMP%]{block-size:12.5rem}.controls[_ngcontent-%COMP%]{display:flex}.controls[_ngcontent-%COMP%]   tui-textfield[_ngcontent-%COMP%]{flex:1}.legend[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.item[_ngcontent-%COMP%]{color:var(--tui-chart-categorical-01);display:flex;align-items:center;margin:0 .75rem}.item[_ngcontent-%COMP%]:first-child{color:var(--tui-chart-categorical-08)}.item[_ngcontent-%COMP%]:last-child{color:var(--tui-chart-categorical-12)}.item[_ngcontent-%COMP%]:before{content:"";border-block-end:.125rem solid;inline-size:1rem;margin-inline-end:.5rem}.name[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.value[_ngcontent-%COMP%]{color:#fff}.chart[_ngcontent-%COMP%]{color:var(--tui-chart-categorical-01);position:absolute;top:0;left:0;inline-size:100%;block-size:100%}.chart[_ngcontent-%COMP%]:first-child{color:var(--tui-chart-categorical-08)}.chart[_ngcontent-%COMP%]:last-child{color:var(--tui-chart-categorical-12)}'],changeDetection:0});var W=y;function _e(i){return i.filter(t=>!t.dayOfWeek()).map(String)}function de(i){return i.filter((t,n)=>!(n%2))}export{W as default};
