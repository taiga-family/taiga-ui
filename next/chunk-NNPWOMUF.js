import{b as me,c as fe}from"./chunk-MR56NRYT.js";import{e as Te,f as _e}from"./chunk-7EDQOJBW.js";import{a as A,b as E}from"./chunk-7J6PHPCC.js";import{A as pe,D as ue,I as M,J as _,P as de,l as le,r as se,x as ae,y as ce}from"./chunk-C6KFBANB.js";import{e as F}from"./chunk-MGOYRH7Q.js";import{i as N,j as k}from"./chunk-D5DI6RPL.js";import{ea as p,na as re}from"./chunk-JGAIOO3T.js";import{p as oe}from"./chunk-ID7P2QVS.js";import{$b as u,Cc as D,Dc as c,Eb as m,Lc as Z,Mc as ee,Nb as J,Nc as $,Oc as Q,Pa as C,Qc as U,Vb as S,Vc as te,Wc as ie,Xb as K,Xc as q,Yc as T,Zb as I,_a as x,_b as f,_c as G,gc as X,hc as d,jc as Y,kd as ne,mc as v,oc as V,pc as j,qc as z,rc as O,sc as b,tc as W,ud as y,vd as P,wc as R,yc as H,za as r}from"./chunk-PVL5PQAX.js";var Ce=["option"],xe=["tuiSelect",""],ve=i=>({$implicit:i});function Se(i,n){if(i&1&&(O(0,"option",2),Q(1),b()),i&2){let e=c();m(),U(" ",e.placeholder()," ")}}function Ie(i,n){i&1&&R(0)}function Oe(i,n){if(i&1&&(O(0,"optgroup",3),u(1,Ie,1,0,"ng-container",4),b()),i&2){let e=n.$index,t=c(2),o=$(5),l=q(1);d("label",t.labels()[e]),m(),d("ngTemplateOutlet",o)("ngTemplateOutletContext",G(3,ve,l[e]))}}function be(i,n){if(i&1&&j(0,Oe,2,5,"optgroup",3,V),i&2){let e=c();z(e.labels())}}function He(i,n){i&1&&R(0)}function De(i,n){if(i&1&&u(0,He,1,0,"ng-container",4),i&2){c();let e=$(5),t=q(1);d("ngTemplateOutlet",e)("ngTemplateOutletContext",G(2,ve,t))}}function Pe(i,n){if(i&1&&(O(0,"option",5,1),Q(2),b()),i&2){let e=n.$implicit,t=c(2);d("disabled",t.itemsHandlers.disabledItemHandler()(e))("selected",t.isSelected()(e))("value",t.itemsHandlers.stringify()(e)),m(2),U(" ",t.itemsHandlers.stringify()(e)," ")}}function Fe(i,n){if(i&1&&j(0,Pe,3,4,"option",5,V),i&2){let e=n.$implicit;z(e)}}var s=class s extends N{constructor(){super(...arguments);this.input=r(A);this.options=J("option");this.isFlat=fe;this.itemsHandlers=r(_);this.stringified=y((e=this.value())=>p(e)?this.itemsHandlers.stringify()(e):"");this.isSelected=y((e=this.value())=>t=>p(e)&&this.itemsHandlers.identityMatcher()(t,e));this.valueEffect=P(()=>{this.options().length&&this.input.value.set(this.stringified())});this.items=x([]);this.labels=x([]);this.placeholder=x("")}setValue(e){this.onChange(e)}selectOption(e){var l;let t=((l=this.items())==null?void 0:l.flat())??[],o=this.stringified()?0:1;this.onChange(t[e-o]??null)}};s.\u0275fac=(()=>{let e;return function(o){return(e||(e=C(s)))(o||s)}})(),s.\u0275cmp=S({type:s,selectors:[["select","tuiSelect",""]],viewQuery:function(t,o){t&1&&Z(o.options,Ce,5),t&2&&ee()},hostVars:2,hostBindings:function(t,o){t&1&&D("change",function(g){return o.selectOption(g.target.options.selectedIndex)}),t&2&&(H("disabled",!o.interactive()),X("aria-invalid",o.invalid()))},inputs:{items:[1,"items"],labels:[1,"labels"],placeholder:[1,"placeholder"]},features:[T([M(s),k(s)]),f([E]),I],attrs:xe,decls:6,vars:3,consts:[["options",""],["option",""],["disabled","","selected","","value",""],[3,"label"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"disabled","selected","value"]],template:function(t,o){if(t&1&&(u(0,Se,2,1,"option",2),te(1),u(2,be,2,0)(3,De,1,4,"ng-container")(4,Fe,2,0,"ng-template",null,0,ne)),t&2){v(o.stringified()?-1:0),m();let l=ie(o.items());m(),v(l&&!o.isFlat(l)?2:3)}},dependencies:[oe],encapsulation:2,changeDetection:0});var B=s;function Me(i,n){if(i&1&&W(0,"input",0),i&2){let e=c();d("checked",e.selected())("size",e.datalist.size()==="l"?"m":"s")}}function Ne(i,n){i&1&&W(0,"span",1)}var h=class h{constructor(){this.handlers=r(_);this.value=me();this.datalist=r(pe);this.option=r(ce,{optional:!0});this.selected=y((n=this.value(),e=(t=>(t=this.option)==null?void 0:t.value())())=>p(e)&&p(n)&&this.handlers.identityMatcher()(n,e));this.scrolled=re(F,"tuiScrollIntoView",this.selected)}};h.\u0275fac=function(e){return new(e||h)},h.\u0275cmp=S({type:h,selectors:[["ng-component"]],hostAttrs:["tuiSelectOption",""],hostVars:4,hostBindings:function(e,t){e&2&&Y("_value",t.option)("_selected",t.selected())},features:[T([Te({appearance:()=>"action"})]),f([F])],decls:2,vars:1,consts:[["tuiCheckbox","","type","checkbox",1,"t-check",3,"checked","size"],[1,"t-dummy"]],template:function(e,t){e&1&&u(0,Me,1,2,"input",0)(1,Ne,1,0,"span",1),e&2&&v(t.selected()?0:1)},dependencies:[_e],styles:["._value[_nghost-%COMP%] > .t-check[_ngcontent-%COMP%], ._value[_nghost-%COMP%] > .t-dummy[_ngcontent-%COMP%]{order:100;margin-inline-start:auto;pointer-events:none}._value._selected[_nghost-%COMP%] ~   [tuiSelectOption]>.t-check:before{opacity:0}[_nghost-%COMP%]:not(._value) > .t-check[_ngcontent-%COMP%], tui-dropdown-mobile[_nghost-%COMP%] > .t-check[_ngcontent-%COMP%], tui-dropdown-mobile   [_nghost-%COMP%] > .t-check[_ngcontent-%COMP%]{display:none}.t-check[_ngcontent-%COMP%]:before{font-size:var(--t-size)}.t-dummy[_ngcontent-%COMP%]{inline-size:1.5rem}"],changeDetection:0});var w=h;var a=class a extends N{constructor(){super(...arguments);this.input=r(A);this.open=r(le).open;this.itemsHandlers=r(_);this.dropdownEnabled=se(this.interactive);this.valueEffect=P(()=>{let e=this.value(),t=p(e)?this.itemsHandlers.stringify()(e):"";this.input.value.set(t)})}setValue(e){this.onChange(e),e||this.open.set(!0)}};a.\u0275fac=(()=>{let e;return function(o){return(e||(e=C(a)))(o||a)}})(),a.\u0275dir=K({type:a,selectors:[["input","tuiSelect",""]],hostVars:1,hostBindings:function(t,o){t&1&&D("input",function(g){return(g.inputType==null?null:g.inputType.includes("delete"))&&o.setValue(null)}),t&2&&H("disabled",o.disabled())},features:[T([ae(w),M(a),k(a)]),f([E,ue]),I]});var L=a;var gt=[L,B,...de];export{B as a,w as b,L as c};
