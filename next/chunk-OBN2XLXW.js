import{f as nt,h as T}from"./chunk-OZI7EL2L.js";import{d as ne}from"./chunk-3BNBRKMD.js";import{b as ie}from"./chunk-HCKASRKR.js";import{a as vt}from"./chunk-YXPMHB2D.js";import{j as Ut}from"./chunk-YNXZDEHQ.js";import{n as Yt,p as te,u as ee}from"./chunk-7DOPFJ7M.js";import{L as Jt}from"./chunk-7DQBHFUF.js";import{b as it}from"./chunk-AUAIZOB4.js";import{$a as Gt,Ea as qt,I as Nt,M as jt,Na as h,W as Qt,Xa as Zt,Za as W,a as E,ia as z,la as $t,ob as Xt,qa as ht,ya as Kt}from"./chunk-WUTQQGKD.js";import{a as Rt,p as Ft}from"./chunk-VL5DYKMV.js";import{$a as g,Bc as u,Cc as s,Db as b,Ea as zt,Fb as st,G as j,I as w,Jc as Bt,Kc as pt,La as p,Lb as lt,Lc as mt,Ma as m,Mc as F,Nc as bt,Ob as Vt,Pb as $,Pc as ft,Q as At,Rc as G,S as Dt,Sc as J,Tc as X,Ub as K,Wb as f,Xc as Y,Zb as A,_a as c,_b as D,fc as x,gc as v,hc as Lt,ia as Ot,ic as O,ja as kt,jd as Ht,kb as Wt,lc as q,na as Q,nc as ct,nd as tt,oc as ut,p as N,pc as dt,qc as y,rc as I,tc as Pt,uc as St,ud as et,vc as Z,w as Mt,wa as Et,wc as k,za as a}from"./chunk-MAQQ6KKR.js";var pe="tui-tab-activate",re,oe,V=class V{constructor(){this.el=h();this.rla=a(Ut,{optional:!0});this.observer=this.rla&&((re=a(T,{optional:!0}))==null?void 0:re.pipe(w(()=>{var e;return!!((e=this.rla)!=null&&e.isActive)})));this.sub=j(this.observer||N,((oe=this.rla)==null?void 0:oe.isActiveChange.pipe(w(Boolean)))||N,this.el.matches("button")?ht(this.el,"click").pipe(kt(()=>ht(this.el.parentElement,"click").pipe(Dt(1)))):N).pipe(E()).subscribe(()=>this.el.dispatchEvent(new CustomEvent(pe,{bubbles:!0})))}ngOnDestroy(){W(this.el)&&this.el.blur()}};V.\u0275fac=function(t){return new(t||V)},V.\u0275dir=f({type:V,selectors:[["a","tuiTab","",3,"routerLink",""],["a","tuiTab","","routerLink","","routerLinkActive",""],["button","tuiTab",""]],hostAttrs:["type","button"],features:[A([Jt])]});var C=V;var me={underline:!0,exposeActive:!0,itemsLimit:1/0,minMoreWidth:0,size:"l"},[L,Se]=Nt(me);var P=class P{};P.\u0275fac=function(t){return new(t||P)},P.\u0275cmp=K({type:P,selectors:[["ng-component"]],hostAttrs:[1,"tui-tabs"],decls:0,vars:0,template:function(t,i){},styles:[`[tuiTab]{transition-property:color,box-shadow,opacity,background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;text-decoration:none;position:relative;display:flex;flex-shrink:0;box-sizing:border-box;justify-content:space-between;line-height:1.5rem;align-items:center;white-space:nowrap;cursor:pointer;outline:none;color:inherit;margin-inline-start:var(--tui-tab-margin, 24px)}[tuiTab]:disabled{opacity:var(--tui-disabled-opacity);pointer-events:none}[tuiTab]._active{color:var(--tui-text-primary);box-shadow:none}[tuiTab]:focus-visible{outline:.125rem solid var(--tui-border-focus);outline-offset:-.125rem}tui-tabs._underline [tuiTab]:hover:not(._active),[tuiTabs]._underline [tuiTab]:hover:not(._active){box-shadow:inset 0 -.125rem var(--tui-border-normal)}tui-tabs>[tuiTab]:first-child,[tuiTabs]>[tuiTab]:first-child,tui-tabs>:not(.t-overflown)>[tuiTab]:first-child{margin-inline-start:0}tui-tabs>[tuiTab]~:not(.t-overflown)>[tuiTab]:first-child{margin-inline-start:var(--tui-tab-margin, 24px)}[tuiTab][tuiIcons]:before{font-size:1rem;margin-inline-end:.5rem}[tuiTab][tuiIcons]:after{font-size:1rem;margin-inline-start:.5rem}[tuiTab]:empty:after,[tuiTab]:empty:before{margin:.5rem}@media (hover: hover) and (pointer: fine){[tuiTab]:hover{color:var(--tui-text-primary)}}[tuiTabs],tui-tabs{scrollbar-width:none;-ms-overflow-style:none;position:relative;display:flex;font:var(--tui-font-body-m);color:var(--tui-text-secondary);box-shadow:inset 0 -1px var(--tui-border-normal);overflow:auto;isolation:isolate}[tuiTabs]::-webkit-scrollbar,tui-tabs::-webkit-scrollbar,[tuiTabs]::-webkit-scrollbar-thumb,tui-tabs::-webkit-scrollbar-thumb{display:none}[tuiTabs][data-size=m],tui-tabs[data-size=m]{font:var(--tui-font-body-s);--tui-tab-margin: 16px}[tuiTabs][data-size=l]:not([data-vertical]),tui-tabs[data-size=l]:not([data-vertical]){block-size:var(--tui-height-l)}[tuiTabs][data-size=m]:not([data-vertical]),tui-tabs[data-size=m]:not([data-vertical]){block-size:var(--tui-height-m)}[tuiTabs]:before,tui-tabs:before{transition-property:width,left;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;left:var(--t-left);bottom:0;block-size:.125rem;inline-size:var(--t-width);background:var(--t-color);animation:tuiPresent 1ms}[tuiTabs]._underline:before,tui-tabs._underline:before{content:""}tui-tabs[data-vertical],[tuiTabs][data-vertical]{flex-direction:column;box-shadow:inset -1px 0 var(--tui-border-normal)}tui-tabs[data-vertical] [tuiTab],[tuiTabs][data-vertical] [tuiTab]{min-block-size:2.75rem;block-size:auto;white-space:normal;margin:0;text-align:start;padding:.25rem 1.25rem .25rem 0}tui-tabs[data-vertical] [tuiTab]:after,[tuiTabs][data-vertical] [tuiTab]:after{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;top:0;right:0;display:block;block-size:100%;inline-size:.125rem;background:var(--tui-background-accent-1);transform:scaleX(0);transform-origin:right;margin:0}tui-tabs[data-vertical] [tuiTab]:hover,[tuiTabs][data-vertical] [tuiTab]:hover{box-shadow:inset -.125rem 0 var(--tui-border-normal)}tui-tabs[data-vertical] [tuiTab]._active:after,[tuiTabs][data-vertical] [tuiTab]._active:after{transform:none}tui-tabs[data-vertical][data-size=m] [tuiTab],[tuiTabs][data-vertical][data-size=m] [tuiTab]{min-block-size:2.25rem;font:var(--tui-font-body-s)}tui-tabs[data-vertical][data-vertical=right],[tuiTabs][data-vertical][data-vertical=right]{box-shadow:inset 1px 0 var(--tui-border-normal)}tui-tabs[data-vertical][data-vertical=right] [tuiTab],[tuiTabs][data-vertical][data-vertical=right] [tuiTab]{text-align:end;padding:.25rem 0 .25rem 1.25rem}tui-tabs[data-vertical][data-vertical=right] [tuiTab]:after,[tuiTabs][data-vertical][data-vertical=right] [tuiTab]:after{right:auto;left:0;transform-origin:left}tui-tabs[data-vertical][data-vertical=right] [tuiTab]:hover,[tuiTabs][data-vertical][data-vertical=right] [tuiTab]:hover{box-shadow:inset .125rem 0 var(--tui-border-normal)}
`],encapsulation:2,changeDetection:0});var Tt=P,S=class S{constructor(){this.el=h();this.injector=a(zt);this.nothing=$t(Tt);this.size=c(a(L).size);this.activeItemIndex=$(0)}get tabs(){return Array.from(this.el.querySelectorAll("[tuiTab]"))}get activeElement(){return this.tabs[this.activeItemIndex()]||null}moveFocus(e,t){let{tabs:i}=this;Gt(i.indexOf(e),i,t)}ngAfterViewChecked(){Wt(()=>{this.markTabAsActive()},{injector:this.injector})}onActivate(e){this.activeItemIndex.set(this.tabs.findIndex(t=>t===e))}markTabAsActive(){let{tabs:e,activeElement:t}=this;e.forEach(i=>{let n=i===t;i.classList.toggle("_active",n),i.setAttribute("tabIndex",n?"0":"-1")})}};S.\u0275fac=function(t){return new(t||S)},S.\u0275dir=f({type:S,hostVars:1,hostBindings:function(t,i){t&1&&u("tui-tab-activate.stop",function(o){return i.onActivate(o.target)}),t&2&&x("data-size",i.size())},inputs:{size:[1,"size"],activeItemIndex:[1,"activeItemIndex"]},outputs:{activeItemIndex:"activeItemIndexChange"}});var d=S;var B=class B{constructor(){this.el=h();this.options=a(L);this.tabs=a(d);this.sub=a(T,{self:!0}).pipe(Kt(),E()).subscribe(()=>this.refresh());this.underline=c(this.options.underline);et(()=>{let e=this.tabs.activeItemIndex(),t=this.tabs.tabs[e];if(!t)return;let{offsetLeft:i,offsetWidth:n}=t;i<this.el.scrollLeft&&(this.el.scrollLeft=i),i+n>this.el.scrollLeft+this.el.offsetWidth&&(this.el.scrollLeft=i+n-this.el.offsetWidth)})}ngAfterViewChecked(){this.refresh()}onKeyDownArrow(e,t){this.tabs.moveFocus(e,t)}refresh(){let{activeElement:e}=this.tabs;if(e&&!e.isConnected)return;let{offsetLeft:t=0,offsetWidth:i=0}=e||{};this.el.style.setProperty("--t-left",z(t)),this.el.style.setProperty("--t-width",z(i))}};B.\u0275fac=function(t){return new(t||B)},B.\u0275dir=f({type:B,selectors:[["tui-tabs",3,"vertical",""],["nav","tuiTabs","",3,"vertical",""]],hostVars:4,hostBindings:function(t,i){t&1&&u("animationend",function(){return i.refresh()})("keydown.arrowRight.prevent",function(o){return i.onKeyDownArrow(o.target,1)})("keydown.arrowLeft.prevent",function(o){return i.onKeyDownArrow(o.target,-1)}),t&2&&(Lt("--t-color",i.underline()===!0?"var(--tui-background-accent-1)":i.underline()),O("_underline",i.underline()))},inputs:{underline:[1,"underline"]},features:[Y([T,{provide:nt,useValue:{childList:!0,characterData:!0,subtree:!0}}]),A([{directive:d,inputs:["activeItemIndex","activeItemIndex","size","size"],outputs:["activeItemIndexChange","activeItemIndexChange"]}])]});var M=B;var H=class H{constructor(){this.tabs=a(d);this.vertical=c("left")}onKeyDownArrow(e,t){this.tabs.moveFocus(e,t)}};H.\u0275fac=function(t){return new(t||H)},H.\u0275dir=f({type:H,selectors:[["tui-tabs","vertical",""],["nav","tuiTabs","","vertical",""]],hostVars:1,hostBindings:function(t,i){t&1&&u("keydown.arrowDown.prevent",function(o){return i.onKeyDownArrow(o.target,1)})("keydown.arrowUp.prevent",function(o){return i.onKeyDownArrow(o.target,-1)}),t&2&&x("data-vertical",i.vertical())},inputs:{vertical:[1,"vertical"]},features:[A([{directive:d,inputs:["activeItemIndex","activeItemIndex","size","size"],outputs:["activeItemIndexChange","activeItemIndexChange"]}])]});var _t=H;var wt=new Et(""),se=[vt,T,Yt({align:"right"}),{provide:nt,useValue:{childList:!0,subtree:!0,characterData:!0}},{provide:wt,deps:[vt,T,Rt,g,tt],useFactory:(r,e,{body:t},{nativeElement:i},n)=>j(r,e.pipe(Q(()=>n.detectChanges()))).pipe(w(()=>t.contains(i)),At(0),Ot(null),E())}];function fe(r,e){if(r&1&&Z(0,5),r&2){let t=s().$implicit;v("ngTemplateOutlet",t)}}function ve(r,e){if(r&1&&(y(0,"div",7),Z(1,5),I()),r&2){let t=s(),i=t.$implicit,n=t.$index,o=s();O("t-overflown",o.isOverflown(n)),b(),v("ngTemplateOutlet",i)}}function he(r,e){if(r&1&&D(0,fe,1,1,"ng-container",5)(1,ve,2,3,"div",6),r&2){let t=e.$index,i=s();q(t<=i.lastVisibleIndex?0:1)}}function Te(r,e){if(r&1&&(Pt(0),bt(1),St()),r&2){let t=e.polymorpheusOutlet;b(),ft(" ",t," ")}}function _e(r,e){if(r&1){let t=k();y(0,"button",8),X("tuiDropdownOpenChange",function(n){p(t);let o=s();return J(o.open,n)||(o.open=n),m(n)}),u("keydown.arrowLeft.prevent",function(){p(t);let n=s();return m(n.onArrowLeft())}),D(1,Te,2,1,"ng-container",9),I()}if(r&2){let t=s(),i=F(6);O("_active",t.isMoreActive)("t-no-margin",t.isMoreAlone)("t-overflown",!t.isMoreVisible),v("tabIndex",t.isMoreFocusable?0:-1)("tuiDropdown",t.dropdownContent()||i),G("tuiDropdownOpen",t.open),b(),v("polymorpheusOutlet",t.moreContent())}}function we(r,e){if(r&1){let t=k();y(0,"button",10),X("tuiDropdownOpenChange",function(n){p(t);let o=s();return J(o.open,n)||(o.open=n),m(n)}),u("keydown.arrowLeft.prevent",function(){p(t);let n=s();return m(n.onArrowLeft())}),bt(1),I()}if(r&2){let t=s(),i=F(6);O("_active",t.isMoreActive)("t-no-margin",t.isMoreAlone)("t-overflown",!t.isMoreVisible),v("tabIndex",t.isMoreFocusable?0:-1)("tuiDropdown",t.dropdownContent()||i),G("tuiDropdownOpen",t.open),b(),ft(" ",t.moreWord()," ")}}function ge(r,e){r&1&&Z(0)}function xe(r,e){if(r&1&&D(0,ge,1,0,"ng-container",9),r&2){let t=s().$implicit;v("polymorpheusOutlet",t)}}function ye(r,e){if(r&1){let t=k();y(0,"div",13),u("tui-tab-activate",function(){let n=p(t).$index,o=s(2);return m(o.onClick(n))}),D(1,xe,1,1,"ng-container"),I()}if(r&2){let t=e.$index,i=s(2);b(),q(i.shouldShow(t)?1:-1)}}function Ie(r,e){if(r&1){let t=k();y(0,"div",11,1),u("keydown.arrowDown.prevent",function(n){p(t);let o=F(1),l=s();return m(l.onWrapperArrow(n,o,!1))})("keydown.arrowUp.prevent",function(n){p(t);let o=F(1),l=s();return m(l.onWrapperArrow(n,o,!0))}),ut(2,ye,2,1,"div",12,ct),I()}if(r&2){let t=s();x("data-size",t.size()),b(2),dt(t.items())}}var R=class R{constructor(){this.moreButton=lt(C,{read:g});this.dir=lt(M,{read:g});this.options=a(L);this.refresh$=a(wt);this.el=h();this.cdr=a(tt);this.maxIndex=1/0;this.items=Vt(it,{read:st});this.moreWord=a(ne);this.open=!1;this.sync=et(()=>{this.activeItemIndex(),this.maxIndex=this.getMaxIndex()});this.activeItemIndex=$(0);this.size=c(this.options.size);this.underline=c(this.options.underline);this.itemsLimit=c(this.options.itemsLimit);this.moreContent=c();this.dropdownContent=c()}get lastVisibleIndex(){if(this.itemsLimit()+1>=this.items().length)return this.maxIndex;let e=this.itemsLimit()-1>this.activeItemIndex()||!this.options.exposeActive?1:2;return Math.min(this.itemsLimit()-e,this.maxIndex)}ngAfterViewInit(){this.refresh$.pipe(Mt(()=>this.getMaxIndex()),Q(()=>this.refresh()),w(e=>this.maxIndex!==e)).subscribe(e=>{this.maxIndex=e,this.cdr.detectChanges()})}ngAfterViewChecked(){this.refresh()}get tabs(){return Array.from(this.el.querySelectorAll("[tuiTab]"))}get activeElement(){var i;let{tabs:e}=this,t=jt(this.activeItemIndex()||0,0,e.length-2);return this.options.exposeActive||this.lastVisibleIndex>=t?e[t]||null:((i=this.moreButton())==null?void 0:i.nativeElement)||null}get isMoreAlone(){return this.lastVisibleIndex<0&&!this.options.exposeActive}get isMoreVisible(){return this.lastVisibleIndex<this.items().length-1}get isMoreFocusable(){var e;return W((e=this.moreButton())==null?void 0:e.nativeElement)}get isMoreActive(){return this.open||!this.options.exposeActive&&this.lastVisibleIndex<this.activeItemIndex()}onClick(e){this.open=!1,this.focusMore(),this.activeItemIndex.set(e)}onArrowRight(e){qt(e.target)&&W(e.target)&&this.focusMore()}onArrowLeft(){var i;let{tabs:e}=this,t=e.length-2;for(;t>=0;){if((i=e[t])==null||i.focus(),W(e[t]))return;t--}}onWrapperArrow(e,t,i){let n=e.target,o=Zt({initial:n,root:t,previous:i});o&&o.focus()}isOverflown(e){return e!==this.activeItemIndex()||!this.options.exposeActive}shouldShow(e){return e>this.lastVisibleIndex&&this.isOverflown(e)}get margin(){return this.size()==="l"?24:16}focusMore(){var e;(e=this.moreButton())==null||e.nativeElement.focus()}getMaxIndex(){var xt,yt,It;let{tabs:e,activeItemIndex:t,margin:i}=this;if(e.length<2)return 0;let{exposeActive:n,minMoreWidth:o}=this.options,{clientWidth:l}=this.el,ot=e[t()],le=(ot==null?void 0:ot.scrollWidth)??0,ce=Math.max(((xt=e[e.length-1])==null?void 0:xt.scrollWidth)??0,o),_=e.length-2,U=e.reduce((Ct,{scrollWidth:at})=>Ct+at,0)+_*i-(((yt=e[e.length-1])==null?void 0:yt.scrollWidth)??0);if(Number.isNaN(U)||U<=l)return 1/0;for(;_;){U-=(((It=e[_])==null?void 0:It.scrollWidth)??0)+i,_--;let at=n&&t()>_?le+i:0,ue=U+at+ce+i,de=Qt(this.maxIndex===_-1);if(ue+de<l)return _}return-1}refresh(){var i,n;let{offsetLeft:e=0,offsetWidth:t=0}=this.activeElement||{};(i=this.dir())==null||i.nativeElement.style.setProperty("--t-left",z(e)),(n=this.dir())==null||n.nativeElement.style.setProperty("--t-width",z(t))}};R.\u0275fac=function(t){return new(t||R)},R.\u0275cmp=K({type:R,selectors:[["tui-tabs-with-more"],["nav","tuiTabsWithMore",""]],contentQueries:function(t,i,n){t&1&&Bt(n,i.items,it,4,st),t&2&&mt()},viewQuery:function(t,i){t&1&&(pt(i.moreButton,C,5,g),pt(i.dir,M,5,g)),t&2&&mt(2)},hostVars:1,hostBindings:function(t,i){t&2&&x("data-size",i.size())},inputs:{activeItemIndex:[1,"activeItemIndex"],size:[1,"size"],underline:[1,"underline"],itemsLimit:[1,"itemsLimit"],moreContent:[1,"moreContent"],dropdownContent:[1,"dropdownContent"]},outputs:{activeItemIndex:"activeItemIndexChange"},features:[Y(se)],decls:7,vars:4,consts:[["dropdown",""],["element",""],[1,"t-tabs",3,"activeItemIndexChange","keydown.arrowRight","size","underline","activeItemIndex"],["tuiTab","","type","button",1,"t-more",3,"_active","t-no-margin","t-overflown","tabIndex","tuiDropdown","tuiDropdownOpen"],["tuiChevron","","tuiTab","","type","button",1,"t-more",3,"_active","t-no-margin","t-overflown","tabIndex","tuiDropdown","tuiDropdownOpen"],[3,"ngTemplateOutlet"],[1,"t-flex",3,"t-overflown"],[1,"t-flex"],["tuiTab","","type","button",1,"t-more",3,"tuiDropdownOpenChange","keydown.arrowLeft.prevent","tabIndex","tuiDropdown","tuiDropdownOpen"],[4,"polymorpheusOutlet"],["tuiChevron","","tuiTab","","type","button",1,"t-more",3,"tuiDropdownOpenChange","keydown.arrowLeft.prevent","tabIndex","tuiDropdown","tuiDropdownOpen"],[1,"t-dropdown",3,"keydown.arrowDown.prevent","keydown.arrowUp.prevent"],[1,"t-dropdown-item"],[1,"t-dropdown-item",3,"tui-tab-activate"]],template:function(t,i){if(t&1){let n=k();y(0,"tui-tabs",2),X("activeItemIndexChange",function(l){return p(n),J(i.activeItemIndex,l)||(i.activeItemIndex=l),m(l)}),u("keydown.arrowRight",function(l){return p(n),m(i.onArrowRight(l))}),ut(1,he,2,1,null,null,ct),I(),D(3,_e,2,10,"button",3)(4,we,2,10,"button",4)(5,Ie,4,1,"ng-template",null,0,Ht)}t&2&&(v("size",i.size())("underline",i.underline()),G("activeItemIndex",i.activeItemIndex),b(),dt(i.items()),b(2),q(i.moreContent()?3:4))},dependencies:[Ft,Xt,ie,te,ee,C,M],styles:["[_nghost-%COMP%]{position:relative;display:flex;font:var(--tui-font-body-m);box-sizing:border-box;color:var(--tui-text-secondary);box-shadow:inset 0 -1px var(--tui-border-normal);overflow:hidden}[data-size=m][_nghost-%COMP%]{font:var(--tui-font-body-s)}.t-tabs[_ngcontent-%COMP%]{block-size:inherit;font:inherit;overflow:visible;box-shadow:none;color:inherit}.t-flex[_ngcontent-%COMP%]{display:flex}.t-overflown[_ngcontent-%COMP%]{margin:0;inline-size:0;max-inline-size:0;overflow:hidden;visibility:hidden}.t-icon[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;margin-inline-end:-.25rem;vertical-align:bottom}.t-icon_rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.t-dropdown[_ngcontent-%COMP%]{padding:.25rem 0}.t-dropdown[_ngcontent-%COMP%]     *[tuiTab]{inline-size:calc(100% - .75rem);block-size:2.75rem;justify-content:flex-start;margin:.125rem .375rem;padding:0 .625rem;line-height:1.5rem;border-radius:var(--tui-radius-s);font:var(--tui-font-body-m);color:var(--tui-text-primary)}.t-dropdown[_ngcontent-%COMP%]     *[tuiTab]:before{display:none}.t-dropdown[_ngcontent-%COMP%]     *[tuiTab]:hover, .t-dropdown[_ngcontent-%COMP%]     *[tuiTab]:focus, .t-dropdown[_ngcontent-%COMP%]     *[tuiTab]._active{box-shadow:none;outline:none;background:var(--tui-background-neutral-1)}.t-dropdown[data-size=m][_ngcontent-%COMP%]     *[tuiTab]{block-size:2.25rem;font:var(--tui-font-body-s)}.t-dropdown-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.t-no-margin[_ngcontent-%COMP%]{margin-inline-start:0}"],changeDetection:0});var gt=R;export{C as a,Se as b,M as c,_t as d,gt as e};
