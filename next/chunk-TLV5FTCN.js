import{f as qt,g as Gt,s as O,t as Q,z as Zt}from"./chunk-4D5THDTS.js";import"./chunk-H5KFPEOU.js";import"./chunk-VCXHQ4OA.js";import"./chunk-PHMEFPR2.js";import"./chunk-XCN3E43Q.js";import"./chunk-27NZLLCE.js";import"./chunk-RESIVNUW.js";import"./chunk-LHIOXLEO.js";import"./chunk-V2TKXA7U.js";import"./chunk-63OFZHEL.js";import"./chunk-7HQAHKTM.js";import"./chunk-GFGJ4ZBW.js";import"./chunk-WMYLVR5R.js";import"./chunk-MB5ITBZQ.js";import"./chunk-2XJF6QZT.js";import"./chunk-2P765AEL.js";import"./chunk-DL2KA5HF.js";import"./chunk-EAQPSXPW.js";import{a as Kt,c as Qt}from"./chunk-BBJRS2FP.js";import{e as K}from"./chunk-JHN7IW6Q.js";import"./chunk-DJXY5GID.js";import"./chunk-ISAQQ7Y3.js";import"./chunk-R4FBNSXL.js";import"./chunk-CGVKT3HN.js";import{b as zt}from"./chunk-IR4UBPHV.js";import"./chunk-I7DF4G5M.js";import"./chunk-KNOQITAX.js";import"./chunk-7SFEYNM5.js";import"./chunk-7TS2WLK5.js";import{O as R,a as Wt,v as z}from"./chunk-ODN2S6R3.js";import"./chunk-WOREUVDS.js";import"./chunk-2D2EPJ7W.js";import{n as j}from"./chunk-2CZYXZI7.js";import{g as jt}from"./chunk-3UZ33AWX.js";import{W,p as $t}from"./chunk-YJJAMLPC.js";import"./chunk-P5WUWMHO.js";import"./chunk-HNO7IIVZ.js";import{e as Jt}from"./chunk-ZQHN4FA2.js";import"./chunk-PVN565WB.js";import"./chunk-J4DUKI7J.js";import"./chunk-46R27ZL6.js";import"./chunk-LGNM6WP5.js";import"./chunk-N244WIL5.js";import"./chunk-4BAKY5BF.js";import"./chunk-VFK5FJTH.js";import"./chunk-T5CQYOLU.js";import"./chunk-KHYL57XP.js";import"./chunk-LNPVZ7EX.js";import{I as Ht,M as Bt,Oa as Ut,a as It,ab as Lt,h as Et,ia as Nt,j as Rt,t as Ot}from"./chunk-3FKVJQFC.js";import{C as Mt,c as At,g as Dt,h as Vt,l as Pt,q as Ft}from"./chunk-JUKN4WRM.js";import{p as St,q as wt,w as kt}from"./chunk-RGJEWAQ3.js";import{Bc as C,Cb as I,Cc as r,Db as a,Dc as ut,E as it,Ec as mt,Fb as lt,Fc as _t,Hc as dt,I as N,Ic as ft,Ka as rt,La as u,Ma as m,Mc as Ct,Nc as c,Oc as w,Pc as x,Rc as U,Sc as L,Tc as $,Ub as E,Uc as ht,Vc as yt,Wb as st,Wc as q,Yc as xt,Zc as Tt,_b as d,dd as V,ed as gt,fd as G,gc as f,ia as nt,ja as ot,jd as vt,lc as h,nc as g,oc as v,pc as b,qc as s,rc as p,sc as y,td as bt,vc as pt,w as B,wc as S,xb as at,xc as ct,za as _}from"./chunk-YJQUARX2.js";import{a as Y,b as tt,h as et}from"./chunk-42JZD6NG.js";var[J,ke]=Ht({key:"taiga-search-history",history:"@tui.clock",popular:"@tui.search",empty:"@tui.search",remove:"@tui.trash"});function ee(n,i){if(n&1&&(s(0,"label",0),c(1),p()),n&2){let t=r();a(),x(" ",t.i18n().history," ")}}function ie(n,i){if(n&1){let t=S();s(0,"button",2),C("click",function(){let o=u(t).$implicit,l=r();return m(l.select(o))})("keydown.backspace",function(){let o=u(t).$implicit,l=r();return m(l.remove(o))})("keydown.delete",function(){let o=u(t).$implicit,l=r();return m(l.remove(o))})("mousedown.prevent",function(){return u(t),m(0)}),y(1,"div",3),s(2,"span",4),c(3),p(),s(4,"button",5),C("click.stop",function(){let o=u(t).$implicit,l=r();return m(l.remove(o))}),c(5," \u{1F5D1}\uFE0F "),p()()}if(n&2){let t=i.$implicit,e=r();a(),f("tuiAvatar",e.options.history),a(2),w(t),a(),f("iconStart",e.options.remove)}}function ne(n,i){if(n&1&&(s(0,"label",0),c(1),p()),n&2){let t=r();a(),x(" ",t.i18n().popular," ")}}function oe(n,i){if(n&1){let t=S();s(0,"button",6),C("click",function(){let o=u(t).$implicit,l=r();return m(l.select(o))})("mousedown.prevent",function(){return u(t),m(0)}),y(1,"span",3),s(2,"span",4),c(3),p()()}if(n&2){let t=i.$implicit,e=r();a(),f("tuiAvatar",e.options.popular),a(2),w(t)}}var Xt,H=class H{constructor(){this.textfield=_(R);this.storage=_(Et);this.control=_(Dt);this.close=_($t);this.i18n=_(O);this.options=_(J);this.$=(Xt=this.control.valueChanges)==null?void 0:Xt.pipe(B(String),N(i=>!!i&&!this.popular.includes(i)),It()).subscribe(i=>{this.store(i)});this.history=this.items;this.popular=[]}store(i){var t;(t=this.storage)==null||t.setItem(this.options.key,JSON.stringify(Array.from(new Set([i.trim(),...this.items])).filter((e,o,l)=>e&&!l.find(T=>T.startsWith(e)&&T!==e)).slice(0,5)))}remove(i){var t,e;(t=this.textfield.input())==null||t.nativeElement.focus(),this.history=this.history.filter(o=>o!==i),(e=this.storage)==null||e.setItem(this.options.key,JSON.stringify(this.items.filter(o=>o!==i)))}select(i){var t,e;(t=this.control.control)==null||t.setValue(i),(e=this.textfield.input())==null||e.nativeElement.focus()}get items(){var i;return JSON.parse(((i=this.storage)==null?void 0:i.getItem(this.options.key))||"[]")}};H.\u0275fac=function(t){return new(t||H)},H.\u0275cmp=E({type:H,selectors:[["tui-search-history"]],inputs:{popular:"popular"},decls:6,vars:2,consts:[[1,"t-sr-label"],["tuiCell","","type","button"],["tuiCell","","type","button",3,"click","keydown.backspace","keydown.delete","mousedown.prevent"],[3,"tuiAvatar"],["tuiTitle",""],["appearance","icon","size","xs","tabindex","-1","tuiIconButton","","type","button",3,"click.stop","iconStart"],["tuiCell","","type","button",3,"click","mousedown.prevent"]],template:function(t,e){t&1&&(d(0,ee,2,1,"label",0),v(1,ie,6,3,"button",1,g),d(3,ne,2,1,"label",0),v(4,oe,4,2,"button",1,g)),t&2&&(h(e.history.length?0:-1),a(),b(e.history),a(2),h(e.popular.length?3:-1),a(),b(e.popular))},dependencies:[K,W,z,j],styles:["[_nghost-%COMP%]:not(:empty){display:block;padding:.375rem 0}"],changeDetection:0});var P=H;var A=class A{constructor(){this.platform=_(Rt).platform;this.texts=_(O);this.search=_(Q);this.placeholder=bt(({hotkey:i}=this.texts())=>this.platform.startsWith("Mac")?`\u2318+K ${i}`:`Alt+K ${i}`)}};A.\u0275fac=function(t){return new(t||A)},A.\u0275dir=st({type:A,selectors:[["input","tuiSearchHotkey",""]],hostVars:1,hostBindings:function(t,e){t&1&&C("keydown.meta.k.stop",function(){return e.search.open()},!1,I)("keydown.alt.k.stop",function(){return e.search.open()},!1,I),t&2&&ct("placeholder",e.placeholder())}});var F=A;var re=["*"],ae=()=>[],le=n=>({$implicit:n});function se(n,i){n&1&&mt(0)}function pe(n,i){n&1&&y(0,"tui-loader",0)}function ce(n,i){if(n&1&&(s(0,"tui-block-status",1),y(1,"tui-icon",2),c(2),p()),n&2){let t=r(3);a(),f("icon",t.options.empty),a(),x(" ",t.i18n().empty," ")}}function ue(n,i){if(n&1&&(s(0,"label",5),c(1),p()),n&2){let t=r(2).$implicit;a(),x(" ",t.key," ")}}function me(n,i){if(n&1&&pt(0,6),n&2){let t=i.$implicit,e=r(6);f("ngTemplateOutlet",e.template||null)("ngTemplateOutletContext",Tt(2,le,t))}}function _e(n,i){if(n&1&&(d(0,ue,2,1,"label",5),v(1,me,1,4,"ng-container",6,g)),n&2){let t=r().$implicit;r();let e=q(0),o=r(3);h(!o.active&&e.length>1?0:-1),a(),b(t.value)}}function de(n,i){if(n&1&&d(0,_e,3,1),n&2){let t=i.$index,e=r(4);h(!e.active||e.active===t+1?0:-1)}}function fe(n,i){if(n&1&&(s(0,"button",8),c(1),p()),n&2){let t=r().$implicit;a(),x(" ",t.key," ")}}function Ce(n,i){if(n&1&&d(0,fe,2,1,"button",8),n&2){let t=i.$implicit;h(t.value.length?0:-1)}}function he(n,i){if(n&1){let t=S();s(0,"tui-tabs",7),$("activeItemIndexChange",function(o){u(t);let l=r(4);return L(l.active,o)||(l.active=o),m(o)}),C("keydown.shift.tab.prevent",function(){u(t);let o=r(4);return m(o.tab(-1))},!1,I)("keydown.tab.prevent",function(){u(t);let o=r(4);return m(o.tab(1))},!1,I),s(1,"button",8),c(2),p(),v(3,Ce,1,1,null,null,g),p()}if(n&2){r();let t=q(0),e=r(3);U("activeItemIndex",e.active),a(2),w(e.i18n().all),a(),b(t)}}function ye(n,i){if(n&1&&(ht(0),V(1,"keyvalue"),s(2,"tui-scrollbar",3),v(3,de,1,1,null,null,g),V(5,"tuiFilter"),p(),d(6,he,5,2,"tui-tabs",4)),n&2){let t=r(3),e=yt(G(1,1,t.results,t.asIs)||xt(8,ae));a(3),b(G(5,5,e,t.notEmpty)),a(3),h(e.length>1?6:-1)}}function xe(n,i){if(n&1&&d(0,ce,3,2,"tui-block-status",1)(1,ye,7,9),n&2){let t=r(2);h(t.results&&t.isEmpty(t.results)?0:1)}}function Te(n,i){if(n&1&&d(0,pe,1,0,"tui-loader",0)(1,xe,2,1),n&2){let t=r();h(t.results?1:0)}}var k=class k{constructor(){this.el=Ut();this.options=_(J);this.i18n=_(O);this.textfield=_(R);this.active=0;this.results={}}ngOnChanges(){this.active=0}isEmpty(i){return!Object.values(i).reduce((t,{length:e})=>e+t,0)}onArrow(i,t){var o;let e=Array.from(this.el.querySelectorAll("[tuiCell]"));e[0]===i&&t<0?(o=this.textfield.input())==null||o.nativeElement.focus():Lt(e.indexOf(i),e,t)}tab(i){var e;let t=Object.values(this.results||{}).filter(o=>o.length).length;this.active=Bt(this.active+i,0,t),(e=this.textfield.input())==null||e.nativeElement.focus()}notEmpty({value:i}){return!!i.length}asIs(){return 0}};k.\u0275fac=function(t){return new(t||k)},k.\u0275cmp=E({type:k,selectors:[["tui-search-results"]],contentQueries:function(t,e,o){if(t&1&&_t(o,lt,5),t&2){let l;dt(l=ft())&&(e.template=l.first)}},hostBindings:function(t,e){t&1&&C("keydown.arrowDown.prevent",function(l){return e.onArrow(l.target,1)})("keydown.arrowUp.prevent",function(l){return e.onArrow(l.target,-1)})},inputs:{results:"results"},features:[rt],ngContentSelectors:re,decls:2,vars:1,consts:[[1,"t-loader"],["size","m",1,"t-status"],["tuiSlot","top",1,"t-empty",3,"icon"],[1,"t-scrollbar"],["size","m",1,"t-tabs",3,"activeItemIndex"],[1,"t-sr-label"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["size","m",1,"t-tabs",3,"activeItemIndexChange","keydown.shift.tab.prevent","keydown.tab.prevent","activeItemIndex"],["tuiTab",""]],template:function(t,e){t&1&&(ut(),d(0,se,1,0)(1,Te,2,1)),t&2&&h(e.textfield.value()?1:0)},dependencies:[kt,St,qt,Gt,Jt,Wt,zt,jt,Kt,Qt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border-radius:var(--tui-radius-l);background:var(--tui-background-base);box-shadow:inset 0 0 0 1px var(--tui-border-normal)}[_nghost-%COMP%]     [tuiCell]{inline-size:stretch;padding:.375rem;margin:.25rem .625rem;border-radius:var(--tui-radius-l)}[_nghost-%COMP%]     [tuiCell]>[tuiAvatar]{border-radius:var(--tui-radius-m)}[_nghost-%COMP%]     .t-sr-label{display:block;font:var(--tui-font-ui-s);color:var(--tui-text-secondary);margin:.75rem 1rem .5rem}.t-loader[_ngcontent-%COMP%]{margin:1rem 0}.t-status[_ngcontent-%COMP%]{margin-block-end:2rem}.t-empty[_ngcontent-%COMP%]{margin-block-start:1.5rem;font-size:6rem;color:var(--tui-text-primary)}.t-tabs[_ngcontent-%COMP%]{order:-1;margin:0 1rem;box-shadow:none;border-image:linear-gradient(0deg,var(--tui-border-normal) 1px,transparent 0) fill 0/0/0 1rem}.t-tabs[_ngcontent-%COMP%]:before{background:var(--tui-background-accent-opposite-pressed)}.t-scrollbar[_ngcontent-%COMP%]{max-block-size:30rem;padding:.375rem 0}"],changeDetection:0}),et([Nt],k.prototype,"isEmpty",1);var M=k;function ve(n,i){if(n&1&&(s(0,"a",9),y(1,"span",10),s(2,"span",11),c(3),s(4,"span",12),c(5),p()()()),n&2){let t=i.$implicit;f("href",t.href,at),a(),f("tuiAvatar",t.icon||"@tui.file"),a(2),x(" ",t.title," "),a(2),w(t.subtitle)}}function be(n,i){if(n&1&&(s(0,"tui-search-results",7),V(1,"async"),y(2,"tui-search-history",8),d(3,ve,6,4,"ng-template"),p()),n&2){let t=r();f("results",gt(1,2,t.results$)),a(2),f("popular",t.popular)}}var Se={Documents:[{title:"Monty Python",href:"https://en.wikipedia.org/wiki/Monty_Python"}],Code:[{title:"Taiga UI",href:"https://github.com/taiga-family/taiga-ui",icon:"@tui.github"},{title:"Maskito",href:"https://github.com/taiga-family/maskito",icon:"@tui.github"},{title:"Web APIs with Angular",href:"https://github.com/taiga-family/ng-web-apis",icon:"@tui.github"}],Links:[{title:"Taiga UI",subtitle:"Super awesome library",href:"https://taiga-ui.dev",icon:"/assets/images/taiga.svg"},{title:"Maskito",href:"https://maskito.dev",icon:"@tui.external-link"}]},D=class D{constructor(){this.popular=["Taiga UI","Maskito","Web APIs for Angular"];this.control=new Pt("");this.results$=this.control.valueChanges.pipe(N(Boolean),ot(i=>it(2e3).pipe(B(()=>this.filter(i)),nt(null))));this.open=!1}filter(i){return Object.entries(Se).reduce((t,[e,o])=>tt(Y({},t),{[e]:o.filter(({title:l,href:T,subtitle:te=""})=>Ot(l+T+te,i))}),{})}};D.\u0275fac=function(t){return new(t||D)},D.\u0275cmp=E({type:D,selectors:[["ng-component"]],decls:14,vars:4,consts:[["search",""],["tuiNavigationHeader",""],[3,"pointerdown.capture.stop"],["tuiSearchHotkey","",3,"tuiInputSearchOpenChange","formControl","tuiInputSearch","tuiInputSearchOpen"],["tuiAvatar","@tui.user"],["alt","","src","https://avatars.githubusercontent.com/u/11832552"],["size","m","tuiButton","","type","button",3,"click"],[3,"results"],[3,"popular"],["tuiCell","",3,"href"],[3,"tuiAvatar"],["tuiTitle",""],["tuiSubtitle",""]],template:function(t,e){if(t&1){let o=S();s(0,"header",1)(1,"strong"),c(2,"Taiga UI"),p(),y(3,"hr"),s(4,"tui-textfield",2),C("pointerdown.capture.stop",function(){return u(o),m(0)}),s(5,"input",3),$("tuiInputSearchOpenChange",function(T){return u(o),L(e.open,T)||(e.open=T),m(T)}),p(),d(6,be,4,4,"ng-template",null,0,vt),p(),c(8," Alex Inkin "),s(9,"div",4),y(10,"img",5),p()(),s(11,"p")(12,"button",6),C("click",function(){return u(o),m(e.open=!e.open)}),c(13),p()()}if(t&2){let o=Ct(7);a(5),f("formControl",e.control)("tuiInputSearch",o),U("tuiInputSearchOpen",e.open),a(8),x(" Toggle open: ",e.open," ")}},dependencies:[wt,Mt,At,Vt,Ft,K,W,z,Q,Zt,F,P,M,R,j],styles:["[_nghost-%COMP%]{display:block;transform:translateZ(0)}[tuiNavigationHeader][_ngcontent-%COMP%]{white-space:nowrap;inline-size:100%!important;box-shadow:none!important}[tuiNavigationHeader][_ngcontent-%COMP%]:before{display:none}"],changeDetection:0});var X=D;export{X as default};
