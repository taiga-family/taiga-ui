import{f as te}from"./chunk-ZZ6KVO66.js";import{Xa as ee,qa as _}from"./chunk-DK2BF2IF.js";import"./chunk-L4WPWZOT.js";import"./chunk-PN57FTCV.js";import"./chunk-GNKNP65M.js";import"./chunk-YLAMS7ZF.js";import"./chunk-FMFREFXT.js";import"./chunk-K77VYEL7.js";import"./chunk-F5KYMTRT.js";import"./chunk-L2GRWKXR.js";import"./chunk-3NI54MR5.js";import"./chunk-DYWIUR6Y.js";import"./chunk-62J74YTI.js";import"./chunk-OCRCVEIB.js";import"./chunk-4H3U73A7.js";import"./chunk-CVJJJNYP.js";import"./chunk-LLR4ZPHN.js";import"./chunk-3XPU77JA.js";import"./chunk-WIKCAP7M.js";import{e as Z}from"./chunk-NAS6HNMQ.js";import"./chunk-YTPZDKAP.js";import"./chunk-BMXYBY5P.js";import"./chunk-YHC4NOGW.js";import"./chunk-IVJY4HZK.js";import"./chunk-R63KBTMD.js";import"./chunk-ES63VKYJ.js";import"./chunk-I33VMCKT.js";import"./chunk-3JWJ5HQM.js";import{A as J,C as v,E as K,N as X,f as j,h as Y,p as G}from"./chunk-JBDAGRKJ.js";import"./chunk-AQC2LZOP.js";import{k as N}from"./chunk-B6BGIW5U.js";import"./chunk-MNZV2TKT.js";import"./chunk-ZTIWYTOJ.js";import{ea as q}from"./chunk-SWR2SACC.js";import"./chunk-EFZNWBM4.js";import"./chunk-4GTWS6G4.js";import"./chunk-J3DWBBXU.js";import"./chunk-22TNLALQ.js";import"./chunk-4T4IQTXX.js";import"./chunk-DVOQQFGZ.js";import"./chunk-ZO2MKN7O.js";import{a as $}from"./chunk-G6YJYBBT.js";import"./chunk-ZVWBNCYM.js";import"./chunk-EHEBXGHA.js";import{o as P}from"./chunk-NOLR4OVO.js";import{B as H,c as V,h as z,m as F}from"./chunk-SJTZPLWC.js";import{q as I}from"./chunk-ZRMXKGW5.js";import{$a as w,$b as S,Cc as T,Dc as x,Eb as o,Hc as d,Ic as u,Jc as c,La as D,Ma as C,Oc as f,Qc as g,Sc as O,Tc as U,Uc as W,Vb as b,ed as y,fd as h,hc as m,hd as B,oc as k,pc as Q,qc as R,rc as l,sc as a,tc as L,xc as A,yb as M}from"./chunk-AN37RPX6.js";import"./chunk-42JZD6NG.js";function ie(p,t){if(p&1){let e=A();l(0,"button",6),T("click",function(){let r=D(e).$implicit,n=x(2);return C(n.onClick(r.login))}),l(1,"div",7),f(2),y(3,"tuiInitials"),L(4,"img",8),a(),f(5),a()}if(p&2){let e=t.$implicit;o(2),g(" ",h(3,3,e.name)," "),o(2),m("src",e.avatar,M),o(),g(" ",e.name," ")}}function re(p,t){if(p&1&&(l(0,"tui-data-list",4),Q(1,ie,6,5,"button",5,k),y(3,"tuiMapper"),a()),p&2){let e=x();o(),R(B(3,0,e.items,e.filter,e.search.replace("@","")))}}var s=class s{constructor(){this.options=P;this.value="Type @ to see a dropdown";this.items=[{name:"Alexander Inkin",avatar:te`images/avatar.jpg`,login:"a.inkin"},{name:"Roman Sedov",avatar:"",login:"r.sedov"}];this.filter=(t,e)=>t.filter(({name:i,login:r})=>r.startsWith(e)||i.startsWith(e));this.predicate=t=>String(q(t)).startsWith("@")}get search(){var e;let t=(e=this.textarea)==null?void 0:e.nativeElement;return(t==null?void 0:t.value.slice(t.value.indexOf("@"),t.selectionStart))||""}onArrow(t,e){let i=this.options[e];i&&(t.preventDefault(),i.nativeElement.focus())}onClick(t){if(!this.textarea)return;let e=this.search,i=this.value.replace(e,t),r=i.indexOf(t)+t.length;this.value=i,this.textarea.nativeElement.focus(),this.textarea.nativeElement.value=i,this.textarea.nativeElement.setSelectionRange(r,r)}};s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=b({type:s,selectors:[["ng-component"]],viewQuery:function(e,i){if(e&1&&(d(_,5,w),d(N,5),d(v,5,w)),e&2){let r;u(r=c())&&(i.textarea=r.first),u(r=c())&&(i.driver=r.first),u(r=c())&&(i.options=r)}},decls:6,vars:7,consts:[["tuiDropdownLimitWidth","auto","tuiDropdownSelectionPosition","word",3,"tuiDropdownSelection"],["tuiLabel",""],["tuiTextarea","",3,"ngModelChange","keydown.stop.arrowDown","keydown.stop.arrowUp","focused","max","min","ngModel"],["size","m",4,"tuiDropdown"],["size","m"],["tuiOption","","type","button"],["tuiOption","","type","button",3,"click"],["size","s","tuiAvatar",""],["alt","",3,"src"]],template:function(e,i){e&1&&(l(0,"tui-textfield",0)(1,"label",1),f(2,"Type a message"),a(),l(3,"textarea",2),y(4,"async"),W("ngModelChange",function(n){return U(i.value,n)||(i.value=n),n}),T("keydown.stop.arrowDown",function(n){return i.onArrow(n,"first")})("keydown.stop.arrowUp",function(n){return i.onArrow(n,"last")}),a(),S(5,re,4,4,"tui-data-list",3),a()),e&2&&(m("tuiDropdownSelection",i.predicate),o(3),m("focused",h(4,5,i.driver)||null)("max",4)("min",4),O("ngModel",i.value))},dependencies:[I,H,V,z,F,Z,J,v,j,Y,G,ee,$,_,K,X],encapsulation:2,changeDetection:0});var E=s;export{E as default};
