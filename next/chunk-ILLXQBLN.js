import{f as te}from"./chunk-UOCGBPFE.js";import{Xa as ee,qa as _}from"./chunk-PZOMZZM5.js";import"./chunk-35KWDGIA.js";import"./chunk-D5URYOVS.js";import"./chunk-ZVTW4PGH.js";import"./chunk-AN3N4BJL.js";import"./chunk-HONONQ5D.js";import"./chunk-2SK5PUHS.js";import"./chunk-LUHBCOPQ.js";import"./chunk-UWIMT6HC.js";import"./chunk-3VGMB524.js";import"./chunk-6NIMZTDZ.js";import"./chunk-5CS2SCAV.js";import"./chunk-UFRXIV5X.js";import"./chunk-6OZQ7ZF7.js";import"./chunk-7EXKH6G6.js";import"./chunk-AJV5LFNU.js";import"./chunk-JEN247HC.js";import"./chunk-6MUHZ5I5.js";import"./chunk-VQ7ULHJS.js";import"./chunk-ISVM7U7U.js";import{e as Z}from"./chunk-7FACBWDL.js";import"./chunk-XRXD7CO7.js";import"./chunk-C2WF2U7U.js";import"./chunk-TEMLXJET.js";import"./chunk-W7VLJ3BR.js";import"./chunk-4S6A5QEN.js";import"./chunk-HJW3PCN4.js";import"./chunk-BWLLYUU3.js";import"./chunk-2X4A3QNR.js";import{B as J,E as K,N as X,f as z,h as Y,p as G,y as v}from"./chunk-MLGWMVJH.js";import"./chunk-D3TDUJ7Z.js";import{k as q}from"./chunk-5T2YJMTA.js";import"./chunk-GXTERTJL.js";import"./chunk-J5XPZJGB.js";import{ea as j}from"./chunk-53TNSAFA.js";import"./chunk-CTEN4LMH.js";import"./chunk-4GTWS6G4.js";import"./chunk-OA4YBJXQ.js";import"./chunk-WK4WJHV4.js";import"./chunk-BG64RCBJ.js";import"./chunk-M7EHR5ME.js";import"./chunk-FGNKQ34K.js";import{a as $}from"./chunk-WNKD6MRD.js";import"./chunk-2BBDNTR6.js";import"./chunk-3UYAU6Q7.js";import"./chunk-QLNOCSSL.js";import{o as P}from"./chunk-35PF2MXP.js";import{B as N,c as V,h as F,m as H}from"./chunk-MSJYH3YY.js";import{q as I}from"./chunk-ID7P2QVS.js";import{$a as w,$b as S,Cc as T,Dc as x,Eb as o,Hc as d,Ic as u,Jc as c,La as D,Ma as C,Oc as f,Qc as g,Sc as O,Tc as U,Uc as W,Vb as b,ed as y,fd as h,hc as m,hd as B,oc as k,pc as Q,qc as R,rc as l,sc as a,tc as L,xc as A,yb as M}from"./chunk-PVL5PQAX.js";import"./chunk-42JZD6NG.js";function ie(s,t){if(s&1){let e=A();l(0,"button",5),T("click",function(){let r=D(e).$implicit,n=x(2);return C(n.onClick(r.login))}),l(1,"div",6),f(2),y(3,"tuiInitials"),L(4,"img",7),a(),f(5),a()}if(s&2){let e=t.$implicit;o(2),g(" ",h(3,3,e.name)," "),o(2),m("src",e.avatar,M),o(),g(" ",e.name," ")}}function re(s,t){if(s&1&&(l(0,"tui-data-list"),Q(1,ie,6,5,"button",4,k),y(3,"tuiMapper"),a()),s&2){let e=x();o(),R(B(3,0,e.items,e.filter,e.search.replace("@","")))}}var p=class p{constructor(){this.options=P;this.value="Type @ to see a dropdown";this.items=[{name:"Alexander Inkin",avatar:te`/images/avatar.jpg`,login:"a.inkin"},{name:"Roman Sedov",avatar:"",login:"r.sedov"}];this.filter=(t,e)=>t.filter(({name:i,login:r})=>r.startsWith(e)||i.startsWith(e));this.predicate=t=>String(j(t)).startsWith("@")}get search(){var e;let t=(e=this.textarea)==null?void 0:e.nativeElement;return(t==null?void 0:t.value.slice(t.value.indexOf("@"),t.selectionStart))||""}onArrow(t,e){let i=this.options[e];i&&(t.preventDefault(),i.nativeElement.focus())}onClick(t){if(!this.textarea)return;let e=this.search,i=this.value.replace(e,t),r=i.indexOf(t)+t.length;this.value=i,this.textarea.nativeElement.focus(),this.textarea.nativeElement.value=i,this.textarea.nativeElement.setSelectionRange(r,r)}};p.\u0275fac=function(e){return new(e||p)},p.\u0275cmp=b({type:p,selectors:[["ng-component"]],viewQuery:function(e,i){if(e&1&&(d(_,5,w),d(q,5),d(v,5,w)),e&2){let r;u(r=c())&&(i.textarea=r.first),u(r=c())&&(i.driver=r.first),u(r=c())&&(i.options=r)}},decls:6,vars:7,consts:[["tuiDropdownLimitWidth","auto","tuiDropdownSelectionPosition","word",3,"tuiDropdownSelection"],["tuiLabel",""],["tuiTextarea","",3,"ngModelChange","keydown.stop.arrowDown","keydown.stop.arrowUp","focused","max","min","ngModel"],[4,"tuiDropdown"],["tuiOption","","type","button"],["tuiOption","","type","button",3,"click"],["size","s","tuiAvatar",""],["alt","",3,"src"]],template:function(e,i){e&1&&(l(0,"tui-textfield",0)(1,"label",1),f(2,"Type a message"),a(),l(3,"textarea",2),y(4,"async"),W("ngModelChange",function(n){return U(i.value,n)||(i.value=n),n}),T("keydown.stop.arrowDown",function(n){return i.onArrow(n,"first")})("keydown.stop.arrowUp",function(n){return i.onArrow(n,"last")}),a(),S(5,re,4,4,"tui-data-list",3),a()),e&2&&(m("tuiDropdownSelection",i.predicate),o(3),m("focused",h(4,5,i.driver)||null)("max",4)("min",4),O("ngModel",i.value))},dependencies:[I,N,V,F,H,Z,J,v,z,Y,G,ee,$,_,K,X],encapsulation:2,changeDetection:0});var E=p;export{E as default};
