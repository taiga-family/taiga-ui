import{f as ie}from"./chunk-TWFDPW3T.js";import{l as te}from"./chunk-5DFRUPDB.js";import"./chunk-T5UQZSZK.js";import{la as h}from"./chunk-2LH2AK4O.js";import"./chunk-JL4PKXS3.js";import"./chunk-OF6LWAQO.js";import"./chunk-BQR26O4V.js";import"./chunk-NCYTPIAU.js";import"./chunk-OHAGN5OB.js";import"./chunk-EHQXA5ZD.js";import"./chunk-GFVVTMD5.js";import"./chunk-3N6EVDA2.js";import"./chunk-PG7HNE3E.js";import"./chunk-CM743BBE.js";import{d as ee}from"./chunk-VJFTAZOO.js";import"./chunk-VJMMC5T3.js";import"./chunk-Q3RLR5U5.js";import"./chunk-2OYPWQS2.js";import"./chunk-VCJ57RFU.js";import"./chunk-NS4JJ766.js";import"./chunk-WZVB6WKD.js";import"./chunk-VQ56HFN7.js";import"./chunk-VBCZOPQN.js";import"./chunk-MTAINC6A.js";import"./chunk-O6UM644T.js";import"./chunk-YEWDNQPR.js";import"./chunk-4PDCEDWE.js";import"./chunk-HDGWTFNH.js";import"./chunk-Z3LFZJ3K.js";import"./chunk-OMZMAFQR.js";import"./chunk-6DD5T2VR.js";import{e as Z}from"./chunk-BZPKBGQL.js";import"./chunk-CEEZBV64.js";import"./chunk-KOYVH63H.js";import"./chunk-6A6EFZ7W.js";import"./chunk-GGQ7LRWG.js";import"./chunk-TM77L2JA.js";import"./chunk-YPMRIVB4.js";import"./chunk-7QL3DKVH.js";import"./chunk-32EPBUDC.js";import{N as v,R as J,W as K,ca as X,f as z,h as Y,q as G}from"./chunk-YABU4UAY.js";import{k as q}from"./chunk-DERVPRBY.js";import"./chunk-LYVFTZAB.js";import"./chunk-I4N5R6Q5.js";import{u as j}from"./chunk-EVN24HAH.js";import"./chunk-4U2DNEOR.js";import"./chunk-T7CZIA5R.js";import"./chunk-DWKKHIXL.js";import"./chunk-HVPTAUBE.js";import"./chunk-CYYGRNV2.js";import"./chunk-CHS6H6BT.js";import"./chunk-UEDJIMWG.js";import{a as $}from"./chunk-2ASTB5IE.js";import"./chunk-Z7Z3MGBI.js";import"./chunk-WUXQZARL.js";import"./chunk-LMX6REOV.js";import{u as P}from"./chunk-HCM5SIEF.js";import{B as H,c as N,h as V,m as F}from"./chunk-34QFRBFN.js";import{q as I}from"./chunk-HB52MDKS.js";import"./chunk-SVUDN6EH.js";import{Cc as w,Db as o,Dc as T,Hc as u,Ic as m,Jc as c,Ma as D,Na as C,Oc as f,Qc as x,Sc as O,Tc as U,Ub as b,Uc as W,_a as _,_b as S,ed as y,fd as g,gc as d,hd as B,oc as k,pc as Q,qc as R,rc as l,sc as a,tc as L,xb as M,xc as A}from"./chunk-NAEF7NDX.js";import"./chunk-42JZD6NG.js";function re(s,t){if(s&1){let e=A();l(0,"button",5),w("click",function(){let r=D(e).$implicit,n=T(2);return C(n.onClick(r.login))}),l(1,"div",6),f(2),y(3,"tuiInitials"),L(4,"img",7),a(),f(5),a()}if(s&2){let e=t.$implicit;o(2),x(" ",g(3,3,e.name)," "),o(2),d("src",e.avatar,M),o(),x(" ",e.name," ")}}function ne(s,t){if(s&1&&(l(0,"tui-data-list"),Q(1,re,6,5,"button",4,k),y(3,"tuiMapper"),a()),s&2){let e=T();o(),R(B(3,0,e.items,e.filter,e.search.replace("@","")))}}var p=class p{constructor(){this.options=P;this.value="Type @ to see a dropdown";this.items=[{name:"Alexander Inkin",avatar:ie`/images/avatar.jpg`,login:"a.inkin"},{name:"Roman Sedov",avatar:"",login:"r.sedov"}];this.filter=(t,e)=>t.filter(({name:i,login:r})=>r.startsWith(e)||i.startsWith(e));this.predicate=t=>String(j(t)).startsWith("@")}get search(){var e;let t=(e=this.textarea)==null?void 0:e.nativeElement;return(t==null?void 0:t.value.slice(t.value.indexOf("@"),t.selectionStart))||""}onArrow(t,e){let i=this.options[e];i&&(t.preventDefault(),i.nativeElement.focus())}onClick(t){if(!this.textarea)return;let e=this.search,i=this.value.replace(e,t),r=i.indexOf(t)+t.length;this.value=i,this.textarea.nativeElement.focus(),this.textarea.nativeElement.value=i,this.textarea.nativeElement.setSelectionRange(r,r)}};p.\u0275fac=function(e){return new(e||p)},p.\u0275cmp=b({type:p,selectors:[["ng-component"]],viewQuery:function(e,i){if(e&1&&(u(h,5,_),u(q,5),u(v,5,_)),e&2){let r;m(r=c())&&(i.textarea=r.first),m(r=c())&&(i.driver=r.first),m(r=c())&&(i.options=r)}},decls:6,vars:7,consts:[["tuiDropdownLimitWidth","auto","tuiDropdownSelectionPosition","word",3,"tuiDropdownSelection"],["tuiLabel",""],["tuiTextarea","",3,"ngModelChange","keydown.stop.arrowDown","keydown.stop.arrowUp","focused","max","min","ngModel"],[4,"tuiDropdown"],["new","","tuiOption","","type","button"],["new","","tuiOption","","type","button",3,"click"],["size","s","tuiAvatar",""],["alt","",3,"src"]],template:function(e,i){e&1&&(l(0,"tui-textfield",0)(1,"label",1),f(2,"Type a message"),a(),l(3,"textarea",2),y(4,"async"),W("ngModelChange",function(n){return U(i.value,n)||(i.value=n),n}),w("keydown.stop.arrowDown",function(n){return i.onArrow(n,"first")})("keydown.stop.arrowUp",function(n){return i.onArrow(n,"last")}),a(),S(5,ne,4,4,"tui-data-list",3),a()),e&2&&(d("tuiDropdownSelection",i.predicate),o(3),d("focused",g(4,5,i.driver)||null)("max",4)("min",4),O("ngModel",i.value))},dependencies:[I,H,N,V,F,Z,J,v,z,Y,G,ee,$,h,te,K,X],encapsulation:2,changeDetection:0});var E=p;export{E as default};
