import{e as ae,l as re,m as oe,n as le}from"./chunk-NSFKC76B.js";import"./chunk-LOHSALDL.js";import"./chunk-ZPVHHDO4.js";import{c as ne,m as ie}from"./chunk-2LQ356VB.js";import"./chunk-VGA6VN7V.js";import"./chunk-JVRF36SO.js";import"./chunk-HKZTEIIE.js";import"./chunk-TONX5HKM.js";import"./chunk-POW6ZWX4.js";import"./chunk-ET7B5W7P.js";import"./chunk-GTUGM6OA.js";import"./chunk-QRWA6Q44.js";import"./chunk-PR5VJNXM.js";import"./chunk-KRKM4Q6K.js";import"./chunk-WVIEHCDA.js";import"./chunk-2VWGXZJ6.js";import"./chunk-QTV4EQKA.js";import"./chunk-J4AGUR76.js";import"./chunk-LXC7N7LG.js";import"./chunk-ZALDQKJ5.js";import"./chunk-QIMMAKQA.js";import"./chunk-23MY5XWY.js";import"./chunk-6MNH5NQ5.js";import"./chunk-QUKI35YB.js";import{c as G}from"./chunk-GFGVPZRC.js";import"./chunk-4EWQJATI.js";import"./chunk-XOANSC3N.js";import"./chunk-H4R6EG75.js";import{E as K,H as Q,O as Y,h as J}from"./chunk-6U63KQTX.js";import"./chunk-NGBWY2TE.js";import"./chunk-AL3GXSEO.js";import"./chunk-WT5BADUB.js";import"./chunk-EZLMORMA.js";import{o as q}from"./chunk-TX7VNO7E.js";import"./chunk-E2FZ3L7A.js";import"./chunk-HNO7IIVZ.js";import{e as te}from"./chunk-75B2BAG2.js";import"./chunk-X7YZ6H7L.js";import"./chunk-L76OGLQ4.js";import"./chunk-675SZYI6.js";import"./chunk-LGNM6WP5.js";import"./chunk-UGYTTQMR.js";import{m as Z,n as c,p as v,u as ee}from"./chunk-LNZXAMAV.js";import"./chunk-2FS36KKV.js";import"./chunk-35DVWHED.js";import"./chunk-M2WISCU7.js";import"./chunk-LS7LH6BU.js";import{hb as X}from"./chunk-EEM67MJR.js";import{B as U,c as H,h as j,m as $}from"./chunk-A2R73ZSN.js";import"./chunk-VL5DYKMV.js";import{Cc as g,Db as l,La as L,Ma as O,Mc as N,Nc as u,Oc as V,Pc as R,Rc as S,Sc as B,Tc as k,Ub as I,_b as _,bb as P,dd as w,gc as s,gd as M,jd as z,lc as F,nc as T,oc as x,pc as C,qc as d,rc as o,sc as D,td as E,wc as A,za as b}from"./chunk-MAQQ6KKR.js";import"./chunk-42JZD6NG.js";function ce(i,t){i&1&&D(0,"tui-calendar-range")}function pe(i,t){i&1&&D(0,"tui-calendar-range")}function me(i,t){if(i&1&&(d(0,"span",9)(1,"small",11),u(2),o()()),i&2){let n=t.$index;l(2),R("Chart ",n+1,"")}}function se(i,t){if(i&1&&(D(0,"tui-line-days-chart",12),w(1,"tuiFilter")),i&2){let n=t.$implicit,e=g(2);s("height",200)("value",M(1,2,n,e.filter,e.range()))}}function ue(i,t){if(i&1&&x(0,se,2,6,"tui-line-days-chart",12,T),i&2){let n=g();C(n.days())}}function ge(i,t){if(i&1&&(D(0,"tui-line-chart",13),w(1,"tuiFilter"),w(2,"tuiMapper")),i&2){let n=t.$implicit,e=g(2);s("height",200)("value",M(2,7,M(1,3,n,e.filter,e.range()),e.toNumbers,e.range()))("width",e.getWidth(e.range()))}}function ye(i,t){if(i&1&&x(0,ge,3,11,"tui-line-chart",13,T),i&2){let n=g();C(n.days())}}function fe(i,t){if(i&1&&(d(0,"div",9)(1,"span",15),u(2),o()()),i&2){let n=t.$implicit;l(2),R("$",n[1].toFixed(0),"")}}function he(i,t){if(i&1&&(d(0,"div",14)(1,"strong"),u(2),o()(),d(3,"div"),x(4,fe,3,1,"div",9,T),o()),i&2){let n=t.$implicit,e=g();l(2),V(e.getDate(n[0][0],e.range().from)),l(2),C(n)}}var y=class y{constructor(){this.isE2E=b(X);this.months=b(q);this.data=P(new v(c.currentLocal(),c.currentLocal().append({month:5})));this.show=P(this.data());this.days=E(()=>this.random(this.data()));this.maxLength={month:6};this.range=E(()=>{let t=this.show(),{from:n,to:e}=t,a=c.lengthBetween(n,e),m=n.dayOfWeek(),r=e.dayOfWeek(),p=m?n.append({day:7-m}):n,f=r?e.append({day:7-r}):e,h=c.lengthBetween(p,f);return a>90?t:a>60?new v(p,f.append({day:h%14})):a>14?new v(p,f):new v(n,e.append({day:a%2}))});this.labels=E(()=>{let{from:t,to:n}=this.show(),e=c.lengthBetween(t,n),a=this.months();if(e>90)return[...Array.from({length:Z.lengthBetween(t,n)+1},(f,h)=>a[t.append({month:h}).month]??""),""];let m=Array.from({length:e},(f,h)=>t.append({day:h})),r=_e(m),p=m.map(String);return e>60?[...de(r),""]:e>14?[...r,""]:e>7?[...de(p),""]:[...p,""]});this.filter=([t],{from:n,to:e})=>t.daySameOrAfter(n)&&t.daySameOrBefore(e);this.toNumbers=(t,{from:n})=>t.map(([e,a])=>[c.lengthBetween(n,e),a])}getWidth({from:t,to:n}){return c.lengthBetween(t,n)}getDate(t,n){return t instanceof c?t:n.append({day:t})}generateRandomData({from:t,to:n},e){return Array.from({length:c.lengthBetween(t,n)+1}).reduce((a,m,r)=>{var p;return[...a,[t.append({day:r}),this.isE2E?e:Math.max((r?((p=a[r-1])==null?void 0:p[1])??0:e)+Math.random()*10-5,0)]]},[]).filter(([a])=>a.dayOfWeek()<5)}random(t){return[this.generateRandomData(t,100),this.generateRandomData(t,75),this.generateRandomData(t,50)]}};y.\u0275fac=function(n){return new(n||y)},y.\u0275cmp=I({type:y,selectors:[["ng-component"]],decls:23,vars:11,consts:[["hint",""],["tuiNotification",""],[1,"controls"],[3,"tuiTextfieldCleaner"],["tuiLabel",""],["tuiInputDateRange","",3,"ngModelChange","maxLength","ngModel"],[4,"tuiDropdown"],[1,"tui-space_left-4",3,"tuiTextfieldCleaner"],[1,"legend"],[1,"item"],[1,"axes",3,"axisXLabels","horizontalLines","tuiLineChartHint","verticalLines"],[1,"name"],[1,"chart",3,"height","value"],[1,"chart",3,"height","value","width"],[1,"tui-space_bottom-2"],[1,"value"]],template:function(n,e){if(n&1){let a=A();d(0,"div",1)(1,"code"),u(2,"TuiLineDaysChart"),o(),u(3,` is used to show data of several months to simplify working with different number of days in months
`),o(),d(4,"p",2)(5,"tui-textfield",3)(6,"label",4),u(7,"Data"),o(),d(8,"input",5),k("ngModelChange",function(r){return L(a),B(e.data,r)||(e.data=r),O(r)}),o(),_(9,ce,1,0,"tui-calendar-range",6),o(),d(10,"tui-textfield",7)(11,"label",4),u(12,"Visible range"),o(),d(13,"input",5),k("ngModelChange",function(r){return L(a),B(e.show,r)||(e.show=r),O(r)}),o(),_(14,pe,1,0,"tui-calendar-range",6),o()(),d(15,"p",8),x(16,me,3,1,"span",9,T),o(),d(18,"tui-axes",10),_(19,ue,2,0)(20,ye,2,0),o(),_(21,he,6,1,"ng-template",null,0,z)}if(n&2){let a=N(22);l(5),s("tuiTextfieldCleaner",!1),l(3),s("maxLength",e.maxLength),S("ngModel",e.data),l(2),s("tuiTextfieldCleaner",!1),l(3),s("maxLength",e.maxLength),S("ngModel",e.show),l(3),C(e.days()),l(2),s("axisXLabels",e.labels())("horizontalLines",5)("tuiLineChartHint",a)("verticalLines",e.labels().length),l(),F(e.getWidth(e.show())>90?19:20)}},dependencies:[U,H,j,$,ae,te,ie,ne,K,Y,Q,J,re,le,oe,ee,G],styles:['.axes[_ngcontent-%COMP%]{block-size:12.5rem}.controls[_ngcontent-%COMP%]{display:flex}.controls[_ngcontent-%COMP%]   tui-textfield[_ngcontent-%COMP%]{flex:1}.legend[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.item[_ngcontent-%COMP%]{color:var(--tui-chart-categorical-01);display:flex;align-items:center;margin:0 .75rem}.item[_ngcontent-%COMP%]:first-child{color:var(--tui-chart-categorical-08)}.item[_ngcontent-%COMP%]:last-child{color:var(--tui-chart-categorical-12)}.item[_ngcontent-%COMP%]:before{content:"";border-block-end:.125rem solid;inline-size:1rem;margin-inline-end:.5rem}.name[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.value[_ngcontent-%COMP%]{color:#fff}.chart[_ngcontent-%COMP%]{color:var(--tui-chart-categorical-01);position:absolute;top:0;left:0;inline-size:100%;block-size:100%}.chart[_ngcontent-%COMP%]:first-child{color:var(--tui-chart-categorical-08)}.chart[_ngcontent-%COMP%]:last-child{color:var(--tui-chart-categorical-12)}'],changeDetection:0});var W=y;function _e(i){return i.filter(t=>!t.dayOfWeek()).map(String)}function de(i){return i.filter((t,n)=>!(n%2))}export{W as default};
