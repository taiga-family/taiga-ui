import{c as Bt}from"./chunk-WLXSSDZB.js";import{k as Ht}from"./chunk-QGPPYPBI.js";import{b as st}from"./chunk-GCNH7HQJ.js";import{d as F}from"./chunk-UKK5U7WG.js";import{d as V,g as pe,h as Ft,i as me,j as le,k as de,l as ce,m as Te,n as fe}from"./chunk-7F7GN42K.js";import{m as Vt,n as ue}from"./chunk-LZMX7LUK.js";import{$ as rt,B as kt,D as ae,E as et,L as it,Z as bt,aa as P,ba as wt,da as se,ea as at,fa as Pt,ga as x,i as re,u as Nt,v as Et,x as tt}from"./chunk-RZCCBQDO.js";import{f as b,h as ot,i as nt,j as w}from"./chunk-PQPSIBCB.js";import{$ as zt,$b as ie,Ba as St,Mb as te,Qb as Ct,R as Kt,S as Qt,Yb as ee,ac as Tt,bc as oe,fc as T,hc as A,ic as At,id as Ot,jc as ne,ka as Z,lb as Mt,lc as f,va as Zt,wa as vt}from"./chunk-LIWNYESY.js";import{Aa as r,Bc as _,Cc as C,Ma as y,Na as D,Qa as l,Ub as Y,Wb as h,Xc as E,Yb as d,Za as ct,Zb as m,_b as M,ab as g,c as Xt,d as qt,fc as I,gc as $,lc as J,qc as X,rc as q,sd as k,td as u,ud as Q,wc as K,xa as _t,xc as xt}from"./chunk-X7N7YQIF.js";import{a as c,b as z}from"./chunk-42JZD6NG.js";var H=class{constructor(n,t,e){this.range=n;this.name=t;this.content=e}toString(){return this.name}};function we(s=["For all the time","Today","Yesterday","Current week","Current month","Previous month"]){let n=T.currentLocal(),t=n.append({day:-1}),e=n.append({day:-n.dayOfWeek()}),i=e.append({day:6}),o=n.append({day:1-n.day}),a=o.append({month:1,day:-1}),p=o.append({month:-1});return[new H(new A(At,n),s[0]),new H(new A(n,n),s[1]),new H(new A(t,t),s[2]),new H(new A(e,i),s[3]),new H(new A(o,a),s[4]),new H(new A(p,o.append({day:-1})),s[5])]}var ft={icon:()=>"@tui.calendar",min:At,max:ne,valueTransformer:ot},[v,We]=St(ft);function ut(s=qt){let n=r(ue),t=r(Ct);return Z(wt,"filler",u(()=>{let{mode:e,separator:i}=t(),o=n()??"",a=o&&Kt(o[e],i);return s(a)}),{})}var yt={DMY:"dd/mm/yyyy",MDY:"mm/dd/yyyy",YMD:"yyyy/mm/dd"},B=class B extends nt{constructor(){super(...arguments);this.calendar=se(t=>t instanceof Ht||t instanceof Bt);this.el=Mt();this.textfield=r(rt);this.filler=ut();this.mobile=r(Ot);this.open=Et();this.icon=Pt(v);this.handlers=r(ae);this.dropdownEnabled=Nt(u(()=>!this.native&&this.interactive()));this.options=r(v);this.format=r(Ct);this.valueEffect=Q(()=>{let t=this.stringify(this.value())||(this.filler().length===this.el.value.length?"":this.el.value);this.textfield.value.set(t)});this.calendarIn=Q(()=>{this.calendar()&&this.processCalendar(this.calendar())});this.calendarOut=Q(t=>{var i;let e=(i=this.calendar())==null?void 0:i.valueChange.subscribe(o=>this.setDate(o));t(()=>e==null?void 0:e.unsubscribe())});this.native=!!r(x,{optional:!0})&&this.mobile;this.min=g(this.options.min);this.max=g(this.options.max)}set minSetter(t){this.min.set(t instanceof T?t:this.options.min)}set maxSetter(t){this.max.set(t instanceof T?t:this.options.max)}writeValue(t){let e=this.control.pristine&&this.control.untouched&&!t;(k(()=>t!==this.value())||e)&&(super.writeValue(t),this.textfield.value.set(this.stringify(this.value())))}setDate(t){this.onChange(t),this.open.set(!1),this.el.closest("tui-dropdown")||this.el.blur()}processCalendar(t){let e=this.value();t.value=Array.isArray(e)?e[0]:e,t.disabledItemHandler=this.handlers.disabledItemHandler(),t.min=this.min(),t.max=this.max()}onClick(){!this.mobile&&this.dropdownEnabled()&&this.open.update(t=>!t)}stringify(t){return(t==null?void 0:t.toString(this.format().mode,this.format().separator))??""}};B.\u0275fac=(()=>{let t;return function(i){return(t||(t=l(B)))(i||B)}})(),B.\u0275dir=h({type:B,hostVars:2,hostBindings:function(e,i){e&1&&_("input",function(a){return i.onValueChange(a.target.value)})("click.capture.stop",function(){return i.onClick()}),e&2&&(xt("disabled",i.disabled()),I("inputmode",i.mobile&&i.open()?"none":"numeric"))},inputs:{minSetter:[0,"min","minSetter"],maxSetter:[0,"max","maxSetter"]},features:[d]});var W=B,R=class R extends W{constructor(){super(...arguments);this.identity=r(kt).identityMatcher.set((t,e)=>t.daySame(e));this.mask=F(u(()=>de({separator:this.format().separator,mode:yt[this.format().mode],min:this.min().toLocalNativeDate(),max:this.max().toLocalNativeDate()})))}onValueChange(t){var e,i;(i=(e=this.control)==null?void 0:e.control)==null||i.updateValueAndValidity({emitEvent:!1}),this.onChange(t.length===Tt?T.normalizeParse(t,this.format().mode):null)}};R.\u0275fac=(()=>{let t;return function(i){return(t||(t=l(R)))(i||R)}})(),R.\u0275dir=h({type:R,selectors:[["input","tuiInputDate",""]],features:[E([it(st),w(R),b(v)]),m([P,tt,et,V]),d]});var ht=R;var xe=["tuiInputDate","","type","date"];function ve(s,n){if(s&1){let t=K();X(0,"input",2),_("click.stop.zoneless",function(){return y(t),D(0)})("input",function(i){y(t);let o=C(2);return D(o.onInput(i.target.value))})("pointerdown.stop.zoneless",function(){return y(t),D(0)}),q()}if(s&2){let t,e=C(2);$("max",e.host.max().toJSON())("min",e.host.min().toJSON())("value",(t=e.host.value())==null?null:t.toJSON()),I("list",e.list)}}function Se(s,n){s&1&&M(0,ve,1,4,"input",1)}var lt=class lt{constructor(){this.host=r(ht);this.list=null}onInput(n){if(!n)return this.host.onChange(null);let[t=0,e=0,i=0]=n.split("-").map(Number);this.host.onChange(new T(t,e-1,i))}};lt.\u0275fac=function(t){return new(t||lt)},lt.\u0275cmp=Y({type:lt,selectors:[["input","tuiInputDate","","type","date"]],hostAttrs:["ngSkipHydration","true"],hostVars:1,hostBindings:function(t,e){t&2&&I("list",null)},inputs:{list:"list"},features:[m([x])],attrs:xe,decls:1,vars:1,consts:[["type","date",3,"max","min","value"],["type","date",3,"max","min","value","click.stop.zoneless","input","pointerdown.stop.zoneless",4,"tuiTextfieldContent"],["type","date",3,"click.stop.zoneless","input","pointerdown.stop.zoneless","max","min","value"]],template:function(t,e){t&1&&M(0,Se,1,0,"input",0),t&2&&J(e.host.native?0:-1)},dependencies:[at],styles:[`tui-textfield input[tuiInputDate]~.t-content input[type=date]{position:absolute;inset:0 0 0 auto;inline-size:2.5rem;padding:0;opacity:0}tui-textfield input[tuiInputDate]~.t-content input[type=date]::-webkit-calendar-picker-indicator{position:absolute;top:0;left:0;inline-size:100%;block-size:100%}
`],encapsulation:2,changeDetection:0});var jt=lt;var Rt=new _t("",{factory:()=>z(c({},r(v)),{valueTransformer:ot})}),Gi=s=>vt(Rt,s,ft);var L=class L extends W{constructor(){super(...arguments);this.identity=r(kt).identityMatcher.set((t,e)=>t.daySame(e));this.filler=ut(t=>`${t}${ee}${t}`);this.mask=F(u(()=>ce({dateSeparator:this.format().separator,mode:yt[this.format().mode],min:this.min().toLocalNativeDate(),max:this.max().toLocalNativeDate(),minLength:this.minLength()||{},maxLength:this.maxLength()||{}})));this.minLength=g(null);this.maxLength=g(null)}set minLengthSetter(t){this.minLength.set(t)}set maxLengthSetter(t){this.maxLength.set(t)}processCalendar(t){super.processCalendar(t),t.minLength=this.minLength(),t.maxLength=this.maxLength()}onValueChange(t){var e,i;(i=(e=this.control)==null?void 0:e.control)==null||i.updateValueAndValidity({emitEvent:!1}),this.onChange(t.length===oe?A.normalizeParse(t,this.format().mode):null)}};L.\u0275fac=(()=>{let t;return function(i){return(t||(t=l(L)))(i||L)}})(),L.\u0275dir=h({type:L,selectors:[["input","tuiInputDateRange",""]],inputs:{minLengthSetter:[0,"minLength","minLengthSetter"],maxLengthSetter:[0,"maxLength","maxLengthSetter"]},features:[E([w(L),b(Rt),Zt(v,Rt)]),m([P,tt,V]),d]});var Gt=L;var Me={icon:()=>"@tui.clock",mode:"HH:MM",timeSegmentMaxValues:{},timeSegmentMinValues:{},valueTransformer:null},[Lt,so]=St(Me);var S=class S extends nt{constructor(){super(...arguments);this.textfield=r(rt);this.dropdown=r(re);this.open=Et();this.options=r(Lt);this.fillers=r(Vt);this.icon=Pt(Lt);this.dropdownEnabled=Nt(u(()=>!this.native&&this.interactive()));this.filler=Z(wt,"filler",u((t=(e=>(e=this.fillers())==null?void 0:e[this.timeMode()])()??"")=>this.postfix()?"":this.prefix()+t),{});this.mask=F(u(()=>this.computeMask(z(c({},this.options),{mode:this.timeMode(),step:this.interactive()&&!this.dropdown._content()?1:0,prefix:this.prefix(),postfix:this.postfix()}))));this.accept=ct([]);this.native=!!r(x,{optional:!0})&&r(Ot);this.timeMode=ct(this.options.mode,{alias:"mode"});this.prefix=ct("");this.postfix=ct("")}setValue(t){this.onChange(t),t?this.textfield.value.set(this.stringify(t)):this.textfield.setValue(t),!t&&this.dropdownEnabled()&&this.open.set(!0)}writeValue(t){let e=this.control.pristine&&this.control.untouched&&!t;(k(()=>t!==this.value())||e)&&(super.writeValue(t),k(()=>this.textfield.value.set(this.stringify(this.value()))))}onInput(t){var a,p;let e=t.replace(this.prefix(),"").replace(this.postfix(),""),i=e.length===this.timeMode().length?f.fromString(e):null,o=this.accept().length&&i?this.findNearestTime(i,this.accept()):i;(p=(a=this.control)==null?void 0:a.control)==null||p.updateValueAndValidity({emitEvent:!1}),this.onChange(o),o&&o!==i&&this.textfield.value.set(this.stringify(o))}toggle(){this.open.update(t=>!t)}onBlur(t){var i,o;let e=t.replace(this.prefix(),"").replace(this.postfix(),"");if(e&&!this.value()){let a=f.fromString(e),p=this.accept().length?this.findNearestTime(a,this.accept()):a;(o=(i=this.control)==null?void 0:i.control)==null||o.updateValueAndValidity({emitEvent:!1}),this.onChange(p),p&&this.textfield.value.set(this.stringify(p))}}computeMask(t){let e=Te(t),{mode:i,prefix:o,postfix:a}=t,p=Ft(U=>{U.inputMode=U.selectionStart>=i.indexOf(" AA")?"text":"numeric"}),N=me(U=>[o.length,U.length-a.length]);return z(c({},e),{plugins:e.plugins.concat(N,pe(o+a),le(o+a),i.includes("AA")?p:[])})}findNearestTime(t,e){return e.reduce((i,o)=>Math.abs(o.valueOf()-t.valueOf())<Math.abs(i.valueOf()-t.valueOf())?o:i)}stringify(t){return this.prefix()+((t==null?void 0:t.toString(this.timeMode()))||"")+this.postfix()}};S.\u0275fac=(()=>{let t;return function(i){return(t||(t=l(S)))(i||S)}})(),S.\u0275dir=h({type:S,selectors:[["input","tuiInputTime",""]],hostAttrs:["inputmode","numeric"],hostVars:1,hostBindings:function(e,i){e&1&&_("click",function(){return i.toggle()})("input",function(a){return i.onInput(a.target.value)})("blur",function(a){return i.onBlur(a.target.value)}),e&2&&xt("disabled",i.disabled())},inputs:{accept:[1,"accept"],timeMode:[1,"mode","timeMode"],prefix:[1,"prefix"],postfix:[1,"postfix"]},features:[E([w(S),bt(S),te(S),b(Lt),it(st)]),m([P,V]),d]});var Dt=S;var Ce=["tuiInputTime","","type","time"];function Ae(s,n){if(s&1){let t=K();X(0,"input",2),_("change",function(i){y(t);let o=C(2);return D(o.setValue(i.target.value))}),q()}if(s&2){let t=C(2);$("step",t.step())("value",t.value()),I("list",t.list)}}function Oe(s,n){s&1&&M(0,Ae,1,3,"input",1)}var dt=class dt{constructor(){this.list=Mt().getAttribute("list")}getStep(n){switch(n){case"HH:MM:SS":case"HH:MM:SS AA":return 1;case"HH:MM:SS.MSS":case"HH:MM:SS.MSS AA":return .001;default:return 60}}toISOString(n){let[t,e]=Array.isArray(n)?n:[null,n],i=t?t.toJSON()+(e?"T":""):"",o=e?e.toString("HH:MM:SS.MSS"):"";return i+o}};dt.\u0275fac=function(t){return new(t||dt)},dt.\u0275dir=h({type:dt,hostVars:1,hostBindings:function(t,e){t&2&&I("list",null)},standalone:!1});var gt=dt,j=class j extends gt{constructor(){super(...arguments);this.control=r(nt);this.host=r(Dt);this.textfield=r(rt);this.value=u(()=>this.toISOString(this.control.value()));this.step=u(()=>this.getStep(this.host.timeMode()))}setValue(t){this.host.setValue(f.fromString(t))}};j.\u0275fac=(()=>{let t;return function(i){return(t||(t=l(j)))(i||j)}})(),j.\u0275cmp=Y({type:j,selectors:[["input","tuiInputTime","","type","time"]],hostAttrs:["ngSkipHydration","true"],features:[m([x]),d],attrs:Ce,decls:1,vars:1,consts:[["type","time",3,"step","value"],["type","time",3,"step","value","change",4,"tuiTextfieldContent"],["type","time",3,"change","step","value"]],template:function(e,i){e&1&&M(0,Oe,1,0,"input",0),e&2&&J(i.host.native?0:-1)},dependencies:[at],styles:[`tui-textfield input[tuiInputTime]~.t-content input[type=time]{position:absolute;right:0;left:auto;inline-size:calc(var(--t-right) + var(--t-padding));opacity:0;margin:0;padding:0}tui-textfield input[tuiInputTime]~.t-content input[type=time]::-webkit-calendar-picker-indicator{position:absolute;top:0;left:0;inline-size:100%;block-size:100%}
`],encapsulation:2,changeDetection:0});var Yt=j;var De={valueTransformer:ot,timeMode:"HH:MM",dateTimeSeparator:", "},Ut=new _t("",{factory:()=>c(c({},r(v)),De)}),jo=s=>vt(Ut,s,c(c({},ft),De));var ge=new f(0,0),Ie=f.fromAbsoluteMilliseconds(ie-1),O=class O extends W{constructor(){super(...arguments);this.timeFillers=r(Vt);this.options=r(Ut);this.filler=ut(t=>{var i;let e=((i=this.timeFillers())==null?void 0:i[this.timeMode()])??"";return`${t}${this.options.dateTimeSeparator}${e}`});this.valueEffect=Q(Xt);this.identity=this.handlers.identityMatcher.set((t,e)=>zt(...t.map(Number))===zt(...e.map(Number)));this.disabledItemHandler=Z(et,"disabledItemHandler",t=>!!(t&&this.handlers.disabledItemHandler()(t)));this.mask=F(u(()=>this.computeMask({dateMode:yt[this.format().mode],timeMode:this.timeMode(),min:this.toNativeDate([this.min(),this.minTime()]),max:this.toNativeDate([this.max(),this.maxTime()]),dateSeparator:this.format().separator,dateTimeSeparator:this.options.dateTimeSeparator})));this.timeMode=g(this.options.timeMode);this.minTime=g(ge);this.maxTime=g(Ie)}set timeModeSetter(t){this.timeMode.set(t)}set minSetter(t){let[e,i]=Array.isArray(t)?t:[t,null];this.min.set(e||this.options.min),this.minTime.set(i??ge)}set maxSetter(t){let[e,i]=Array.isArray(t)?t:[t,null];this.max.set(e||this.options.max),this.maxTime.set(i??Ie)}setValue(t){this.onChange(t),this.textfield.value.set(this.stringify(t))}setDate(t){var o;let[e,i]=this.clampTime([t,((o=this.value())==null?void 0:o[1])??null]);this.setValue([e,i]),this.open.set(!1),setTimeout((a=Tt+this.options.dateTimeSeparator.length)=>this.el.setSelectionRange(a,a))}writeValue(t){let e=this.control.pristine&&this.control.untouched&&!t;(k(()=>t!==this.value())||e)&&(super.writeValue(t),k(()=>this.textfield.value.set(this.stringify(this.value()))))}processCalendar(t){super.processCalendar(t),t.disabledItemHandler=e=>this.handlers.disabledItemHandler()([e,null])}onValueChange(t){var U,Jt;this.textfield.value.set(t),(Jt=(U=this.control)==null?void 0:U.control)==null||Jt.updateValueAndValidity({emitEvent:!1});let[e="",i=""]=t.split(this.options.dateTimeSeparator),o=e.length>=Tt?T.normalizeParse(e,this.format().mode):null,a=i.length===this.timeMode().length?f.fromString(i):null;if(!o||i&&!a)return this.onChange(null);let[p,N=null]=this.value()??[];(!(p!=null&&p.daySame(o))||Number(a)!==Number(N))&&this.onChange([o,a])}stringify(t){let[e,i]=t??[],o=(e==null?void 0:e.toString(this.format().mode,this.format().separator))??"",a=i==null?void 0:i.toString(this.timeMode());return a?`${o}${this.options.dateTimeSeparator}${a}`:o}clampTime([t,e]){let i=t.daySame(this.min())?this.minTime().toAbsoluteMilliseconds():-1/0,o=t.daySame(this.max())?this.maxTime().toAbsoluteMilliseconds():1/0;return[t,e&&f.fromAbsoluteMilliseconds(Qt(e.toAbsoluteMilliseconds(),i,o))]}computeMask(t){let e=fe(t),{timeMode:i,dateMode:o,dateTimeSeparator:a}=t,p=Ft(N=>{N.inputMode=N.selectionStart>=o.length+a.length+i.indexOf(" AA")?"text":"numeric"});return z(c({},e),{plugins:e.plugins.concat(i.includes("AA")?p:[])})}toNativeDate([{year:t,month:e,day:i},{hours:o,minutes:a,seconds:p,ms:N}]){return new Date(t,e,i,o,a,p,N)}};O.\u0275fac=(()=>{let t;return function(i){return(t||(t=l(O)))(i||O)}})(),O.\u0275dir=h({type:O,selectors:[["input","tuiInputDateTime",""]],inputs:{timeModeSetter:[0,"timeMode","timeModeSetter"],minSetter:[0,"min","minSetter"],maxSetter:[0,"max","maxSetter"]},features:[E([it(st),w(O),bt(O),b(Ut)]),m([V,tt,et,P]),d]});var It=O;var Ne=["tuiInputDateTime","","type","datetime-local"];function Ee(s,n){if(s&1){let t=K();X(0,"input",2),_("click.stop.zoneless",function(){return y(t),D(0)})("input",function(i){y(t);let o=C(2);return D(o.onInput(i.target.value))})("pointerdown.stop.zoneless",function(){return y(t),D(0)}),q()}if(s&2){let t=C(2);$("max",t.max())("min",t.min())("step",t.step())("value",t.value()),I("list",t.list)}}function ke(s,n){s&1&&M(0,Ee,1,5,"input",1)}var G=class G extends gt{constructor(){super(...arguments);this.host=r(It);this.step=u(()=>this.getStep(this.host.timeMode()));this.value=u(()=>this.toISOString(this.host.value()));this.min=u(()=>this.toISOString([this.host.min(),this.host.minTime()]));this.max=u(()=>this.toISOString([this.host.max(),this.host.maxTime()]))}onInput(t){if(!t)return this.host.setValue(null);let e=new Date(t),i=T.fromLocalNativeDate(e),o=f.fromLocalNativeDate(e);this.host.setValue([i,o])}};G.\u0275fac=(()=>{let t;return function(i){return(t||(t=l(G)))(i||G)}})(),G.\u0275cmp=Y({type:G,selectors:[["input","tuiInputDateTime","","type","datetime-local"]],hostAttrs:["ngSkipHydration","true"],features:[m([x]),d],attrs:Ne,decls:1,vars:1,consts:[["type","datetime-local",3,"max","min","step","value"],["type","datetime-local",3,"max","min","step","value","click.stop.zoneless","input","pointerdown.stop.zoneless",4,"tuiTextfieldContent"],["type","datetime-local",3,"click.stop.zoneless","input","pointerdown.stop.zoneless","max","min","step","value"]],template:function(e,i){e&1&&M(0,ke,1,0,"input",0),e&2&&J(i.host.native?0:-1)},dependencies:[at],styles:[`tui-textfield input[tuiInputDateTime]~.t-content input[type=datetime-local]{position:absolute;inset:0 0 0 auto;inline-size:2.5rem;padding:0;opacity:0}tui-textfield input[tuiInputDateTime]~.t-content input[type=datetime-local]::-webkit-calendar-picker-indicator{position:absolute;top:0;left:0;inline-size:100%;block-size:100%}
`],encapsulation:2,changeDetection:0});var $t=G;export{H as a,we as b,ut as c,ft as d,v as e,We as f,yt as g,ht as h,jt as i,Gi as j,Gt as k,so as l,Dt as m,Yt as n,jo as o,It as p,$t as q};
