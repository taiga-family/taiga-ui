(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[77484],{77484:(t,e,n)=>{n.r(e),n.d(e,{default:()=>f});var i=n(37550),s=n(87742),a=n(64870),u=n(92229),o=n(8245),r=n(25083),l=n(87200);function c(t,e){if(1&t){const t=i.RV6();i.j41(0,"tui-data-list-wrapper",6),i.bIt("itemClick",(function(e){i.eBV(t);const n=i.XpG(3);return i.Njj(n.selectUser(e))})),i.k0s()}if(2&t){const t=i.XpG(2);i.XpG();const e=i.sdS(8);i.Y8G("itemContent",e)("items",t)}}function h(t,e){1&t&&i.DNE(0,c,1,2,"tui-data-list-wrapper",5)}function p(t,e){if(1&t&&i.DNE(0,h,1,0,"tui-data-list-wrapper",4),2&t){const t=i.XpG(),n=i.sdS(4);i.vxM(!t.user()&&n.value&&e.length?0:-1)}}function m(t,e){if(1&t&&(i.j41(0,"div",7)(1,"div",8),i.nrm(2,"img",9),i.k0s(),i.j41(3,"div",10),i.EFF(4),i.j41(5,"span",11),i.EFF(6),i.k0s()()()),2&t){const t=e.$implicit;i.R7$(2),i.Y8G("src",t.avatarUrl,i.B4B),i.R7$(2),i.SpI(" ",t," "),i.R7$(2),i.JRh(t.phone)}}class v{constructor(t,e,n,i=null,s=!1){this.firstName=t,this.lastName=e,this.phone=n,this.avatarUrl=i,this.disabled=s}toString(){return`${this.firstName} ${this.lastName}`}}const d=[new v("Alex","Inkin","+11234567890","https://avatars.githubusercontent.com/u/11832552"),new v("Vladimir","Potekhin","+13213213213","https://avatars.githubusercontent.com/u/46284632"),new v("Nikita","Barsukov","+18005553535","https://avatars.githubusercontent.com/u/35179038"),new v("Roman","Sedov","+18003000600","https://avatars.githubusercontent.com/u/10106368"),new v("Yulia","Tsareva","+13332221110","https://avatars.githubusercontent.com/u/8158578")];let f=(()=>{var t;class e{constructor(){this.value=(0,i.vPA)(""),this.items=d,this.user=(0,i.EWP)((()=>this.items.find((({phone:t})=>t===this.value())))),this.matcher=(t,e)=>e.startsWith("+")&&(0,a.Gb0)(t.phone,e.replaceAll(/\D/g,""))||(0,a.Gb0)(t.toString(),e)}selectUser(t){this.value.set(t.phone)}onInput(t){const e=this.items.find((e=>this.matcher(e,t)));t!==e?.toString()&&t!==e?.phone||this.value.set(e.phone)}isFullMatch(t,e){return 1===t.length&&(String(t[0])===e||t[0]?.phone===e)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=i.VBU({type:t,selectors:[["ng-component"]],decls:11,vars:8,consts:[["input",""],["template",""],["tuiLabel",""],["mask","+1 (###)###-####","tuiInputPhone","",3,"input","ngModelChange","allowText","ngModel"],["new","",3,"itemContent","items"],["new","",3,"itemContent","items","itemClick",4,"tuiDropdown"],["new","",3,"itemClick","itemContent","items"],["tuiCell",""],["tuiAvatar","@tui.user"],["alt","",3,"src"],["tuiTitle",""],["tuiSubtitle",""]],template:function(t,e){if(1&t){const t=i.RV6();i.j41(0,"tui-textfield")(1,"label",2),i.EFF(2),i.k0s(),i.j41(3,"input",3,0),i.bIt("input",(function(){i.eBV(t);const n=i.sdS(4);return i.Njj(e.onInput(n.value))}))("ngModelChange",(function(n){return i.eBV(t),i.Njj(e.value.set(n))})),i.k0s(),i.DNE(5,p,1,1),i.nI1(6,"tuiFilterByInput"),i.k0s(),i.DNE(7,m,7,3,"ng-template",null,1,i.C5r),i.j41(9,"pre"),i.EFF(10),i.k0s()}if(2&t){let t;i.R7$(2),i.JRh(e.user()||"Phone number or name"),i.R7$(),i.Y8G("allowText",!0)("ngModel",e.value()),i.R7$(2),i.vxM((t=i.i5U(6,5,e.items,e.matcher))?5:-1,t),i.R7$(5),i.SpI("value: ",e.value(),"")}},dependencies:[s.YN,s.me,s.BC,s.vS,o.Elh,u.n10,o.dfP,o.AmL,o.vxv,r.z,u.Bwv,l.pw,u.RYi],encapsulation:2,changeDetection:0}),e})()}}]);