!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("rxjs/operators"),require("@angular/core"),require("@ng-web-apis/common")):"function"==typeof define&&define.amd?define("@ng-web-apis/intersection-observer",["exports","rxjs","rxjs/operators","@angular/core","@ng-web-apis/common"],t):t((e["ng-web-apis"]=e["ng-web-apis"]||{},e["ng-web-apis"]["intersection-observer"]={}),e.rxjs,e.rxjs.operators,e.ng.core,e.common)}(this,function(e,t,c,r,n){"use strict";var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function s(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=new r.InjectionToken("Root element for IntersectionObserver"),a="0px 0px 0px 0px",p=new r.InjectionToken("rootMargin for IntersectionObserver",{providedIn:"root",factory:function(){return a}});var u=0,f=new r.InjectionToken("threshold for IntersectionObserver",{providedIn:"root",factory:function(){return u}});var v,l=(s(d,v=IntersectionObserver),d.prototype.observe=function(e,t){void 0===t&&(t=function(){}),v.prototype.observe.call(this,e),this.callbacks.set(e,t)},d.prototype.unobserve=function(e){v.prototype.unobserve.call(this,e),this.callbacks["delete"](e)},d.prototype.ngOnDestroy=function(){this.disconnect()},d.decorators=[{type:r.Directive,args:[{selector:"[waIntersectionObserver]"}]}],d.ctorParameters=function(){return[{type:undefined,decorators:[{type:r.Optional},{type:r.Inject,args:[i]}]},{type:undefined,decorators:[{type:r.Attribute,args:["waIntersectionRootMargin"]}]},{type:undefined,decorators:[{type:r.Attribute,args:["waIntersectionThreshold"]}]}]},d);function d(e,t,r){var o=v.call(this,function(n){o.callbacks.forEach(function(e,t){var r=n.filter(function(e){return e.target===t});return r.length&&e(r,o)})},{root:e&&e.nativeElement,rootMargin:function n(e){return e||a}(t),threshold:function s(e){return e?e.split(",").map(parseFloat):u}(r)})||this;return o.callbacks=new Map,o}var I,b=(s(y,I=t.Observable),y.decorators=[{type:r.Injectable}],y.ctorParameters=function(){return[{type:r.ElementRef,decorators:[{type:r.Inject,args:[r.ElementRef]}]},{type:l,decorators:[{type:r.Inject,args:[l]}]}]},y);function y(e,r){var n=e.nativeElement;return(I.call(this,function(t){return r.observe(n,function(e){t.next(e)}),function(){r.unobserve(n)}})||this).pipe(c.share())}var O=(g.decorators=[{type:r.Directive,args:[{selector:"[waIntersectionObservee]",outputs:["waIntersectionObservee"],providers:[b]}]}],g.ctorParameters=function(){return[{type:t.Observable,decorators:[{type:r.Inject,args:[b]}]}]},g);function g(e){this.waIntersectionObservee=e}var E=(h.decorators=[{type:r.Directive,args:[{selector:"[waIntersectionRoot]",providers:[{provide:i,useExisting:r.ElementRef}]}]}],h);function h(){}var j=(R.decorators=[{type:r.NgModule,args:[{declarations:[l,O,E],exports:[l,O,E]}]}],R);function R(){}var T,m=new r.InjectionToken("Intersection Observer API support",{providedIn:"root",factory:function(){return!!r.inject(n.WINDOW).IntersectionObserver}}),w=(s(_,T=t.Observable),_.decorators=[{type:r.Injectable}],_.ctorParameters=function(){return[{type:r.ElementRef,decorators:[{type:r.Inject,args:[r.ElementRef]}]},{type:Boolean,decorators:[{type:r.Inject,args:[m]}]},{type:String,decorators:[{type:r.Inject,args:[p]}]},{type:undefined,decorators:[{type:r.Inject,args:[f]}]},{type:undefined,decorators:[{type:r.Optional},{type:r.Inject,args:[i]}]}]},_);function _(e,r,n,o,s){var i=e.nativeElement;return(T.call(this,function(t){if(r){var e=new IntersectionObserver(function(e){t.next(e)},{root:s&&s.nativeElement,rootMargin:n,threshold:o});return e.observe(i),function(){e.disconnect()}}t.error("IntersectionObserver is not supported in your browser")})||this).pipe(c.share())}e.IntersectionObserveeDirective=O,e.IntersectionObserverDirective=l,e.IntersectionRootDirective=E,e.IntersectionObserverModule=j,e.IntersectionObserveeService=b,e.IntersectionObserverService=w,e.INTERSECTION_ROOT=i,e.INTERSECTION_ROOT_MARGIN_DEFAULT=a,e.INTERSECTION_ROOT_MARGIN=p,e.INTERSECTION_THRESHOLD_DEFAULT=u,e.INTERSECTION_THRESHOLD=f,e.INTERSECTION_OBSERVER_SUPPORT=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-web-apis-intersection-observer.umd.min.js.map