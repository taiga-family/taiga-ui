import{e as f}from"./chunk-VNDOEDC4.js";import{f as m,h}from"./chunk-LP23PU3H.js";import{Wa as g}from"./chunk-TQEODDI3.js";import{a as d}from"./chunk-KWZHGPWS.js";import{Ea as u,Tb as c,U as l,ja as p,r as n,s,za as a}from"./chunk-2UPKG2B4.js";var o=class o{constructor(){this.route=a(m);this.router=a(h);this.injector=a(u);this.initialUrl=this.router.url;this.dialog=a(f);let{dialog:t}=this.route.snapshot.data;n(y(t)?s(t):t().then(e=>e.default??e)).pipe(l(0),p(e=>this.dialog.open(new g(e,this.injector),this.route.snapshot.data.dialogOptions)),d()).subscribe({complete:()=>this.onDialogClosing()})}get lazyLoadedBackUrl(){return(this.route.parent?.snapshot.url||[]).map(()=>"..").join("/")}onDialogClosing(){this.initialUrl===this.router.url&&this.navigateToParent()}navigateToParent(){let t=this.route.snapshot.data.isLazy?this.lazyLoadedBackUrl:this.route.snapshot.data.backUrl;this.router.navigate([t],{relativeTo:this.route})}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=c({type:o,selectors:[["tui-routable-dialog"]],decls:0,vars:0,template:function(e,v){},encapsulation:2,changeDetection:0});var i=o;function y(r){return typeof r=="function"&&Object.getOwnPropertyDescriptor(r,"prototype")?.writable===!1}export{i as a};
