import{c as He,d as U,e as De,f as Oe,g as Pe,i as ht,j as Ie,k as $,l as H,m as xe,n as wt,o as we,r as dt,s as Me}from"./chunk-PZHDMSHG.js";import{G as mt,O as ye,P as ge,V as be,X as Ce}from"./chunk-GUCNAOME.js";import{a as z}from"./chunk-QILBXJYP.js";import{Ca as he,O as ct,Qa as y,Sa as de,a as Pt,ab as ve,d as le,db as B,ga as ue,ka as lt,la as It,na as ut,pb as j,qa as me,r as L,rb as ft,ta as xt,wa as fe,yb as Te,zb as Fe}from"./chunk-OBFPZKWW.js";import{a as ce}from"./chunk-VGA5QJKK.js";import{$b as at,Ba as Ot,Ca as Jt,Cc as _,D as jt,Da as qt,Db as Xt,E as Ut,Ea as nt,Eb as te,Ec as se,Fc as pe,G as it,Gb as ee,I as $t,Ka as N,P as zt,Pa as T,U as ot,V as Tt,Vb as pt,Xb as n,Yc as l,Za as st,Zb as m,_a as c,_b as E,bb as Kt,ca as Ht,ga as Vt,gc as ie,hc as G,i as et,ia as Zt,j as Bt,ja as Y,jc as oe,la as Dt,ma as Wt,na as Yt,s as C,sa as Gt,tc as re,ud as ae,w as k,wa as rt,wc as ne,xb as Qt,za as o}from"./chunk-MGMBASVD.js";import{a as _t,b as Lt,h as tt}from"./chunk-42JZD6NG.js";var Mt=["bottom-left","bottom","bottom-right","top-left","top","top-right","left-top","left","left-bottom","right-top","right","right-bottom"],Re={direction:"bottom-left",showDelay:500,hideDelay:200,appearance:"",icon:"@tui.circle-help"},g=new rt("",{factory:()=>Re}),Ke=h=>({provide:g,deps:[[new Ot,new Jt,vt],[new Ot,new qt,g]],useFactory:Me(h,Re)}),I=class I{constructor(){this.options=o(g,{skipSelf:!0});this.direction=this.options.direction;this.appearance=this.options.appearance;this.showDelay=this.options.showDelay;this.hideDelay=this.options.hideDelay;this.icon=this.options.icon;this.change$=new et}ngOnChanges(){this.change$.next()}};I.\u0275fac=function(t){return new(t||I)},I.\u0275dir=n({type:I,selectors:[["","tuiHintContent",""]],inputs:{content:[0,"tuiHintContent","content"],direction:[0,"tuiHintDirection","direction"],appearance:[0,"tuiHintAppearance","appearance"],showDelay:[0,"tuiHintShowDelay","showDelay"],hideDelay:[0,"tuiHintHideDelay","hideDelay"]},features:[l([me(g,I)]),N]});var vt=I;var D=class D extends ${constructor(){super(t=>this.stream$.subscribe(t));this.isMobile=o(B);this.el=y();this.hovered$=o(z);this.options=o(g);this.visible=!1;this.toggle$=new et;this.stream$=it(this.toggle$.pipe(Y(t=>this.isMobile?C(t):C(t).pipe(ot(t?0:this.hideDelay()))),Dt(this.hovered$),Ht()),this.hovered$.pipe(Y(t=>this.isMobile?C(t).pipe(ot(0)):C(t).pipe(ot(t?this.showDelay():this.hideDelay()))),Dt(this.toggle$),Ht())).pipe($t(()=>this.enabled),k(t=>t&&(this.el.hasAttribute("tuiHintPointer")||!dt(this.el))),Yt(t=>{this.visible=t}));this.parent=o(D,{optional:!0,skipSelf:!0});this.showDelay=c(this.options.showDelay,{alias:"tuiHintShowDelay"});this.hideDelay=c(this.options.hideDelay,{alias:"tuiHintHideDelay"});this.type="hint";this.enabled=!0}toggle(t=!this.visible){var e;this.toggle$.next(t),(e=this.parent)==null||e.toggle(t)}close(){this.toggle$.next(!1)}};D.\u0275fac=function(e){return new(e||D)},D.\u0275dir=n({type:D,inputs:{showDelay:[1,"tuiHintShowDelay","showDelay"],hideDelay:[1,"tuiHintHideDelay","hideDelay"]},exportAs:["tuiHintHover"],features:[l([H(D),z]),m]});var v=D;var b=class b extends v{constructor(){super(...arguments);this.currentRect=L}getClientRect(){return this.currentRect}onMove({clientX:t,clientY:e}){this.currentRect=de(t,e)}};b.\u0275fac=(()=>{let t;return function(r){return(t||(t=T(b)))(r||b)}})(),b.\u0275dir=n({type:b,selectors:[["","tuiHint","","tuiHintPointer",""]],hostBindings:function(e,r){e&1&&_("mousemove.zoneless",function(u){return r.onMove(u)})},features:[l([ht(b),H(b)]),m]});var J=b;var yt=8,gt=24,p=1,a=0,O=class O extends He{constructor(){super(...arguments);this.el=y();this.viewport=o(mt);this.accessor=De("hint")(o(U,{optional:!0}),{getClientRect:()=>this.el.getBoundingClientRect()});this.points=Mt.reduce((t,e)=>Lt(_t({},t),{[e]:[0,0]}),{});this.direction=c(o(g).direction,{alias:"tuiHintDirection"});this.offset=c(o(B)?16:8,{alias:"tuiHintOffset"});this.directionChange=st({alias:"tuiHintDirectionChange"});this.type="hint"}emitDirection(t){this.directionChange.emit(t)}getPosition({width:t,height:e}){let r=this.direction(),s=this.accessor.getClientRect(),u=s.left+s.width/2,S=s.top+s.height/2,X=this.el.matches('[dir="rtl"] :scope');this.points["top-left"][p]=s.top-e-this.offset(),this.points["top-left"][a]=u-t+gt,this.points.top[p]=this.points["top-left"][p],this.points.top[a]=u-t/2,this.points["top-right"][p]=this.points["top-left"][p],this.points["top-right"][a]=u-gt,this.points["bottom-left"][p]=s.bottom+this.offset(),this.points["bottom-left"][a]=this.points["top-left"][a],this.points.bottom[p]=this.points["bottom-left"][p],this.points.bottom[a]=this.points.top[a],this.points["bottom-right"][p]=this.points["bottom-left"][p],this.points["bottom-right"][a]=this.points["top-right"][a],this.points["left-top"][p]=S-e+gt,this.points["left-top"][a]=s.left-t-this.offset(),this.points.left[p]=S-e/2,this.points.left[a]=this.points["left-top"][a],this.points["left-bottom"][p]=S-gt,this.points["left-bottom"][a]=this.points["left-top"][a],this.points["right-top"][p]=this.points["left-top"][p],this.points["right-top"][a]=s.right+this.offset(),this.points.right[p]=this.points.left[p],this.points.right[a]=this.points["right-top"][a],this.points["right-bottom"][p]=this.points["left-bottom"][p],this.points["right-bottom"][a]=this.points["right-top"][a];let Et=(Array.isArray(r)?r:[r]).map(Ct=>Ae(Ct,X)).concat(Mt).find(Ct=>this.checkPosition(this.points[Ct],t,e))||this.fallback;return this.emitDirection(Ae(Et,X)),this.points[Et]}get fallback(){return this.points.top[p]>this.viewport.getClientRect().bottom-this.points.bottom[p]?"top":"bottom"}checkPosition([t,e],r,s){let u=this.viewport.getClientRect();return e>u.top+yt&&t>u.left+yt&&e+s<u.bottom-yt&&t+r<u.right-yt}};O.\u0275fac=(()=>{let t;return function(r){return(t||(t=T(O)))(r||O)}})(),O.\u0275dir=n({type:O,inputs:{direction:[1,"tuiHintDirection","direction"],offset:[1,"tuiHintOffset","offset"]},outputs:{directionChange:"tuiHintDirectionChange"},features:[m]}),tt([lt],O.prototype,"emitDirection",1);var x=O;function Ae(h,i){return i&&h.includes("left")?h.replace("left","right"):i&&h.includes("right")?h.replace("right","left"):h}function Le(h,i){h&1&&ne(0)}var V=class V{constructor(){this.hint=o(f)}};V.\u0275fac=function(t){return new(t||V)},V.\u0275cmp=pt({type:V,selectors:[["ng-component"]],decls:1,vars:1,consts:[[4,"polymorpheusOutlet"]],template:function(t,e){t&1&&at(0,Le,1,0,"ng-container",0),t&2&&G("polymorpheusOutlet",e.hint.content())},dependencies:[ft],encapsulation:2,changeDetection:0});var q=V,Z=class Z{constructor(){let i=o(f);ut(i.content,o(ee)),i.component=new j(q,o(nt))}};Z.\u0275fac=function(t){return new(t||Z)},Z.\u0275dir=n({type:Z,selectors:[["ng-template","tuiHint",""]]});var Ft=Z;var Be=["*"];function je(h,i){if(h&1&&re(0,"span",1),h&2){let t=i.polymorpheusOutlet;G("innerHTML",t,Qt)}}var Ue=[wt,z,Oe("hint",x),Pe("hint",Gt(()=>f))],bt=8,Se,w=class w{constructor(){this.el=y();this.hover=o(v);this.vvs=o(we);this.viewport=o(mt);this.pointer=o(J,{optional:!0});this.accessor=o(U);this.hint=o(f);this.isMobile=o(B);this.content=this.hint.component.component===q?Kt(""):this.hint.content;this.theme=(Se=this.hint.el.closest("[tuiTheme]"))==null?void 0:Se.getAttribute("tuiTheme");this.appearance=ge(this.hint.appearance);o(wt).pipe(Wt(()=>this.hint.el.isConnected),k(i=>this.vvs.correct(i)),Pt()).subscribe({next:i=>this.update(...i),complete:()=>this.hover.close()}),o(z).pipe(Pt()).subscribe(i=>this.hover.toggle(i))}onClick(i){(!i.closest(this.el.tagName)&&!this.hint.el.contains(i)||dt(this.hint.el))&&this.hover.toggle(!1)}apply(i,t,e,r){this.el.style.top=i,this.el.style.left=t,this.el.style.setProperty("--t-top",`${e}%`),this.el.style.setProperty("--t-left",`${r}%`),this.el.style.setProperty("--t-rotate",!r||Math.ceil(r)===100?"90deg":"0deg")}update(i,t){let{clientHeight:e,clientWidth:r}=this.el,s=this.accessor.getClientRect();if(s===L||!e||!r)return;let u=this.viewport.getClientRect(),S=ct(Math.max(bt,i),u.left+bt,Math.max(bt,u.width+u.left-r-bt)),[X,Nt]=this.vvs.correct([s.top+s.height/2-t,s.left+s.width/2-S]);this.apply(It(Math.round(t)),It(Math.round(S)),Math.round(ct(X,0,e)/e*100),Math.round(ct(Nt,0,r)/r*100))}};w.\u0275fac=function(t){return new(t||w)},w.\u0275cmp=pt({type:w,selectors:[["tui-hint"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(t,e){t&1&&_("click",function(s){return e.onClick(s.target)},!1,Xt),t&2&&(ie("tuiTheme",e.theme),oe("_untouchable",e.pointer)("_mobile",e.isMobile))},features:[l([Ue,be({size:"s"})]),E([ye,Te,Fe])],ngContentSelectors:Be,decls:2,vars:2,consts:[[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerHTML"]],template:function(t,e){t&1&&(se(),pe(0),at(1,je,1,1,"span",0)),t&2&&(te(),G("polymorpheusOutlet",e.content())("polymorpheusOutletContext",e.hint.context()))},dependencies:[ft],styles:[`[_nghost-%COMP%]{position:absolute;max-inline-size:min(20rem,calc(100% - 1rem));padding:.75rem 1rem;background:var(--tui-background-accent-1);border-radius:var(--tui-radius-l);color:var(--tui-text-primary-on-accent-1);box-sizing:border-box;font:var(--tui-font-body-s);white-space:pre-line;overflow-wrap:break-word;transform-origin:var(--t-left) var(--t-top);--tui-background-elevation-2: var(--tui-background-elevation-3)}.tui-enter[_nghost-%COMP%], .tui-leave[_nghost-%COMP%]{animation-name:tuiFade}[_nghost-%COMP%]   tui-root._mobile.tui-enter[_nghost-%COMP%], tui-root._mobile   .tui-enter[_nghost-%COMP%]{animation:tuiFade var(--tui-duration) ease-in-out,tuiScale var(--tui-duration) cubic-bezier(.34,1.56,.64,1)}[_nghost-%COMP%]   tui-root._mobile.tui-leave[_nghost-%COMP%], tui-root._mobile   .tui-leave[_nghost-%COMP%]{animation:tuiFade var(--tui-duration) ease-in-out reverse,tuiScale var(--tui-duration) ease-in-out reverse}[_nghost-%COMP%]:before{content:"";position:absolute;top:var(--t-top);left:var(--t-left);inline-size:.75rem;block-size:.5rem;background:inherit;-webkit-mask-image:url('data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>');mask-image:url('data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>');transition:none;transform:translate(-50%,-50%) rotate(var(--t-rotate))}._mobile[_nghost-%COMP%]{font:var(--tui-font-body-m)}._mobile[_nghost-%COMP%]:before{inline-size:1.5rem;block-size:1.125rem;-webkit-mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>');mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>')}[_nghost-%COMP%]:not([style*=top]){visibility:hidden}._untouchable[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%]     [tuiTitle]{margin-block-end:.75rem}[_nghost-%COMP%]     [tuiTitle]+footer{margin-block-start:.75rem}[_nghost-%COMP%]     [tuiIconButton][data-appearance=icon][data-size=xs]{float:inline-end;margin-inline-end:-.25rem}[_nghost-%COMP%]     img{display:block;border-radius:var(--tui-radius-m)}[_nghost-%COMP%]     footer{display:flex;justify-content:flex-end;gap:.5rem;inline-size:18rem;max-inline-size:100%;margin:1rem 0 .25rem}`],changeDetection:0}),tt([lt],w.prototype,"apply",1);var K=w;var ke=new rt("",{factory:()=>K});var M=class M extends xe{constructor(){super(...arguments);this.type="hint"}};M.\u0275fac=(()=>{let t;return function(r){return(t||(t=T(M)))(r||M)}})(),M.\u0275dir=n({type:M,features:[m]});var Q=M;var F=class F{constructor(){this.service=o(Ce);this.content=c(null,{alias:"tuiHint"});this.context=c(void 0,{alias:"tuiHintContext"});this.appearance=c(o(g).appearance,{alias:"tuiHintAppearance"});this.visible=st({alias:"tuiHintVisible"});this.component=o(j);this.el=y();this.type="hint"}ngOnChanges(){this.content()||this.toggle(!1)}ngOnDestroy(){this.toggle(!1)}getClientRect(){return this.el.getBoundingClientRect()}toggle(i){i&&this.content()&&!this.ref?(this.ref=this.service.add(this.component),this.visible.emit(!0)):this.ref&&(this.ref.destroy(),this.ref=void 0,this.visible.emit(!1))}};F.\u0275fac=function(t){return new(t||F)},F.\u0275dir=n({type:F,selectors:[["","tuiHint","",5,"ng-container",5,"ng-template"]],inputs:{content:[1,"tuiHint","content"],context:[1,"tuiHintContext","context"],appearance:[1,"tuiHintAppearance","appearance"]},outputs:{visible:"tuiHintVisible"},features:[l([Ie(F),{provide:j,deps:[ke,nt],useClass:j}]),E([Q,{directive:v,inputs:["tuiHintHideDelay","tuiHintHideDelay","tuiHintShowDelay","tuiHintShowDelay"]},{directive:x,inputs:["tuiHintDirection","tuiHintDirection","tuiHintOffset","tuiHintOffset"],outputs:["tuiHintDirectionChange","tuiHintDirectionChange"]}]),N]});var f=F;var R=class R extends ${constructor(){super(t=>this.stream$.subscribe(t));this.doc=o(ce);this.el=y();this.element=ae((t=this.id())=>t?this.doc.querySelector(`#${t}`)||this.el:this.el);this.id=c("",{alias:"tuiHintDescribe"});this.type="hint";this.stream$=le(this.id).pipe(Tt(),fe(()=>jt(this.doc,"keydown",{capture:!0}),ue),Y(()=>this.focused?C(!1):it(xt(this.doc,"keyup"),xt(this.element(),"blur")).pipe(k(()=>this.focused))),zt(t=>t?Ut(1e3):C(null)),Zt(!1),Tt(),Vt(1),he())}get focused(){return ve(this.element())}};R.\u0275fac=function(e){return new(e||R)},R.\u0275dir=n({type:R,selectors:[["","tuiHintDescribe",""]],inputs:{id:[1,"tuiHintDescribe","id"]},features:[l([H(R)]),m]});var Rt=R;var A=class A extends ${constructor(){super(t=>this.stream$.subscribe(t));this.hover=o(v);this.stream$=new Bt(!1);this.visible=c(!1,{alias:"tuiHintManual"});this.type="hint";this.hover.enabled=!1}ngOnChanges(){this.stream$.next(!!this.visible()),this.hover.enabled=this.visible()===null}};A.\u0275fac=function(e){return new(e||A)},A.\u0275dir=n({type:A,selectors:[["","tuiHint","","tuiHintManual",""]],inputs:{visible:[1,"tuiHintManual","visible"]},features:[l([H(A)]),m,N]});var At=A;var W=class W{constructor(){this.hint=o(f);this.content=c("",{alias:"tuiHintOverflow"})}onMouseEnter({scrollWidth:i,clientWidth:t,textContent:e}){ut(this.hint.content,i>t&&this.content()!==null?this.content()||e:"")}};W.\u0275fac=function(t){return new(t||W)},W.\u0275dir=n({type:W,selectors:[["","tuiHintOverflow",""]],hostBindings:function(t,e){t&1&&_("mouseenter",function(s){return e.onMouseEnter(s.currentTarget)})},inputs:{content:[1,"tuiHintOverflow","content"]},features:[E([{directive:f,inputs:["tuiHintAppearance","tuiHintAppearance"]}])]});var St=W;var P=class P extends U{constructor(){super(...arguments);this.tuiHintHost=c();this.type="hint"}getClientRect(){var t;return((t=this.tuiHintHost())==null?void 0:t.getBoundingClientRect())||L}};P.\u0275fac=(()=>{let t;return function(r){return(t||(t=T(P)))(r||P)}})(),P.\u0275dir=n({type:P,selectors:[["","tuiHint","","tuiHintHost",""]],inputs:{tuiHintHost:[1,"tuiHintHost"]},features:[l([ht(P)]),m]});var kt=P;export{ke as a,Mt as b,Re as c,g as d,Ke as e,vt as f,v as g,f as h,J as i,Ft as j,Ue as k,K as l,Rt as m,kt as n,At as o,St as p};
