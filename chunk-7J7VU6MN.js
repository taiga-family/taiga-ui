import{c as De,d as j,e as Oe,f as Pe,g as we,i as ft,j as xe,k as U,l as D,m as Ie,o as Mt,p as Me}from"./chunk-B5LEU4Z2.js";import{$ as Te,S as mt,Z as Ce,c as ye,d as be,ja as dt,ka as Fe}from"./chunk-7UTDH6I4.js";import{a as z}from"./chunk-CKE7NNGO.js";import{Ab as B,Cb as ht,Ea as y,Ga as fe,Jb as He,N as ct,Oa as It,Ob as $,Ra as de,Xa as ve,_b as Re,a as wt,bb as ge,d as ue,ea as me,ia as lt,ja as xt,la as ut,oa as he,r as L}from"./chunk-6HQJZZJ3.js";import{a as le}from"./chunk-4QJHFCQC.js";import{Ba as Pt,Bc as _,Ca as qt,Cb as te,D as Ut,Da as Kt,Db as ee,Dc as pe,E as $t,Ea as nt,Ec as ae,Fb as ie,G as ot,I as zt,Ka as E,P as Vt,Pa as H,U as Tt,Ub as pt,V as Ht,Wb as n,Xc as l,Ya as st,Yb as m,Za as c,Zb as N,_b as at,ab as Qt,ca as Dt,fc as oe,ga as Wt,gc as q,i as it,ia as Zt,ic as re,j as jt,ja as J,la as Ot,ma as Yt,na as Gt,s as T,sa as Jt,sc as ne,td as ce,vc as se,w as k,wa as rt,wb as Xt,za as o}from"./chunk-ET2ZSIIN.js";import{a as Lt,b as Bt,h as et}from"./chunk-42JZD6NG.js";var Ft=["bottom-left","bottom","bottom-right","top-left","top","top-right","left-top","left","left-bottom","right-top","right","right-bottom"],Ae={direction:"bottom-left",showDelay:500,hideDelay:200,appearance:"",icon:"@tui.circle-help"},b=new rt("",{factory:()=>Ae}),Xe=f=>({provide:b,deps:[[new Pt,new qt,vt],[new Pt,new Kt,b]],useFactory:Fe(f,Ae)}),x=class x{constructor(){this.options=o(b,{skipSelf:!0});this.direction=this.options.direction;this.appearance=this.options.appearance;this.showDelay=this.options.showDelay;this.hideDelay=this.options.hideDelay;this.icon=this.options.icon;this.change$=new it}ngOnChanges(){this.change$.next()}};x.\u0275fac=function(t){return new(t||x)},x.\u0275dir=n({type:x,selectors:[["","tuiHintContent",""]],inputs:{content:[0,"tuiHintContent","content"],direction:[0,"tuiHintDirection","direction"],appearance:[0,"tuiHintAppearance","appearance"],showDelay:[0,"tuiHintShowDelay","showDelay"],hideDelay:[0,"tuiHintHideDelay","hideDelay"]},features:[l([he(b,x)]),E]});var vt=x;var O=class O extends U{constructor(){super(t=>this.stream$.subscribe(t));this.isMobile=o($);this.el=y();this.hovered$=o(z);this.options=o(b);this.visible=!1;this.toggle$=new it;this.stream$=ot(this.toggle$.pipe(J(t=>this.isMobile?T(t):T(t).pipe(Tt(t?0:this.hideDelay()))),Ot(this.hovered$),Dt()),this.hovered$.pipe(J(t=>this.isMobile?T(t):T(t).pipe(Tt(t?this.showDelay():this.hideDelay()))),Ot(this.toggle$),Dt())).pipe(zt(()=>this.enabled),k(t=>t&&(this.el.hasAttribute("tuiHintPointer")||!dt(this.el))),Gt(t=>{this.visible=t}));this.parent=o(O,{optional:!0,skipSelf:!0});this.showDelay=c(this.options.showDelay,{alias:"tuiHintShowDelay"});this.hideDelay=c(this.options.hideDelay,{alias:"tuiHintHideDelay"});this.type="hint";this.enabled=!0}toggle(t=!this.visible){var e;this.toggle$.next(t),(e=this.parent)==null||e.toggle(t)}close(){this.toggle$.next(!1)}};O.\u0275fac=function(e){return new(e||O)},O.\u0275dir=n({type:O,inputs:{showDelay:[1,"tuiHintShowDelay","showDelay"],hideDelay:[1,"tuiHintHideDelay","hideDelay"]},exportAs:["tuiHintHover"],features:[l([D(O),z]),m]});var g=O;var C=class C extends g{constructor(){super(...arguments);this.currentRect=L}getClientRect(){return this.currentRect}onMove({clientX:t,clientY:e}){this.currentRect=fe(t,e)}};C.\u0275fac=(()=>{let t;return function(r){return(t||(t=H(C)))(r||C)}})(),C.\u0275dir=n({type:C,selectors:[["","tuiHint","","tuiHintPointer",""]],hostBindings:function(e,r){e&1&&_("mousemove.zoneless",function(u){return r.onMove(u)})},features:[l([ft(C),D(C)]),m]});var K=C;var gt=8,yt=24,s=0,p=1,P=class P extends De{constructor(){super(...arguments);this.el=y();this.offset=o($)?16:8;this.viewport=o(mt);this.accessor=Oe("hint")(o(j,{optional:!0}),{getClientRect:()=>this.el.getBoundingClientRect()});this.points=Ft.reduce((t,e)=>Bt(Lt({},t),{[e]:[0,0]}),{});this.direction=c(o(b).direction,{alias:"tuiHintDirection"});this.directionChange=st({alias:"tuiHintDirectionChange"});this.type="hint"}emitDirection(t){this.directionChange.emit(t)}getPosition(t,e){let r=this.direction(),a=(e==null?void 0:e.clientWidth)??t.width,u=(e==null?void 0:e.clientHeight)??t.height,d=this.accessor.getClientRect(),Y=d.left+d.width/2,G=d.top+d.height/2,Nt=this.el.matches('[dir="rtl"] :scope');this.points["top-left"][s]=d.top-u-this.offset,this.points["top-left"][p]=Y-a+yt,this.points.top[s]=this.points["top-left"][s],this.points.top[p]=Y-a/2,this.points["top-right"][s]=this.points["top-left"][s],this.points["top-right"][p]=Y-yt,this.points["bottom-left"][s]=d.bottom+this.offset,this.points["bottom-left"][p]=this.points["top-left"][p],this.points.bottom[s]=this.points["bottom-left"][s],this.points.bottom[p]=this.points.top[p],this.points["bottom-right"][s]=this.points["bottom-left"][s],this.points["bottom-right"][p]=this.points["top-right"][p],this.points["left-top"][s]=G-u+yt,this.points["left-top"][p]=d.left-a-this.offset,this.points.left[s]=G-u/2,this.points.left[p]=this.points["left-top"][p],this.points["left-bottom"][s]=G-yt,this.points["left-bottom"][p]=this.points["left-top"][p],this.points["right-top"][s]=this.points["left-top"][s],this.points["right-top"][p]=d.right+this.offset,this.points.right[s]=this.points.left[s],this.points.right[p]=this.points["right-top"][p],this.points["right-bottom"][s]=this.points["left-bottom"][s],this.points["right-bottom"][p]=this.points["right-top"][p];let _t=(Array.isArray(r)?r:[r]).map(Ct=>Se(Ct,Nt)).concat(Ft).find(Ct=>this.checkPosition(this.points[Ct],a,u))||this.fallback;return this.emitDirection(Se(_t,Nt)),this.points[_t]}get fallback(){return this.points.top[s]>this.viewport.getClientRect().bottom-this.points.bottom[s]?"top":"bottom"}checkPosition([t,e],r,a){let u=this.viewport.getClientRect();return t>u.top+gt&&e>u.left+gt&&t+a<u.bottom-gt&&e+r<u.right-gt}};P.\u0275fac=(()=>{let t;return function(r){return(t||(t=H(P)))(r||P)}})(),P.\u0275dir=n({type:P,inputs:{direction:[1,"tuiHintDirection","direction"]},outputs:{directionChange:"tuiHintDirectionChange"},features:[m]}),et([lt],P.prototype,"emitDirection",1);var I=P;function Se(f,i){return i&&f.includes("left")?f.replace("left","right"):i&&f.includes("right")?f.replace("right","left"):f}function Be(f,i){f&1&&se(0)}var V=class V{constructor(){this.hint=o(h)}};V.\u0275fac=function(t){return new(t||V)},V.\u0275cmp=pt({type:V,selectors:[["ng-component"]],decls:1,vars:1,consts:[[4,"polymorpheusOutlet"]],template:function(t,e){t&1&&at(0,Be,1,0,"ng-container",0),t&2&&q("polymorpheusOutlet",e.hint.content())},dependencies:[ht],encapsulation:2,changeDetection:0});var Q=V,W=class W{constructor(){let i=o(h);ut(i.content,o(ie)),i.component=new B(Q,o(nt))}};W.\u0275fac=function(t){return new(t||W)},W.\u0275dir=n({type:W,selectors:[["ng-template","tuiHint",""]]});var Rt=W;var je=["*"];function Ue(f,i){if(f&1&&ne(0,"span",1),f&2){let t=i.polymorpheusOutlet;q("innerHTML",t,Xt)}}var $e=[Mt,z,Pe("hint",I),we("hint",Jt(()=>h))],bt=8,ke,M=class M{constructor(){this.el=y();this.hover=o(g);this.vvs=o(Me);this.viewport=o(mt);this.pointer=o(K,{optional:!0});this.accessor=o(j);this.hint=o(h);this.isMobile=o($);this.content=this.hint.component.component===Q?Qt(""):this.hint.content;this.theme=(ke=this.hint.el.closest("[tuiTheme]"))==null?void 0:ke.getAttribute("tuiTheme");this.appearance=be(this.hint.appearance);o(Mt).pipe(Yt(()=>this.hint.el.isConnected),k(i=>this.vvs.correct(i)),wt()).subscribe({next:([i,t])=>this.update(i,t),complete:()=>this.hover.close()}),o(z).pipe(wt()).subscribe(i=>this.hover.toggle(i))}onClick(i){(!i.closest(this.el.tagName)&&!this.hint.el.contains(i)||dt(this.hint.el))&&this.hover.toggle(!1)}apply(i,t,e,r){this.el.style.top=i,this.el.style.left=t,this.el.style.setProperty("--t-top",`${e}%`),this.el.style.setProperty("--t-left",`${r}%`),this.el.style.setProperty("--t-rotate",!r||Math.ceil(r)===100?"90deg":"0deg")}update(i,t){let{clientHeight:e,clientWidth:r}=this.el,a=this.accessor.getClientRect();if(a===L||!e||!r)return;let u=this.viewport.getClientRect(),d=ct(Math.max(bt,t),u.left+bt,Math.max(bt,u.width+u.left-r-bt)),[Y,G]=this.vvs.correct([a.top+a.height/2-i,a.left+a.width/2-d]);this.apply(xt(Math.round(i)),xt(Math.round(d)),Math.round(ct(Y,0,e)/e*100),Math.round(ct(G,0,r)/r*100))}};M.\u0275fac=function(t){return new(t||M)},M.\u0275cmp=pt({type:M,selectors:[["tui-hint"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(t,e){t&1&&_("click",function(a){return e.onClick(a.target)},!1,te),t&2&&(oe("tuiTheme",e.theme),re("_untouchable",e.pointer)("_mobile",e.isMobile))},features:[l([$e,Ce({size:"s"})]),N([ye,He,Re])],ngContentSelectors:je,decls:2,vars:2,consts:[[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerHTML"]],template:function(t,e){t&1&&(pe(),ae(0),at(1,Ue,1,1,"span",0)),t&2&&(ee(),q("polymorpheusOutlet",e.content())("polymorpheusOutletContext",e.hint.context()))},dependencies:[ht],styles:[`[_nghost-%COMP%]{position:absolute;max-inline-size:min(20rem,calc(100% - 1rem));padding:.75rem 1rem;background:var(--tui-background-accent-1);border-radius:var(--tui-radius-l);color:var(--tui-text-primary-on-accent-1);box-sizing:border-box;font:var(--tui-font-text-s);white-space:pre-line;overflow-wrap:break-word;transform-origin:var(--t-left) var(--t-top);--tui-background-elevation-2: var(--tui-background-elevation-3)}.tui-enter[_nghost-%COMP%], .tui-leave[_nghost-%COMP%]{animation-name:tuiFade}[_nghost-%COMP%]   tui-root._mobile.tui-enter[_nghost-%COMP%], tui-root._mobile   .tui-enter[_nghost-%COMP%]{animation:tuiFade var(--tui-duration) ease-in-out,tuiScale var(--tui-duration) cubic-bezier(.34,1.56,.64,1)}[_nghost-%COMP%]   tui-root._mobile.tui-leave[_nghost-%COMP%], tui-root._mobile   .tui-leave[_nghost-%COMP%]{animation:tuiFade var(--tui-duration) ease-in-out reverse,tuiScale var(--tui-duration) ease-in-out reverse}[_nghost-%COMP%]:before{content:"";position:absolute;top:var(--t-top);left:var(--t-left);inline-size:.75rem;block-size:.5rem;background:inherit;-webkit-mask-image:url('data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>');mask-image:url('data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>');transition:none;transform:translate(-50%,-50%) rotate(var(--t-rotate))}._mobile[_nghost-%COMP%]{font:var(--tui-font-text-m)}._mobile[_nghost-%COMP%]:before{inline-size:1.5rem;block-size:1.125rem;-webkit-mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>');mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>')}[_nghost-%COMP%]:not([style*=top]){visibility:hidden}._untouchable[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%]     [tuiTitle]{margin-block-end:.75rem}[_nghost-%COMP%]     [tuiTitle]+footer{margin-block-start:.75rem}[_nghost-%COMP%]     [tuiIconButton][data-appearance=icon][data-size=xs]{float:inline-end;margin-inline-end:-.25rem}[_nghost-%COMP%]     img{display:block;border-radius:var(--tui-radius-m)}[_nghost-%COMP%]     footer{display:flex;justify-content:flex-end;gap:.5rem;inline-size:18rem;max-inline-size:100%;margin:1rem 0 .25rem}`],changeDetection:0}),et([lt],M.prototype,"apply",1);var X=M;var Ee=new rt("",{factory:()=>X});var F=class F extends Ie{constructor(){super(...arguments);this.type="hint"}};F.\u0275fac=(()=>{let t;return function(r){return(t||(t=H(F)))(r||F)}})(),F.\u0275dir=n({type:F,features:[m]});var tt=F;var R=class R{constructor(){this.service=o(Te);this.content=c(null,{alias:"tuiHint"});this.context=c(void 0,{alias:"tuiHintContext"});this.appearance=c(o(b).appearance,{alias:"tuiHintAppearance"});this.visible=st({alias:"tuiHintVisible"});this.component=o(B);this.el=y();this.type="hint"}ngOnChanges(){this.content()||this.toggle(!1)}ngOnDestroy(){this.toggle(!1)}getClientRect(){return this.el.getBoundingClientRect()}toggle(i){i&&this.content()&&!this.ref?(this.ref=this.service.add(this.component),this.visible.emit(!0)):this.ref&&(this.ref.destroy(),this.ref=void 0,this.visible.emit(!1))}};R.\u0275fac=function(t){return new(t||R)},R.\u0275dir=n({type:R,selectors:[["","tuiHint","",5,"ng-container",5,"ng-template"]],inputs:{content:[1,"tuiHint","content"],context:[1,"tuiHintContext","context"],appearance:[1,"tuiHintAppearance","appearance"]},outputs:{visible:"tuiHintVisible"},features:[l([xe(R),{provide:B,deps:[Ee,nt],useClass:B}]),N([tt,{directive:g,inputs:["tuiHintHideDelay","tuiHintHideDelay","tuiHintShowDelay","tuiHintShowDelay"]},{directive:I,inputs:["tuiHintDirection","tuiHintDirection"],outputs:["tuiHintDirectionChange","tuiHintDirectionChange"]}]),E]});var h=R;var A=class A extends U{constructor(){super(t=>this.stream$.subscribe(t));this.doc=o(le);this.el=y();this.element=ce((t=this.id())=>t?this.doc.querySelector(`#${t}`)||this.el:this.el);this.id=c("",{alias:"tuiHintDescribe"});this.type="hint";this.stream$=ue(this.id).pipe(Ht(),de(()=>Ut(this.doc,"keydown",{capture:!0}),me),J(()=>this.focused?T(!1):ot(It(this.doc,"keyup"),It(this.element(),"blur")).pipe(k(()=>this.focused))),Vt(t=>t?$t(1e3):T(null)),Zt(!1),Ht(),Wt(1),ve())}get focused(){return ge(this.element())}};A.\u0275fac=function(e){return new(e||A)},A.\u0275dir=n({type:A,selectors:[["","tuiHintDescribe",""]],inputs:{id:[1,"tuiHintDescribe","id"]},features:[l([D(A)]),m]});var At=A;var S=class S extends U{constructor(){super(t=>this.stream$.subscribe(t));this.hover=o(g);this.stream$=new jt(!1);this.visible=c(!1,{alias:"tuiHintManual"});this.type="hint";this.hover.enabled=!1}ngOnChanges(){this.stream$.next(!!this.visible()),this.hover.enabled=this.visible()===null}};S.\u0275fac=function(e){return new(e||S)},S.\u0275dir=n({type:S,selectors:[["","tuiHint","","tuiHintManual",""]],inputs:{visible:[1,"tuiHintManual","visible"]},features:[l([D(S)]),m,E]});var St=S;var Z=class Z{constructor(){this.hint=o(h);this.content=c("",{alias:"tuiHintOverflow"})}onMouseEnter({scrollWidth:i,clientWidth:t,textContent:e}){ut(this.hint.content,i>t&&this.content()!==null?this.content()||e:"")}};Z.\u0275fac=function(t){return new(t||Z)},Z.\u0275dir=n({type:Z,selectors:[["","tuiHintOverflow",""]],hostBindings:function(t,e){t&1&&_("mouseenter",function(a){return e.onMouseEnter(a.currentTarget)})},inputs:{content:[1,"tuiHintOverflow","content"]},features:[N([{directive:h,inputs:["tuiHintAppearance","tuiHintAppearance"]}])]});var kt=Z;var w=class w extends j{constructor(){super(...arguments);this.tuiHintHost=c();this.type="hint"}getClientRect(){var t;return((t=this.tuiHintHost())==null?void 0:t.getBoundingClientRect())||L}};w.\u0275fac=(()=>{let t;return function(r){return(t||(t=H(w)))(r||w)}})(),w.\u0275dir=n({type:w,selectors:[["","tuiHint","","tuiHintHost",""]],inputs:{tuiHintHost:[1,"tuiHintHost"]},features:[l([ft(w)]),m]});var Et=w;export{Ee as a,Ft as b,Ae as c,b as d,Xe as e,vt as f,g,h,K as i,Rt as j,$e as k,X as l,At as m,Et as n,St as o,kt as p};
