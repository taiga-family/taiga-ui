import{e as f}from"./chunk-APX5FNMN.js";import{f as m,h}from"./chunk-KQRRNRNM.js";import{a as d,pb as g}from"./chunk-OBFPZKWW.js";import{Ea as u,U as l,Vb as c,ja as p,r as n,s,za as a}from"./chunk-MGMBASVD.js";var o=class o{constructor(){this.route=a(m);this.router=a(h);this.injector=a(u);this.initialUrl=this.router.url;this.dialog=a(f);let{dialog:t}=this.route.snapshot.data;n(y(t)?s(t):t().then(e=>e.default??e)).pipe(l(0),p(e=>this.dialog.open(new g(e,this.injector),this.route.snapshot.data.dialogOptions)),d()).subscribe({complete:()=>this.onDialogClosing()})}get lazyLoadedBackUrl(){var t;return(((t=this.route.parent)==null?void 0:t.snapshot.url)||[]).map(()=>"..").join("/")}onDialogClosing(){this.initialUrl===this.router.url&&this.navigateToParent()}navigateToParent(){let t=this.route.snapshot.data.isLazy?this.lazyLoadedBackUrl:this.route.snapshot.data.backUrl;this.router.navigate([t],{relativeTo:this.route})}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=c({type:o,selectors:[["tui-routable-dialog"]],decls:0,vars:0,template:function(e,v){},encapsulation:2,changeDetection:0});var i=o;function y(r){var t;return typeof r=="function"&&((t=Object.getOwnPropertyDescriptor(r,"prototype"))==null?void 0:t.writable)===!1}export{i as a};
