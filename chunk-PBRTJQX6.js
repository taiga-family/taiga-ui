import{Ba as $,Da as I,ua as H}from"./chunk-QYE6BRLY.js";import"./chunk-VJ5NJ5G6.js";import"./chunk-CJ4EEFLC.js";import"./chunk-SVUVAGA5.js";import{j as b,k as V,l as z}from"./chunk-HZY6KHTL.js";import"./chunk-B4FURJ5X.js";import"./chunk-7UGDNWOL.js";import"./chunk-AVZQ5FYG.js";import"./chunk-3K5B6ZFJ.js";import"./chunk-77D46EB5.js";import"./chunk-VFUWH7UJ.js";import"./chunk-2MFSAHCZ.js";import"./chunk-ZZDBPDL5.js";import"./chunk-VYGUMXCT.js";import"./chunk-GXOFTGOU.js";import"./chunk-7UWLURE4.js";import"./chunk-PG52RPMH.js";import"./chunk-CECFGQK2.js";import"./chunk-ESL4LT5Z.js";import"./chunk-4H5JC6OQ.js";import"./chunk-MFXAPE46.js";import"./chunk-OOOGG2EO.js";import"./chunk-3JGTWRRM.js";import"./chunk-2NNJ62PY.js";import"./chunk-SRPRK7WC.js";import"./chunk-JNMFWLAQ.js";import"./chunk-G7V5KCZI.js";import"./chunk-XNOQ4KC2.js";import"./chunk-KYPSXI7P.js";import"./chunk-EOY6USMZ.js";import"./chunk-355QVY7S.js";import"./chunk-643UB756.js";import"./chunk-KI2HOOVL.js";import"./chunk-LL2PODKS.js";import"./chunk-XO7RFL6W.js";import"./chunk-HRKWSBLS.js";import"./chunk-S7AVUTSU.js";import"./chunk-NRW7GMFX.js";import"./chunk-DIP5DK36.js";import"./chunk-HXK3GUMY.js";import"./chunk-GSIOPKQB.js";import"./chunk-RIDLJBE2.js";import"./chunk-776UH3NW.js";import"./chunk-2ZAJENVJ.js";import"./chunk-U7E5I6OK.js";import"./chunk-A5CZPNGX.js";import{Ac as m,Bc as l,Cb as C,La as p,Lc as D,Ma as s,Mc as _,Oc as x,Tb as N,Zb as u,bb as v,fc as w,hc as y,id as M,kc as P,md as O,pc as d,qc as c,vc as E,za as h}from"./chunk-AXUCSVX7.js";import"./chunk-B4AJQJMI.js";function k(i,t){if(i&1){let e=E();d(0,"div",2)(1,"div",3),m("pointerup",function(){p(e);let r=l().$implicit,o=l();return s(o.onDrop(r))}),c(),d(2,"tui-tiles",4)(3,"tui-tile")(4,"div",5),m("pointerdown",function(){p(e);let r=l().$implicit,o=l();return s(o.onDrag(r))}),_(5),c()()(),d(6,"div",3),m("pointerup",function(){p(e);let r=l().$implicit,o=l();return s(o.onDrop(r,1))}),c()()}if(i&2){let e=l().$implicit;C(5),x(" ",e.text," ")}}function j(i,t){if(i&1&&_(0),i&2){let e=l().$implicit;x(" ",e.text," ")}}function R(i,t){if(i&1&&u(0,k,7,1,"div",2)(1,j,1,1),i&2){let e=t.$implicit;P(e.children?1:0)}}var a=class a{constructor(){this.drag=v(null);this.cd=h(O);this.data={text:"Topmost",children:[{text:"Top level 1",children:[{text:"Another item",children:[{text:"Next level 1"},{text:"Next level 2"},{text:"Next level 3"}]}]},{text:"Top level 2"},{text:"Top level 3",children:[{text:"Test 1"},{text:"Test 2"}]}]};this.handler=t=>t.children||[]}onDrag(t){this.drag.set(t)}onDrop(t,e=0){let n=this.drag();if(!n)return;let r=g(n,this.data),o=g(t,this.data);r&&(r.children=r?.children?.filter(S=>S!==n));let f=(o?.children?.indexOf(t)??0)+e;o?.children&&(o.children=[...o.children.slice(0,f),n,...o.children.slice(f)]),this.drag.set(null)}};a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=N({type:a,selectors:[["ng-component"]],decls:3,vars:6,consts:[["content",""],[1,"tree",3,"childrenHandler","content","tuiTreeController","value"],[1,"wrapper"],[1,"drop",3,"pointerup"],[1,"tiles"],["tuiTileHandle","",1,"content",3,"pointerdown"]],template:function(e,n){if(e&1&&(d(0,"tui-tree",1),u(1,R,2,1,"ng-template",null,0,M),c()),e&2){let r=D(2);y("_dragged",n.drag()),w("childrenHandler",n.handler)("content",r)("tuiTreeController",!0)("value",n.data)}},dependencies:[b,V,z,$,H,I],styles:[".tree._dragged[_ngcontent-%COMP%]   .drop[_ngcontent-%COMP%]{pointer-events:auto}.tree._dragged[_ngcontent-%COMP%]   .drop[_ngcontent-%COMP%]:hover{opacity:1}.wrapper[_ngcontent-%COMP%]{position:relative;inline-size:100%}.content[_ngcontent-%COMP%]{display:flex;inline-size:100%;align-items:center}.tiles[_ngcontent-%COMP%]{inline-size:100%;grid-template-rows:1.5rem}.drop[_ngcontent-%COMP%]{position:absolute;z-index:1;inline-size:100%;block-size:.5rem;margin-block-start:-.25rem;background:#87ceeb;border-radius:1rem;opacity:0;pointer-events:none}"],changeDetection:0});var T=a;function g(i,t){if(!t.children)return null;if(t.children.includes(i))return t;for(let e of t.children){let n=g(i,e);if(n)return n}return null}export{T as default};
