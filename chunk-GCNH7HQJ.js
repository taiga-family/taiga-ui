import{b as ce,c as pe}from"./chunk-UKK5U7WG.js";import{e as de,f as ue}from"./chunk-FDFWDCDP.js";import{$ as A,B as _,L as re,N as le,Q as se,U as ae,Z as k,aa as E,u as ne,v as oe}from"./chunk-RZCCBQDO.js";import{e as F}from"./chunk-AUTSCKKF.js";import{i as M,j as N}from"./chunk-PQPSIBCB.js";import{ka as ie,qa as c}from"./chunk-LIWNYESY.js";import{p as te}from"./chunk-5ENH3QN6.js";import{Aa as r,Bc as H,Cc as a,Db as m,Mc as W,Nc as R,Pc as $,Qa as x,Ub as S,Uc as Y,Vc as Z,Wb as K,Wc as U,Xc as T,Yb as b,Za as C,Zb as f,Zc as q,_b as p,fc as Q,gc as d,ic as X,jd as ee,lc as g,nc as w,oc as L,pc as V,qc as O,rc as I,sc as j,td as h,ud as P,vc as z,xc as D}from"./chunk-X7N7YQIF.js";var _e=["tuiSelect",""],fe=i=>({$implicit:i});function ye(i,n){if(i&1&&(O(0,"option",1),R(1),I()),i&2){let e=a();m(),$(" ",e.placeholder()," ")}}function ge(i,n){i&1&&z(0)}function ve(i,n){if(i&1&&(O(0,"optgroup",2),p(1,ge,1,0,"ng-container",3),I()),i&2){let e=n.$index,t=a(2),o=W(5),u=U(1);d("label",t.labels()[e]),m(),d("ngTemplateOutlet",o)("ngTemplateOutletContext",q(3,fe,u[e]))}}function xe(i,n){if(i&1&&L(0,ve,2,5,"optgroup",2,w),i&2){let e=a();V(e.labels())}}function Ce(i,n){i&1&&z(0)}function Se(i,n){if(i&1&&p(0,Ce,1,0,"ng-container",3),i&2){a();let e=W(5),t=U(1);d("ngTemplateOutlet",e)("ngTemplateOutletContext",q(2,fe,t))}}function be(i,n){if(i&1&&(O(0,"option",4),R(1),I()),i&2){let e=n.$implicit,t=a(2);d("disabled",t.itemsHandlers.disabledItemHandler()(e))("selected",t.isSelected()(e))("value",t.itemsHandlers.stringify()(e)),m(),$(" ",t.itemsHandlers.stringify()(e)," ")}}function Oe(i,n){if(i&1&&L(0,be,2,4,"option",4,w),i&2){let e=n.$implicit;V(e)}}var l=class l extends M{constructor(){super(...arguments);this.textfield=r(A);this.isFlat=pe;this.itemsHandlers=r(_);this.stringified=h((e=this.value())=>c(e)?this.itemsHandlers.stringify()(e):"");this.showPlaceholder=h(()=>this.placeholder()&&!this.stringified());this.isSelected=h((e=this.value())=>t=>c(e)&&this.itemsHandlers.identityMatcher()(t,e));this.valueEffect=P(()=>{this.textfield.value.set(this.stringified())});this.items=C([]);this.labels=C([]);this.placeholder=C("")}setValue(e){this.onChange(e)}selectOption(e){var o;let t=((o=this.items())==null?void 0:o.flat())??[];this.onChange(t[e-(this.showPlaceholder()?1:0)]??null)}};l.\u0275fac=(()=>{let e;return function(o){return(e||(e=x(l)))(o||l)}})(),l.\u0275cmp=S({type:l,selectors:[["select","tuiSelect",""]],hostVars:2,hostBindings:function(t,o){t&1&&H("change",function(v){return o.selectOption(v.target.options.selectedIndex)}),t&2&&(D("disabled",!o.interactive()),Q("aria-invalid",o.invalid()))},inputs:{items:[1,"items"],labels:[1,"labels"],placeholder:[1,"placeholder"]},features:[T([k(l),N(l)]),f([E]),b],attrs:_e,decls:6,vars:3,consts:[["options",""],["disabled","","selected","","value",""],[3,"label"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"disabled","selected","value"]],template:function(t,o){if(t&1&&(p(0,ye,2,1,"option",1),Y(1),p(2,xe,2,0)(3,Se,1,4,"ng-container")(4,Oe,2,0,"ng-template",null,0,ee)),t&2){g(o.showPlaceholder()?0:-1),m();let u=Z(o.items());m(),g(u&&!o.isFlat(u)?2:3)}},dependencies:[te],encapsulation:2,changeDetection:0});var G=l;function Ie(i,n){if(i&1&&j(0,"input",0),i&2){let e=a();d("checked",e.selected())("size",e.datalist.size==="l"?"m":"s")}}function De(i,n){i&1&&j(0,"span",1)}var y=class y{constructor(){this.handlers=r(_);this.value=ce();this.datalist=r(se);this.option=r(le,{optional:!0});this.selected=h((n=this.value(),e=(t=>(t=this.option)==null?void 0:t.value())())=>c(e)&&c(n)&&this.handlers.identityMatcher()(n,e));this.scrolled=ie(F,"tuiScrollIntoView",this.selected)}};y.\u0275fac=function(e){return new(e||y)},y.\u0275cmp=S({type:y,selectors:[["ng-component"]],hostAttrs:["tuiSelectOption",""],hostVars:4,hostBindings:function(e,t){e&2&&X("_value",t.option)("_selected",t.selected())},features:[T([de({appearance:()=>"action"})]),f([F])],decls:2,vars:1,consts:[["tuiCheckbox","","type","checkbox",1,"t-check",3,"checked","size"],[1,"t-dummy"]],template:function(e,t){e&1&&p(0,Ie,1,2,"input",0)(1,De,1,0,"span",1),e&2&&g(t.selected()?0:1)},dependencies:[ue],styles:["._value[_nghost-%COMP%] > .t-check[_ngcontent-%COMP%], ._value[_nghost-%COMP%] > .t-dummy[_ngcontent-%COMP%]{order:100;margin-inline-start:auto;pointer-events:none}._value._selected[_nghost-%COMP%] ~   [tuiSelectOption]>.t-check:before{opacity:0}[_nghost-%COMP%]:not(._value) > .t-check[_ngcontent-%COMP%], tui-dropdown-mobile[_nghost-%COMP%] > .t-check[_ngcontent-%COMP%], tui-dropdown-mobile   [_nghost-%COMP%] > .t-check[_ngcontent-%COMP%]{display:none}.t-check[_ngcontent-%COMP%]:before{font-size:var(--t-size)}.t-dummy[_ngcontent-%COMP%]{inline-size:1.5rem}"],changeDetection:0});var B=y;var s=class s extends M{constructor(){super(...arguments);this.textfield=r(A);this.open=oe();this.itemsHandlers=r(_);this.dropdownEnabled=ne(this.interactive);this.valueEffect=P(()=>{let e=this.value(),t=c(e)?this.itemsHandlers.stringify()(e):"";this.textfield.value.set(t)})}setValue(e){this.onChange(e),e||this.open.set(!0)}};s.\u0275fac=(()=>{let e;return function(o){return(e||(e=x(s)))(o||s)}})(),s.\u0275dir=K({type:s,selectors:[["input","tuiSelect",""]],hostVars:1,hostBindings:function(t,o){t&1&&H("input",function(v){return(v.inputType==null?null:v.inputType.includes("delete"))&&o.setValue(null)}),t&2&&D("disabled",o.disabled())},features:[T([re(B),k(s),N(s)]),f([E,ae]),b]});var J=s;export{G as a,B as b,J as c};
