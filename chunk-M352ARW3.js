import{B as Gt,D as Xt,f as Qt,g as qt,t as E,u as q}from"./chunk-7M3O6EFM.js";import"./chunk-AAQYAX7Q.js";import"./chunk-ENXYRILG.js";import"./chunk-LU7CBR4B.js";import"./chunk-UUF2F3I3.js";import{i as Kt,k as Jt}from"./chunk-EUQNLSXW.js";import"./chunk-2ONGVAMP.js";import"./chunk-2IDGPPFK.js";import"./chunk-KBIVRBUO.js";import"./chunk-K7KGTNGF.js";import"./chunk-JBAXSWYM.js";import"./chunk-GX7DWHP3.js";import"./chunk-QLHTNIA4.js";import"./chunk-7MABKNH2.js";import"./chunk-GXSZXBAX.js";import"./chunk-WVLZY2VJ.js";import{e as Q}from"./chunk-RSQ5DH3A.js";import"./chunk-AB3GID7E.js";import"./chunk-NNH7UGP7.js";import"./chunk-NG54SK4A.js";import"./chunk-TQP7NEQ6.js";import"./chunk-SFTRSDVA.js";import"./chunk-C7YSA266.js";import{b as Wt}from"./chunk-L6M7T63J.js";import"./chunk-IWKM7HB7.js";import"./chunk-MOCXYVGQ.js";import"./chunk-EGC2VL5L.js";import"./chunk-4ZENQNCK.js";import{l as I,q as jt}from"./chunk-VDOD6NOI.js";import"./chunk-ZWKWEEM2.js";import"./chunk-FTCBM4DE.js";import{n as K}from"./chunk-EBHFP2TI.js";import{F as J,g as $t}from"./chunk-TVFLXID6.js";import{K as Lt,fa as z}from"./chunk-6GXSYTJW.js";import"./chunk-LL2PODKS.js";import"./chunk-KFO6RLOG.js";import{e as zt}from"./chunk-YKUD726V.js";import"./chunk-ENZR5XDR.js";import"./chunk-S4NBTRTG.js";import"./chunk-5PABLJY7.js";import"./chunk-SXUQLDLW.js";import"./chunk-FDI6E7EX.js";import"./chunk-XPB6YNIV.js";import"./chunk-XHQXVLHQ.js";import"./chunk-PIT57PTL.js";import"./chunk-OBPPGIVQ.js";import{Ea as Nt,Oa as Ut,f as Ot,va as Bt,y as Pt}from"./chunk-TQEODDI3.js";import{a as It,h as Et,j as Rt}from"./chunk-KWZHGPWS.js";import{D as Mt,c as Ht,g as At,h as Dt,l as Vt,q as Ft}from"./chunk-TDHYON55.js";import{p as St,q as wt,w as kt}from"./chunk-GOJWO2R3.js";import{Ac as C,Bb as w,Bc as r,Cb as a,Cc as _t,Dc as dt,Eb as X,F as ot,Ic as ft,J as N,Ka as lt,Kc as Ct,La as u,Lc as ht,Ma as m,Mb as pt,Mc as c,Nc as x,Oc as S,Qc as L,Rc as $,Sc as W,Tb as k,Tc as yt,Uc as xt,Vb as ct,Vc as Y,Xc as gt,Yc as Tt,Zb as d,_a as U,cd as V,dd as vt,ed as Z,fc as f,ia as rt,id as bt,ja as at,kc as h,mc as g,nc as T,oc as v,pc as l,qc as p,rc as y,uc as ut,ud as j,vc as b,wb as st,wc as mt,x as B,za as _}from"./chunk-2UPKG2B4.js";import{a as it,b as nt}from"./chunk-B4AJQJMI.js";var[G,we]=Nt({key:"taiga-search-history",history:"@tui.clock",popular:"@tui.search",empty:"@tui.search",remove:"@tui.trash"});function te(n,e){if(n&1&&(l(0,"label",0),c(1),p()),n&2){let t=r();a(),x(t.i18n().history)}}function ee(n,e){if(n&1){let t=b();l(0,"button",2),C("click",function(){let o=u(t).$implicit,s=r();return m(s.select(o))})("keydown.backspace",function(){let o=u(t).$implicit,s=r();return m(s.remove(o))})("keydown.delete",function(){let o=u(t).$implicit,s=r();return m(s.remove(o))})("mousedown.prevent",function(){return u(t),m(0)}),y(1,"div",3),l(2,"span",4),c(3),p(),l(4,"button",5),C("click.stop",function(){let o=u(t).$implicit,s=r();return m(s.remove(o))}),c(5," \u{1F5D1}\uFE0F "),p()()}if(n&2){let t=e.$implicit,i=r();a(),f("tuiAvatar",i.options.history),a(2),x(t),a(),f("iconStart",i.options.remove)}}function ie(n,e){if(n&1&&(l(0,"label",0),c(1),p()),n&2){let t=r();a(),x(t.i18n().popular)}}function ne(n,e){if(n&1){let t=b();l(0,"button",6),C("click",function(){let o=u(t).$implicit,s=r();return m(s.select(o))})("mousedown.prevent",function(){return u(t),m(0)}),y(1,"span",3),l(2,"span",4),c(3),p()()}if(n&2){let t=e.$implicit,i=r();a(),f("tuiAvatar",i.options.popular),a(2),x(t)}}var R=class R{constructor(){this.textfield=_(I);this.storage=_(Et);this.control=_(At);this.close=_(Lt);this.i18n=_(E);this.options=_(G);this.$=this.control.valueChanges?.pipe(B(String),N(e=>!!e&&!this.popular().includes(e)),It()).subscribe(e=>{this.store(e)});this.history=this.items;this.popular=U([])}store(e){this.storage?.setItem(this.options.key,JSON.stringify(Array.from(new Set([e.trim(),...this.items])).filter((t,i,o)=>t&&!o.find(s=>s.startsWith(t)&&s!==t)).slice(0,5)))}remove(e){this.textfield.input()?.nativeElement.focus(),this.history=this.history.filter(t=>t!==e),this.storage?.setItem(this.options.key,JSON.stringify(this.items.filter(t=>t!==e)))}select(e){this.control.control?.setValue(e),this.textfield.input()?.nativeElement.focus()}get items(){return JSON.parse(this.storage?.getItem(this.options.key)||"[]")}};R.\u0275fac=function(t){return new(t||R)},R.\u0275cmp=k({type:R,selectors:[["tui-search-history"]],inputs:{popular:[1,"popular"]},decls:6,vars:2,consts:[[1,"t-sr-label"],["tuiCell","","type","button"],["tuiCell","","type","button",3,"click","keydown.backspace","keydown.delete","mousedown.prevent"],[3,"tuiAvatar"],["tuiTitle",""],["appearance","icon","size","xs","tabindex","-1","tuiIconButton","","type","button",3,"click.stop","iconStart"],["tuiCell","","type","button",3,"click","mousedown.prevent"]],template:function(t,i){t&1&&(d(0,te,2,1,"label",0),T(1,ee,6,3,"button",1,g),d(3,ie,2,1,"label",0),T(4,ne,4,2,"button",1,g)),t&2&&(h(i.history.length?0:-1),a(),v(i.history),a(2),h(i.popular().length?3:-1),a(),v(i.popular()))},dependencies:[Q,z,J,K],styles:["[_nghost-%COMP%]:not(:empty){display:block;padding:.375rem 0}"],changeDetection:0});var F=R;var O=class O{constructor(){this.platform=_(Rt).platform;this.texts=_(E);this.search=_(q);this.placeholder=j(({hotkey:e}=this.texts())=>this.platform.startsWith("Mac")?`\u2318+K ${e}`:`Alt+K ${e}`)}};O.\u0275fac=function(t){return new(t||O)},O.\u0275dir=ct({type:O,selectors:[["input","tuiSearchHotkey",""]],hostVars:1,hostBindings:function(t,i){t&1&&C("keydown.meta.k.stop",function(){return i.search.open()},!1,w)("keydown.alt.k.stop",function(){return i.search.open()},!1,w),t&2&&mt("placeholder",i.placeholder())}});var M=O;var oe=["*"],re=()=>[],ae=n=>({$implicit:n});function le(n,e){n&1&&dt(0)}function se(n,e){n&1&&y(0,"tui-loader",0)}function pe(n,e){if(n&1&&(l(0,"tui-block-status",1),y(1,"tui-icon",2),c(2),p()),n&2){let t=r(3);a(),f("icon",t.options.empty),a(),S(" ",t.i18n().empty," ")}}function ce(n,e){if(n&1&&(l(0,"label",5),c(1),p()),n&2){let t=r(2).$implicit;a(),S(" ",t.key," ")}}function ue(n,e){if(n&1&&ut(0,6),n&2){let t=e.$implicit,i=r(6);f("ngTemplateOutlet",i.template()||null)("ngTemplateOutletContext",Tt(2,ae,t))}}function me(n,e){if(n&1&&(d(0,ce,2,1,"label",5),T(1,ue,1,4,"ng-container",6,g)),n&2){let t=r().$implicit;r();let i=Y(0),o=r(3);h(!o.active&&i.length>1?0:-1),a(),v(t.value)}}function _e(n,e){if(n&1&&d(0,me,3,1),n&2){let t=e.$index,i=r(4);h(!i.active||i.active===t+1?0:-1)}}function de(n,e){if(n&1&&(l(0,"button",8),c(1),p()),n&2){let t=r().$implicit;a(),S(" ",t.key," ")}}function fe(n,e){if(n&1&&d(0,de,2,1,"button",8),n&2){let t=e.$implicit;h(t.value.length?0:-1)}}function Ce(n,e){if(n&1){let t=b();l(0,"tui-tabs",7),W("activeItemIndexChange",function(o){u(t);let s=r(4);return $(s.active,o)||(s.active=o),m(o)}),C("keydown.shift.tab.prevent",function(){u(t);let o=r(4);return m(o.tab(-1))},!1,w)("keydown.tab.prevent",function(){u(t);let o=r(4);return m(o.tab(1))},!1,w),l(1,"button",8),c(2),p(),T(3,fe,1,1,null,null,g),p()}if(n&2){r();let t=Y(0),i=r(3);L("activeItemIndex",i.active),a(2),x(i.i18n().all),a(),v(t)}}function he(n,e){if(n&1&&(yt(0),V(1,"keyvalue"),l(2,"tui-scrollbar",3),T(3,_e,1,1,null,null,g),V(5,"tuiFilter"),p(),d(6,Ce,5,2,"tui-tabs",4)),n&2){let t=r(3),i=xt(Z(1,1,t.results(),t.asIs)||gt(8,re));a(3),v(Z(5,5,i,t.notEmpty)),a(3),h(i.length>1?6:-1)}}function ye(n,e){if(n&1&&d(0,pe,3,2,"tui-block-status",1)(1,he,7,9),n&2){let t=r(2);h(t.empty()?0:1)}}function xe(n,e){if(n&1&&d(0,se,1,0,"tui-loader",0)(1,ye,2,1),n&2){let t=r();h(t.results()?1:0)}}var H=class H{constructor(){this.el=Bt();this.options=_(G);this.i18n=_(E);this.textfield=_(I);this.active=0;this.empty=j((e=this.results()||{})=>!Object.values(e).reduce((t,{length:i})=>i+t,0));this.template=pt(X);this.results=U({})}ngOnChanges(){this.active=0}onArrow(e,t){let i=Array.from(this.el.querySelectorAll("[tuiCell]"));i[0]===e&&t<0?this.textfield.input()?.nativeElement.focus():Ut(i.indexOf(e),i,t)}tab(e){let t=Object.values(this.results()||{}).filter(i=>i.length).length;this.active=Pt(this.active+e,0,t),this.textfield.input()?.nativeElement.focus()}notEmpty({value:e}){return!!e.length}asIs(){return 0}};H.\u0275fac=function(t){return new(t||H)},H.\u0275cmp=k({type:H,selectors:[["tui-search-results"]],contentQueries:function(t,i,o){t&1&&ft(o,i.template,X,5),t&2&&Ct()},hostBindings:function(t,i){t&1&&C("keydown.arrowDown.prevent",function(s){return i.onArrow(s.target,1)})("keydown.arrowUp.prevent",function(s){return i.onArrow(s.target,-1)})},inputs:{results:[1,"results"]},features:[lt],ngContentSelectors:oe,decls:2,vars:1,consts:[[1,"t-loader"],["size","m",1,"t-status"],["tuiSlot","top",1,"t-empty",3,"icon"],[1,"t-scrollbar"],["size","m",1,"t-tabs",3,"activeItemIndex"],[1,"t-sr-label"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["size","m",1,"t-tabs",3,"activeItemIndexChange","keydown.shift.tab.prevent","keydown.tab.prevent","activeItemIndex"],["tuiTab",""]],template:function(t,i){t&1&&(_t(),d(0,le,1,0)(1,xe,2,1)),t&2&&h(i.textfield.value()?1:0)},dependencies:[kt,St,Qt,qt,zt,jt,Wt,$t,Kt,Jt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border-radius:var(--tui-radius-l);background:var(--tui-background-base);box-shadow:inset 0 0 0 1px var(--tui-border-normal)}[_nghost-%COMP%]     [tuiCell]{inline-size:calc(100% - 2rem);padding:.375rem;margin:.25rem .625rem;border-radius:var(--tui-radius-l)}[_nghost-%COMP%]     [tuiCell]>[tuiAvatar]{border-radius:var(--tui-radius-m)}[_nghost-%COMP%]     .t-sr-label{display:block;font:var(--tui-typography-ui-s);color:var(--tui-text-secondary);margin:.75rem 1rem .5rem}.t-loader[_ngcontent-%COMP%]{margin:1rem 0}.t-status[_ngcontent-%COMP%]{margin-block-end:2rem}.t-empty[_ngcontent-%COMP%]{margin-block-start:1.5rem;font-size:6rem;color:var(--tui-text-primary)}.t-tabs[_ngcontent-%COMP%]{order:-1;margin:0 1rem;box-shadow:none;border-image:linear-gradient(0deg,var(--tui-border-normal) 1px,transparent 0) fill 0/0/0 1rem}.t-tabs[_ngcontent-%COMP%]:before{background:var(--tui-background-accent-opposite-pressed)}.t-scrollbar[_ngcontent-%COMP%]{max-block-size:30rem;padding:.375rem 0}"],changeDetection:0});var P=H;function Te(n,e){if(n&1&&(l(0,"a",10),y(1,"span",11),l(2,"span",12),c(3),l(4,"span",13),c(5),p()()()),n&2){let t=e.$implicit;f("href",t.href,st),a(),f("tuiAvatar",t.icon||"@tui.file"),a(2),S(" ",t.title," "),a(2),x(t.subtitle)}}function ve(n,e){if(n&1&&(l(0,"tui-search-results",8),V(1,"async"),y(2,"tui-search-history",9),d(3,Te,6,4,"ng-template"),p()),n&2){let t=r();f("results",vt(1,2,t.results$)),a(2),f("popular",t.popular)}}var be={Documents:[{title:"Monty Python",href:"https://en.wikipedia.org/wiki/Monty_Python"}],Code:[{title:"Taiga UI",href:"https://github.com/taiga-family/taiga-ui",icon:"@tui.github"},{title:"Maskito",href:"https://github.com/taiga-family/maskito",icon:"@tui.github"},{title:"Web APIs with Angular",href:"https://github.com/taiga-family/ng-web-apis",icon:"@tui.github"}],Links:[{title:"Taiga UI",subtitle:"Super awesome library",href:"https://taiga-ui.dev",icon:"/assets/images/taiga.svg"},{title:"Maskito",href:"https://maskito.dev",icon:"@tui.external-link"}]},A=class A{constructor(){this.popular=["Taiga UI","Maskito","Web APIs for Angular"];this.control=new Vt("");this.results$=this.control.valueChanges.pipe(N(Boolean),at(e=>ot(2e3).pipe(B(()=>this.filter(e)),rt(null))));this.open=!1}filter(e){return Object.entries(be).reduce((t,[i,o])=>nt(it({},t),{[i]:o.filter(({title:s,href:D,subtitle:Zt=""})=>Ot(s+D+Zt,e))}),{})}};A.\u0275fac=function(t){return new(t||A)},A.\u0275cmp=k({type:A,selectors:[["ng-component"]],decls:15,vars:4,consts:[["search",""],["tuiNavigationHeader",""],[3,"pointerdown.capture.stop"],["tuiSearchHotkey","",3,"tuiInputSearchOpenChange","formControl","tuiInputSearch","tuiInputSearchOpen"],["tuiAvatar","@tui.user"],["alt","","src","https://avatars.githubusercontent.com/u/11832552"],["tuiNavigationMain",""],["size","m","tuiButton","","type","button",3,"click"],[3,"results"],[3,"popular"],["tuiCell","",3,"href"],[3,"tuiAvatar"],["tuiTitle",""],["tuiSubtitle",""]],template:function(t,i){if(t&1){let o=b();l(0,"header",1)(1,"strong"),c(2,"Taiga UI"),p(),y(3,"hr"),l(4,"tui-textfield",2),C("pointerdown.capture.stop",function(){return u(o),m(0)}),l(5,"input",3),W("tuiInputSearchOpenChange",function(D){return u(o),$(i.open,D)||(i.open=D),m(D)}),p(),d(6,ve,4,4,"ng-template",null,0,bt),p(),c(8," Alex Inkin "),l(9,"div",4),y(10,"img",5),p()(),l(11,"main",6)(12,"p")(13,"button",7),C("click",function(){return u(o),m(i.open=!i.open)}),c(14),p()()()}if(t&2){let o=ht(7);a(5),f("formControl",i.control)("tuiInputSearch",o),L("tuiInputSearchOpen",i.open),a(9),S(" Toggle open: ",i.open," ")}},dependencies:[wt,Mt,Ht,Dt,Ft,Q,z,J,q,Gt,Xt,M,F,P,I,K],encapsulation:2,changeDetection:0});var et=A;export{et as default};
