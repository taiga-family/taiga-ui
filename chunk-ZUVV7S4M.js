import{f as Qt,g as qt,s as E,t as q,z as Gt}from"./chunk-CKMEZIS7.js";import"./chunk-TUF2O6IU.js";import"./chunk-QYE6BRLY.js";import"./chunk-VJ5NJ5G6.js";import"./chunk-CJ4EEFLC.js";import"./chunk-SVUVAGA5.js";import"./chunk-HZY6KHTL.js";import"./chunk-B4FURJ5X.js";import"./chunk-7UGDNWOL.js";import"./chunk-WWLTLNBB.js";import"./chunk-AVZQ5FYG.js";import"./chunk-3K5B6ZFJ.js";import"./chunk-77D46EB5.js";import"./chunk-VFUWH7UJ.js";import"./chunk-2MFSAHCZ.js";import"./chunk-ZZDBPDL5.js";import{a as zt,c as Kt}from"./chunk-VYGUMXCT.js";import{e as Q}from"./chunk-GXOFTGOU.js";import"./chunk-7UWLURE4.js";import"./chunk-PG52RPMH.js";import"./chunk-CECFGQK2.js";import"./chunk-ESL4LT5Z.js";import"./chunk-4H5JC6OQ.js";import"./chunk-MFXAPE46.js";import{b as jt}from"./chunk-OOOGG2EO.js";import"./chunk-3JGTWRRM.js";import"./chunk-2NNJ62PY.js";import"./chunk-SRPRK7WC.js";import"./chunk-JNMFWLAQ.js";import{a as $t,n as I}from"./chunk-G7V5KCZI.js";import"./chunk-XNOQ4KC2.js";import"./chunk-KYPSXI7P.js";import{n as K}from"./chunk-EOY6USMZ.js";import{F as J,g as Wt}from"./chunk-355QVY7S.js";import{X as z,p as Lt}from"./chunk-643UB756.js";import"./chunk-KI2HOOVL.js";import"./chunk-LL2PODKS.js";import{e as Jt}from"./chunk-QIT36Q2X.js";import"./chunk-KSA22X47.js";import"./chunk-XO7RFL6W.js";import"./chunk-HRKWSBLS.js";import"./chunk-S7AVUTSU.js";import"./chunk-NRW7GMFX.js";import"./chunk-DIP5DK36.js";import"./chunk-HXK3GUMY.js";import"./chunk-GSIOPKQB.js";import"./chunk-RIDLJBE2.js";import{Na as Ut,f as Rt,u as Ht,y as Bt,za as Nt}from"./chunk-776UH3NW.js";import{C as Mt,c as At,g as Dt,h as Vt,l as Pt,q as Ft}from"./chunk-2ZAJENVJ.js";import{a as It,h as Et,j as Ot}from"./chunk-U7E5I6OK.js";import{p as St,q as wt,w as kt}from"./chunk-A5CZPNGX.js";import{Ac as C,Bb as w,Bc as r,Cb as a,Cc as _t,Dc as dt,E as ot,Eb as Z,I as N,Ic as ft,Ka as lt,Kc as Ct,La as u,Lc as ht,Ma as m,Mb as pt,Mc as c,Nc as x,Oc as S,Qc as L,Rc as $,Sc as W,Tb as k,Tc as yt,Uc as xt,Vb as ct,Vc as X,Xc as gt,Yc as Tt,Zb as d,_a as U,cd as V,dd as vt,ed as Y,fc as f,ia as rt,id as bt,ja as at,kc as h,mc as g,nc as T,oc as v,pc as l,qc as p,rc as y,sd as j,uc as ut,vc as b,w as B,wb as st,wc as mt,za as _}from"./chunk-AXUCSVX7.js";import{a as it,b as nt}from"./chunk-B4AJQJMI.js";var[G,Se]=Ht({key:"taiga-search-history",history:"@tui.clock",popular:"@tui.search",empty:"@tui.search",remove:"@tui.trash"});function Yt(n,e){if(n&1&&(l(0,"label",0),c(1),p()),n&2){let t=r();a(),x(t.i18n().history)}}function te(n,e){if(n&1){let t=b();l(0,"button",2),C("click",function(){let o=u(t).$implicit,s=r();return m(s.select(o))})("keydown.backspace",function(){let o=u(t).$implicit,s=r();return m(s.remove(o))})("keydown.delete",function(){let o=u(t).$implicit,s=r();return m(s.remove(o))})("mousedown.prevent",function(){return u(t),m(0)}),y(1,"div",3),l(2,"span",4),c(3),p(),l(4,"button",5),C("click.stop",function(){let o=u(t).$implicit,s=r();return m(s.remove(o))}),c(5," \u{1F5D1}\uFE0F "),p()()}if(n&2){let t=e.$implicit,i=r();a(),f("tuiAvatar",i.options.history),a(2),x(t),a(),f("iconStart",i.options.remove)}}function ee(n,e){if(n&1&&(l(0,"label",0),c(1),p()),n&2){let t=r();a(),x(t.i18n().popular)}}function ie(n,e){if(n&1){let t=b();l(0,"button",6),C("click",function(){let o=u(t).$implicit,s=r();return m(s.select(o))})("mousedown.prevent",function(){return u(t),m(0)}),y(1,"span",3),l(2,"span",4),c(3),p()()}if(n&2){let t=e.$implicit,i=r();a(),f("tuiAvatar",i.options.popular),a(2),x(t)}}var O=class O{constructor(){this.textfield=_(I);this.storage=_(Et);this.control=_(Dt);this.close=_(Lt);this.i18n=_(E);this.options=_(G);this.$=this.control.valueChanges?.pipe(B(String),N(e=>!!e&&!this.popular().includes(e)),It()).subscribe(e=>{this.store(e)});this.history=this.items;this.popular=U([])}store(e){this.storage?.setItem(this.options.key,JSON.stringify(Array.from(new Set([e.trim(),...this.items])).filter((t,i,o)=>t&&!o.find(s=>s.startsWith(t)&&s!==t)).slice(0,5)))}remove(e){this.textfield.input()?.nativeElement.focus(),this.history=this.history.filter(t=>t!==e),this.storage?.setItem(this.options.key,JSON.stringify(this.items.filter(t=>t!==e)))}select(e){this.control.control?.setValue(e),this.textfield.input()?.nativeElement.focus()}get items(){return JSON.parse(this.storage?.getItem(this.options.key)||"[]")}};O.\u0275fac=function(t){return new(t||O)},O.\u0275cmp=k({type:O,selectors:[["tui-search-history"]],inputs:{popular:[1,"popular"]},decls:6,vars:2,consts:[[1,"t-sr-label"],["tuiCell","","type","button"],["tuiCell","","type","button",3,"click","keydown.backspace","keydown.delete","mousedown.prevent"],[3,"tuiAvatar"],["tuiTitle",""],["appearance","icon","size","xs","tabindex","-1","tuiIconButton","","type","button",3,"click.stop","iconStart"],["tuiCell","","type","button",3,"click","mousedown.prevent"]],template:function(t,i){t&1&&(d(0,Yt,2,1,"label",0),T(1,te,6,3,"button",1,g),d(3,ee,2,1,"label",0),T(4,ie,4,2,"button",1,g)),t&2&&(h(i.history.length?0:-1),a(),v(i.history),a(2),h(i.popular().length?3:-1),a(),v(i.popular()))},dependencies:[Q,z,J,K],styles:["[_nghost-%COMP%]:not(:empty){display:block;padding:.375rem 0}"],changeDetection:0});var P=O;var R=class R{constructor(){this.platform=_(Ot).platform;this.texts=_(E);this.search=_(q);this.placeholder=j(({hotkey:e}=this.texts())=>this.platform.startsWith("Mac")?`\u2318+K ${e}`:`Alt+K ${e}`)}};R.\u0275fac=function(t){return new(t||R)},R.\u0275dir=ct({type:R,selectors:[["input","tuiSearchHotkey",""]],hostVars:1,hostBindings:function(t,i){t&1&&C("keydown.meta.k.stop",function(){return i.search.open()},!1,w)("keydown.alt.k.stop",function(){return i.search.open()},!1,w),t&2&&mt("placeholder",i.placeholder())}});var F=R;var ne=["*"],oe=()=>[],re=n=>({$implicit:n});function ae(n,e){n&1&&dt(0)}function le(n,e){n&1&&y(0,"tui-loader",0)}function se(n,e){if(n&1&&(l(0,"tui-block-status",1),y(1,"tui-icon",2),c(2),p()),n&2){let t=r(3);a(),f("icon",t.options.empty),a(),S(" ",t.i18n().empty," ")}}function pe(n,e){if(n&1&&(l(0,"label",5),c(1),p()),n&2){let t=r(2).$implicit;a(),S(" ",t.key," ")}}function ce(n,e){if(n&1&&ut(0,6),n&2){let t=e.$implicit,i=r(6);f("ngTemplateOutlet",i.template()||null)("ngTemplateOutletContext",Tt(2,re,t))}}function ue(n,e){if(n&1&&(d(0,pe,2,1,"label",5),T(1,ce,1,4,"ng-container",6,g)),n&2){let t=r().$implicit;r();let i=X(0),o=r(3);h(!o.active&&i.length>1?0:-1),a(),v(t.value)}}function me(n,e){if(n&1&&d(0,ue,3,1),n&2){let t=e.$index,i=r(4);h(!i.active||i.active===t+1?0:-1)}}function _e(n,e){if(n&1&&(l(0,"button",8),c(1),p()),n&2){let t=r().$implicit;a(),S(" ",t.key," ")}}function de(n,e){if(n&1&&d(0,_e,2,1,"button",8),n&2){let t=e.$implicit;h(t.value.length?0:-1)}}function fe(n,e){if(n&1){let t=b();l(0,"tui-tabs",7),W("activeItemIndexChange",function(o){u(t);let s=r(4);return $(s.active,o)||(s.active=o),m(o)}),C("keydown.shift.tab.prevent",function(){u(t);let o=r(4);return m(o.tab(-1))},!1,w)("keydown.tab.prevent",function(){u(t);let o=r(4);return m(o.tab(1))},!1,w),l(1,"button",8),c(2),p(),T(3,de,1,1,null,null,g),p()}if(n&2){r();let t=X(0),i=r(3);L("activeItemIndex",i.active),a(2),x(i.i18n().all),a(),v(t)}}function Ce(n,e){if(n&1&&(yt(0),V(1,"keyvalue"),l(2,"tui-scrollbar",3),T(3,me,1,1,null,null,g),V(5,"tuiFilter"),p(),d(6,fe,5,2,"tui-tabs",4)),n&2){let t=r(3),i=xt(Y(1,1,t.results(),t.asIs)||gt(8,oe));a(3),v(Y(5,5,i,t.notEmpty)),a(3),h(i.length>1?6:-1)}}function he(n,e){if(n&1&&d(0,se,3,2,"tui-block-status",1)(1,Ce,7,9),n&2){let t=r(2);h(t.empty()?0:1)}}function ye(n,e){if(n&1&&d(0,le,1,0,"tui-loader",0)(1,he,2,1),n&2){let t=r();h(t.results()?1:0)}}var H=class H{constructor(){this.el=Nt();this.options=_(G);this.i18n=_(E);this.textfield=_(I);this.active=0;this.empty=j((e=this.results()||{})=>!Object.values(e).reduce((t,{length:i})=>i+t,0));this.template=pt(Z);this.results=U({})}ngOnChanges(){this.active=0}onArrow(e,t){let i=Array.from(this.el.querySelectorAll("[tuiCell]"));i[0]===e&&t<0?this.textfield.input()?.nativeElement.focus():Ut(i.indexOf(e),i,t)}tab(e){let t=Object.values(this.results()||{}).filter(i=>i.length).length;this.active=Bt(this.active+e,0,t),this.textfield.input()?.nativeElement.focus()}notEmpty({value:e}){return!!e.length}asIs(){return 0}};H.\u0275fac=function(t){return new(t||H)},H.\u0275cmp=k({type:H,selectors:[["tui-search-results"]],contentQueries:function(t,i,o){t&1&&ft(o,i.template,Z,5),t&2&&Ct()},hostBindings:function(t,i){t&1&&C("keydown.arrowDown.prevent",function(s){return i.onArrow(s.target,1)})("keydown.arrowUp.prevent",function(s){return i.onArrow(s.target,-1)})},inputs:{results:[1,"results"]},features:[lt],ngContentSelectors:ne,decls:2,vars:1,consts:[[1,"t-loader"],["size","m",1,"t-status"],["tuiSlot","top",1,"t-empty",3,"icon"],[1,"t-scrollbar"],["size","m",1,"t-tabs",3,"activeItemIndex"],[1,"t-sr-label"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["size","m",1,"t-tabs",3,"activeItemIndexChange","keydown.shift.tab.prevent","keydown.tab.prevent","activeItemIndex"],["tuiTab",""]],template:function(t,i){t&1&&(_t(),d(0,ae,1,0)(1,ye,2,1)),t&2&&h(i.textfield.value()?1:0)},dependencies:[kt,St,Qt,qt,Jt,$t,jt,Wt,zt,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border-radius:var(--tui-radius-l);background:var(--tui-background-base);box-shadow:inset 0 0 0 1px var(--tui-border-normal)}[_nghost-%COMP%]     [tuiCell]{inline-size:calc(100% - 2rem);padding:.375rem;margin:.25rem .625rem;border-radius:var(--tui-radius-l)}[_nghost-%COMP%]     [tuiCell]>[tuiAvatar]{border-radius:var(--tui-radius-m)}[_nghost-%COMP%]     .t-sr-label{display:block;font:var(--tui-font-ui-s);color:var(--tui-text-secondary);margin:.75rem 1rem .5rem}.t-loader[_ngcontent-%COMP%]{margin:1rem 0}.t-status[_ngcontent-%COMP%]{margin-block-end:2rem}.t-empty[_ngcontent-%COMP%]{margin-block-start:1.5rem;font-size:6rem;color:var(--tui-text-primary)}.t-tabs[_ngcontent-%COMP%]{order:-1;margin:0 1rem;box-shadow:none;border-image:linear-gradient(0deg,var(--tui-border-normal) 1px,transparent 0) fill 0/0/0 1rem}.t-tabs[_ngcontent-%COMP%]:before{background:var(--tui-background-accent-opposite-pressed)}.t-scrollbar[_ngcontent-%COMP%]{max-block-size:30rem;padding:.375rem 0}"],changeDetection:0});var M=H;function ge(n,e){if(n&1&&(l(0,"a",9),y(1,"span",10),l(2,"span",11),c(3),l(4,"span",12),c(5),p()()()),n&2){let t=e.$implicit;f("href",t.href,st),a(),f("tuiAvatar",t.icon||"@tui.file"),a(2),S(" ",t.title," "),a(2),x(t.subtitle)}}function Te(n,e){if(n&1&&(l(0,"tui-search-results",7),V(1,"async"),y(2,"tui-search-history",8),d(3,ge,6,4,"ng-template"),p()),n&2){let t=r();f("results",vt(1,2,t.results$)),a(2),f("popular",t.popular)}}var ve={Documents:[{title:"Monty Python",href:"https://en.wikipedia.org/wiki/Monty_Python"}],Code:[{title:"Taiga UI",href:"https://github.com/taiga-family/taiga-ui",icon:"@tui.github"},{title:"Maskito",href:"https://github.com/taiga-family/maskito",icon:"@tui.github"},{title:"Web APIs with Angular",href:"https://github.com/taiga-family/ng-web-apis",icon:"@tui.github"}],Links:[{title:"Taiga UI",subtitle:"Super awesome library",href:"https://taiga-ui.dev",icon:"/assets/images/taiga.svg"},{title:"Maskito",href:"https://maskito.dev",icon:"@tui.external-link"}]},A=class A{constructor(){this.popular=["Taiga UI","Maskito","Web APIs for Angular"];this.control=new Pt("");this.results$=this.control.valueChanges.pipe(N(Boolean),at(e=>ot(2e3).pipe(B(()=>this.filter(e)),rt(null))));this.open=!1}filter(e){return Object.entries(ve).reduce((t,[i,o])=>nt(it({},t),{[i]:o.filter(({title:s,href:D,subtitle:Xt=""})=>Rt(s+D+Xt,e))}),{})}};A.\u0275fac=function(t){return new(t||A)},A.\u0275cmp=k({type:A,selectors:[["ng-component"]],decls:14,vars:4,consts:[["search",""],["tuiNavigationHeader",""],[3,"pointerdown.capture.stop"],["tuiSearchHotkey","",3,"tuiInputSearchOpenChange","formControl","tuiInputSearch","tuiInputSearchOpen"],["tuiAvatar","@tui.user"],["alt","","src","https://avatars.githubusercontent.com/u/11832552"],["size","m","tuiButton","","type","button",3,"click"],[3,"results"],[3,"popular"],["tuiCell","",3,"href"],[3,"tuiAvatar"],["tuiTitle",""],["tuiSubtitle",""]],template:function(t,i){if(t&1){let o=b();l(0,"header",1)(1,"strong"),c(2,"Taiga UI"),p(),y(3,"hr"),l(4,"tui-textfield",2),C("pointerdown.capture.stop",function(){return u(o),m(0)}),l(5,"input",3),W("tuiInputSearchOpenChange",function(D){return u(o),$(i.open,D)||(i.open=D),m(D)}),p(),d(6,Te,4,4,"ng-template",null,0,bt),p(),c(8," Alex Inkin "),l(9,"div",4),y(10,"img",5),p()(),l(11,"p")(12,"button",6),C("click",function(){return u(o),m(i.open=!i.open)}),c(13),p()()}if(t&2){let o=ht(7);a(5),f("formControl",i.control)("tuiInputSearch",o),L("tuiInputSearchOpen",i.open),a(8),S(" Toggle open: ",i.open," ")}},dependencies:[wt,Mt,At,Vt,Ft,Q,z,J,q,Gt,F,P,M,I,K],styles:["[_nghost-%COMP%]{display:block;transform:translateZ(0)}[tuiNavigationHeader][_ngcontent-%COMP%]{white-space:nowrap;inline-size:100%!important;box-shadow:none!important}[tuiNavigationHeader][_ngcontent-%COMP%]:before{display:none}"],changeDetection:0});var et=A;export{et as default};
