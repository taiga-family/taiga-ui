(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[62201],{62201:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var o,i=n(97270),s=n(16727),r=n(75407),a=n(87742),c=n(68126),l=n(19908),u=n(56366),d=n(10637),p=n(78568),f=n(19146),m=n(68360);function g(e,t){if(1&e){const e=r.RV6();r.j41(0,"button",6),r.bIt("click",(function(){const t=r.eBV(e).$implicit,n=r.XpG(3),o=r.sdS(1);return r.Njj(n.onClick(t.login,o.nativeFocusableElement))})),r.EFF(1),r.j41(2,"tui-avatar",7),r.EFF(3),r.nI1(4,"tuiInitials"),r.k0s()()}if(2&e){const e=t.$implicit;r.R7$(1),r.SpI(" ",e.name," "),r.R7$(1),r.Y8G("src",e.avatar),r.R7$(1),r.SpI(" ",r.bMT(4,3,e.name)," ")}}function w(e,t){if(1&e){const e=r.RV6();r.j41(0,"tui-data-list",4),r.bIt("keydown.escape",(function(){r.eBV(e),r.XpG(2);const t=r.sdS(1);return r.Njj(t.nativeFocusableElement.focus())})),r.DNE(1,g,5,5,"button",5),r.k0s()}if(2&e){const e=r.XpG(2),t=r.sdS(1);r.R7$(1),r.Y8G("ngForOf",e.filterItems(t.nativeFocusableElement))}}function v(e,t){if(1&e&&r.DNE(0,w,2,1,"tui-data-list",3),2&e){r.XpG();const e=r.sdS(1);r.Y8G("ngIf",e.nativeFocusableElement)}}class h{constructor(){this.options=l.xQZ,this.value="Type @ to see a dropdown",this.items=[{name:"Alexander Inkin",avatar:c.mY`/images/avatar.jpg`,login:"a.inkin"},{name:"Roman Sedov",avatar:"",login:"r.sedov"}],this.predicate=e=>(0,u.kJn)(e).toString().startsWith("@")}onArrow(e,t){const n=this.options[t];n&&(e.preventDefault(),n.nativeElement.focus())}filterItems(e){const t=this.getCurrentSearch(e).replace("@","");return this.getFilteredItems(this.items,t)}onClick(e,t){const n=this.getCurrentSearch(t),o=this.value.replace(n,e),i=o.indexOf(e)+e.length;this.value=o,t.focus(),t.value=o,t.setSelectionRange(i,i)}getFilteredItems(e,t){return e.filter((({name:e,login:n})=>n.startsWith(t)||e.startsWith(t)))}getCurrentSearch(e){return e.value.slice(e.value.indexOf("@"),e.selectionStart)}}(o=h).ɵfac=function(e){return new(e||o)},o.ɵcmp=r.VBU({type:o,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&(r.GBs(u.Xuo,5),r.GBs(u.aOZ,5,r.aKT)),2&e){let e;r.mGM(e=r.lsd())&&(t.driver=e.first),r.mGM(e=r.lsd())&&(t.options=e)}},standalone:!0,exportAs:"Example2",features:[r.aNF],decls:6,vars:6,consts:[["tuiDropdownSelectionPosition","word",3,"pseudoFocus","tuiDropdown","tuiDropdownSelection","ngModel","ngModelChange","keydown.arrowDown","keydown.arrowUp"],["textarea",""],["dropdown",""],["class","menu",3,"keydown.escape",4,"ngIf"],[1,"menu",3,"keydown.escape"],["tuiOption","","type","button",3,"click",4,"ngFor","ngForOf"],["tuiOption","","type","button",3,"click"],["size","s",3,"src"]],template:function(e,t){if(1&e&&(r.j41(0,"tui-textarea",0,1),r.bIt("ngModelChange",(function(e){return t.value=e}))("keydown.arrowDown",(function(e){return t.onArrow(e,"first")}))("keydown.arrowUp",(function(e){return t.onArrow(e,"last")})),r.nI1(2,"async"),r.EFF(3," Type a message\n"),r.k0s(),r.DNE(4,v,1,1,"ng-template",null,2,r.C5r)),2&e){const e=r.sdS(5);r.Y8G("pseudoFocus",r.bMT(2,4,t.driver)||null)("tuiDropdown",e)("tuiDropdownSelection",t.predicate)("ngModel",t.value)}},dependencies:[s.Jj,a.YN,a.BC,a.vS,s.Sq,s.bT,d.Elh,u.uEM,u.aOZ,u.pUb,u.sA4,u.eoQ,p.bCn,f.IU,m.I],styles:[".menu[_ngcontent-%COMP%]{inline-size:12.5rem}"],changeDetection:0}),(0,i.Cg)([l.PEb],h.prototype,"getFilteredItems",null);const k=h}}]);