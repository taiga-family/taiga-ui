import{f as nt,h as _}from"./chunk-F6MP66Q7.js";import{d as re}from"./chunk-HQ7URAWZ.js";import{b as oe}from"./chunk-CSAYTLE6.js";import{a as vt}from"./chunk-2SBTR5MY.js";import{j as jt}from"./chunk-BUZ3D7CD.js";import{n as ee,p as ie,u as ne}from"./chunk-AIY2F77R.js";import{M as Yt}from"./chunk-MZOMKEM3.js";import{b as it}from"./chunk-52Y3ZTD5.js";import{$a as Xt,Ea as Gt,I as Qt,M as $t,Na as h,W as Kt,Xa as Jt,Za as V,a as E,ha as W,ka as qt,ob as te,pa as ht,ya as Zt}from"./chunk-GEANOXNS.js";import{a as Ut,p as Nt}from"./chunk-OJDT66LG.js";import{$a as x,Ac as u,Bc as s,Cb as f,Cc as Bt,Dc as Ht,Ea as Wt,Eb as st,G as j,I as w,Ic as Rt,Jc as pt,Kb as lt,Kc as mt,La as p,Lc as F,Ma as m,Mc as ft,Nb as zt,Ob as $,Oc as bt,Q as At,Qc as G,Rc as J,S as Dt,Sc as X,Tb as K,Vb as b,Wc as Y,Yb as A,Zb as D,_a as c,ec as y,fc as v,gc as Lt,hc as O,ia as Ot,id as Ft,ja as kt,jb as Vt,kc as q,mc as ct,md as tt,na as Q,nc as ut,oc as dt,p as N,pc as g,qc as I,sc as Pt,tc as St,td as et,uc as Z,vc as k,w as Mt,wa as Et,za as a}from"./chunk-YCEEMOGF.js";var fe="tui-tab-activate",ae,se,z=class z{constructor(){this.el=h();this.rla=a(jt,{optional:!0});this.observer=this.rla&&((ae=a(_,{optional:!0}))==null?void 0:ae.pipe(w(()=>{var e;return!!((e=this.rla)!=null&&e.isActive)})));this.sub=j(this.observer||N,((se=this.rla)==null?void 0:se.isActiveChange.pipe(w(Boolean)))||N,this.el.matches("button")?ht(this.el,"click").pipe(kt(()=>ht(this.el.parentElement,"click").pipe(Dt(1)))):N).pipe(E()).subscribe(()=>this.el.dispatchEvent(new CustomEvent(fe,{bubbles:!0})))}ngOnDestroy(){V(this.el)&&this.el.blur()}};z.\u0275fac=function(t){return new(t||z)},z.\u0275dir=b({type:z,selectors:[["a","tuiTab","",3,"routerLink",""],["a","tuiTab","","routerLink","","routerLinkActive",""],["button","tuiTab",""]],hostAttrs:["type","button"],features:[A([Yt])]});var C=z;var be={underline:!0,exposeActive:!0,itemsLimit:1/0,minMoreWidth:0,size:"l"},[L,Re]=Qt(be);var P=class P{};P.\u0275fac=function(t){return new(t||P)},P.\u0275cmp=K({type:P,selectors:[["ng-component"]],hostAttrs:[1,"tui-tabs"],decls:0,vars:0,template:function(t,i){},styles:[`[tuiTab]{transition-property:color,box-shadow,opacity,background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;text-decoration:none;position:relative;display:flex;flex-shrink:0;box-sizing:border-box;justify-content:space-between;line-height:1.5rem;align-items:center;white-space:nowrap;cursor:pointer;outline:none;color:inherit;margin-inline-start:var(--tui-tab-margin, 24px)}[tuiTab]:disabled{opacity:var(--tui-disabled-opacity);pointer-events:none}[tuiTab]._active{color:var(--tui-text-primary);box-shadow:none}[tuiTab]:focus-visible{outline:.125rem solid var(--tui-border-focus);outline-offset:-.125rem}tui-tabs._underline [tuiTab]:hover:not(._active){box-shadow:inset 0 -.125rem var(--tui-border-normal)}tui-tabs>[tuiTab]:first-child,tui-tabs>:not(.t-overflown)>[tuiTab]:first-child{margin-inline-start:0}tui-tabs>[tuiTab]~:not(.t-overflown)>[tuiTab]:first-child{margin-inline-start:var(--tui-tab-margin, 24px)}[tuiTab][tuiIcons]:before{font-size:1rem;margin-inline-end:.5rem}[tuiTab][tuiIcons]:after{font-size:1rem;margin-inline-start:.5rem}[tuiTab]:empty:after,[tuiTab]:empty:before{margin:.5rem}@media (hover: hover) and (pointer: fine){[tuiTab]:hover{color:var(--tui-text-primary)}}tui-tabs{scrollbar-width:none;-ms-overflow-style:none;position:relative;display:flex;font:var(--tui-font-body-m);color:var(--tui-text-secondary);box-shadow:inset 0 -1px var(--tui-border-normal);overflow:auto;isolation:isolate}tui-tabs::-webkit-scrollbar,tui-tabs::-webkit-scrollbar-thumb{display:none}tui-tabs[data-size=m]{font:var(--tui-font-body-s);--tui-tab-margin: 16px}tui-tabs[data-size=l]:not([data-vertical]){block-size:var(--tui-height-l)}tui-tabs[data-size=m]:not([data-vertical]){block-size:var(--tui-height-m)}tui-tabs:before{transition-property:width,left;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;left:var(--t-left);bottom:0;block-size:.125rem;inline-size:var(--t-width);background:var(--t-color);animation:tuiPresent 1ms}tui-tabs._underline:before{content:""}tui-tabs[data-vertical]{flex-direction:column;box-shadow:inset calc(-1px * var(--tui-inline)) 0 var(--tui-border-normal)}tui-tabs[data-vertical] [tuiTab]{min-block-size:2.75rem;block-size:auto;white-space:normal;margin:0;text-align:start;padding:.25rem 1.25rem}tui-tabs[data-vertical] [tuiTab]:after{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;display:block;inset-block-start:0;inset-inline-end:0;block-size:100%;inline-size:.125rem;background:var(--tui-background-accent-1);transform:scaleX(0);transform-origin:right;margin:0}tui-tabs[data-vertical] [tuiTab]:hover{box-shadow:inset calc(-.125rem * var(--tui-inline)) 0 var(--tui-border-normal)}tui-tabs[data-vertical] [tuiTab]._active:after{transform:none}tui-tabs[data-vertical][data-size=m] [tuiTab]{min-block-size:2.25rem;font:var(--tui-font-body-s)}tui-tabs[data-vertical][data-vertical=end]{box-shadow:inset calc(1px * var(--tui-inline)) 0 var(--tui-border-normal)}tui-tabs[data-vertical][data-vertical=end] [tuiTab]{text-align:end}tui-tabs[data-vertical][data-vertical=end] [tuiTab]:after{inset-inline:0 auto;transform-origin:left}tui-tabs[data-vertical][data-vertical=end] [tuiTab]:hover{box-shadow:inset calc(.125rem * var(--tui-inline)) 0 var(--tui-border-normal)}
`],encapsulation:2,changeDetection:0});var _t=P,S=class S{constructor(){this.el=h();this.injector=a(Wt);this.nothing=qt(_t);this.size=c(a(L).size);this.activeItemIndex=$(0)}get tabs(){return Array.from(this.el.querySelectorAll("[tuiTab]"))}get activeElement(){return this.tabs[this.activeItemIndex()]||null}moveFocus(e,t){let{tabs:i}=this;Xt(i.indexOf(e),i,t)}ngAfterViewChecked(){Vt(()=>{this.markTabAsActive()},{injector:this.injector})}onActivate(e){this.activeItemIndex.set(this.tabs.findIndex(t=>t===e))}markTabAsActive(){let{tabs:e,activeElement:t}=this;e.forEach(i=>{let n=i===t;i.classList.toggle("_active",n),i.setAttribute("tabIndex",n?"0":"-1")})}};S.\u0275fac=function(t){return new(t||S)},S.\u0275dir=b({type:S,hostVars:1,hostBindings:function(t,i){t&1&&u("tui-tab-activate.stop",function(r){return i.onActivate(r.target)}),t&2&&y("data-size",i.size())},inputs:{size:[1,"size"],activeItemIndex:[1,"activeItemIndex"]},outputs:{activeItemIndex:"activeItemIndexChange"}});var d=S;var B=class B{constructor(){this.el=h();this.options=a(L);this.tabs=a(d);this.sub=a(_,{self:!0}).pipe(Zt(),E()).subscribe(()=>this.refresh());this.underline=c(this.options.underline);et(()=>{let e=this.tabs.activeItemIndex(),t=this.tabs.tabs[e];if(!t)return;let{offsetLeft:i,offsetWidth:n}=t;i<this.el.scrollLeft&&(this.el.scrollLeft=i),i+n>this.el.scrollLeft+this.el.offsetWidth&&(this.el.scrollLeft=i+n-this.el.offsetWidth)})}ngAfterViewChecked(){this.refresh()}onKeyDownArrow(e,t){this.tabs.moveFocus(e,t)}refresh(){let{activeElement:e}=this.tabs;if(e&&!e.isConnected)return;let{offsetLeft:t=0,offsetWidth:i=0}=e||{};this.el.style.setProperty("--t-left",W(t)),this.el.style.setProperty("--t-width",W(i))}};B.\u0275fac=function(t){return new(t||B)},B.\u0275dir=b({type:B,selectors:[["tui-tabs",3,"vertical",""]],hostVars:4,hostBindings:function(t,i){t&1&&u("animationend",function(){return i.refresh()})("keydown.arrowRight.prevent",function(r){return i.onKeyDownArrow(r.target,1)})("keydown.arrowLeft.prevent",function(r){return i.onKeyDownArrow(r.target,-1)}),t&2&&(Lt("--t-color",i.underline()===!0?"var(--tui-background-accent-1)":i.underline()),O("_underline",i.underline()))},inputs:{underline:[1,"underline"]},features:[Y([_,{provide:nt,useValue:{childList:!0,characterData:!0,subtree:!0}}]),A([{directive:d,inputs:["activeItemIndex","activeItemIndex","size","size"],outputs:["activeItemIndexChange","activeItemIndexChange"]}])]});var M=B;var H=class H{constructor(){this.tabs=a(d);this.vertical=c("start")}onKeyDownArrow(e,t){this.tabs.moveFocus(e,t)}};H.\u0275fac=function(t){return new(t||H)},H.\u0275dir=b({type:H,selectors:[["tui-tabs","vertical",""]],hostVars:1,hostBindings:function(t,i){t&1&&u("keydown.arrowDown.prevent",function(r){return i.onKeyDownArrow(r.target,1)})("keydown.arrowUp.prevent",function(r){return i.onKeyDownArrow(r.target,-1)}),t&2&&y("data-vertical",i.vertical())},inputs:{vertical:[1,"vertical"]},features:[A([{directive:d,inputs:["activeItemIndex","activeItemIndex","size","size"],outputs:["activeItemIndexChange","activeItemIndexChange"]}])]});var Tt=H;var wt=new Et(""),ce=[vt,_,ee({align:"end"}),{provide:nt,useValue:{childList:!0,subtree:!0,characterData:!0}},{provide:wt,deps:[vt,_,Ut,x,tt],useFactory:(o,e,{body:t},{nativeElement:i},n)=>j(o,e.pipe(Q(()=>n.detectChanges()))).pipe(w(()=>t.contains(i)),At(0),Ot(null),E())}];var he=["*"];function _e(o,e){if(o&1&&Z(0,5),o&2){let t=s().$implicit;v("ngTemplateOutlet",t)}}function Te(o,e){if(o&1&&(g(0,"div",7),Z(1,5),I()),o&2){let t=s(),i=t.$implicit,n=t.$index,r=s();O("t-overflown",r.isOverflown(n)),f(),v("ngTemplateOutlet",i)}}function we(o,e){if(o&1&&D(0,_e,1,1,"ng-container",5)(1,Te,2,3,"div",6),o&2){let t=e.$index,i=s();q(t<=i.lastVisibleIndex?0:1)}}function xe(o,e){if(o&1&&(Pt(0),ft(1),St()),o&2){let t=e.polymorpheusOutlet;f(),bt(" ",t," ")}}function ye(o,e){if(o&1){let t=k();g(0,"button",8),X("tuiDropdownOpenChange",function(n){p(t);let r=s();return J(r.open,n)||(r.open=n),m(n)}),u("keydown.arrowLeft.prevent",function(){p(t);let n=s();return m(n.onArrowLeft())}),D(1,xe,2,1,"ng-container",9),I()}if(o&2){let t=s(),i=F(6);O("_active",t.isMoreActive)("t-no-margin",t.isMoreAlone)("t-overflown",!t.isMoreVisible),v("tabIndex",t.isMoreFocusable?0:-1)("tuiDropdown",t.dropdownContent()||i),G("tuiDropdownOpen",t.open),f(),v("polymorpheusOutlet",t.moreContent())}}function ge(o,e){if(o&1){let t=k();g(0,"button",10),X("tuiDropdownOpenChange",function(n){p(t);let r=s();return J(r.open,n)||(r.open=n),m(n)}),u("keydown.arrowLeft.prevent",function(){p(t);let n=s();return m(n.onArrowLeft())}),ft(1),I()}if(o&2){let t=s(),i=F(6);O("_active",t.isMoreActive)("t-no-margin",t.isMoreAlone)("t-overflown",!t.isMoreVisible),v("tabIndex",t.isMoreFocusable?0:-1)("tuiDropdown",t.dropdownContent()||i),G("tuiDropdownOpen",t.open),f(),bt(" ",t.moreWord()," ")}}function Ie(o,e){o&1&&Z(0)}function Ce(o,e){if(o&1&&D(0,Ie,1,0,"ng-container",9),o&2){let t=s().$implicit;v("polymorpheusOutlet",t)}}function Me(o,e){if(o&1){let t=k();g(0,"div",13),u("tui-tab-activate",function(){let n=p(t).$index,r=s(2);return m(r.onClick(n))}),D(1,Ce,1,1,"ng-container"),I()}if(o&2){let t=e.$index,i=s(2);f(),q(i.shouldShow(t)?1:-1)}}function Ae(o,e){if(o&1){let t=k();g(0,"div",11,1),u("keydown.arrowDown.prevent",function(n){p(t);let r=F(1),l=s();return m(l.onWrapperArrow(n,r,!1))})("keydown.arrowUp.prevent",function(n){p(t);let r=F(1),l=s();return m(l.onWrapperArrow(n,r,!0))}),ut(2,Me,2,1,"div",12,ct),I()}if(o&2){let t=s();y("data-size",t.size()),f(2),dt(t.items())}}var R=class R{constructor(){this.moreButton=lt(C,{read:x});this.dir=lt(M,{read:x});this.options=a(L);this.refresh$=a(wt);this.el=h();this.cdr=a(tt);this.maxIndex=1/0;this.items=zt(it,{read:st});this.moreWord=a(re);this.open=!1;this.sync=et(()=>{this.activeItemIndex(),this.maxIndex=this.getMaxIndex()});this.activeItemIndex=$(0);this.size=c(this.options.size);this.underline=c(this.options.underline);this.itemsLimit=c(this.options.itemsLimit);this.moreContent=c();this.dropdownContent=c()}get lastVisibleIndex(){if(this.itemsLimit()+1>=this.items().length)return this.maxIndex;let e=this.itemsLimit()-1>this.activeItemIndex()||!this.options.exposeActive?1:2;return Math.min(this.itemsLimit()-e,this.maxIndex)}ngAfterViewInit(){this.refresh$.pipe(Mt(()=>this.getMaxIndex()),Q(()=>this.refresh()),w(e=>this.maxIndex!==e)).subscribe(e=>{this.maxIndex=e,this.cdr.detectChanges()})}ngAfterViewChecked(){this.refresh()}get tabs(){return Array.from(this.el.querySelectorAll("[tuiTab]"))}get activeElement(){var i;let{tabs:e}=this,t=$t(this.activeItemIndex()||0,0,e.length-2);return this.options.exposeActive||this.lastVisibleIndex>=t?e[t]||null:((i=this.moreButton())==null?void 0:i.nativeElement)||null}get isMoreAlone(){return this.lastVisibleIndex<0&&!this.options.exposeActive}get isMoreVisible(){return this.lastVisibleIndex<this.items().length-1}get isMoreFocusable(){var e;return V((e=this.moreButton())==null?void 0:e.nativeElement)}get isMoreActive(){return this.open||!this.options.exposeActive&&this.lastVisibleIndex<this.activeItemIndex()}onClick(e){this.open=!1,this.focusMore(),this.activeItemIndex.set(e)}onArrowRight(e){Gt(e.target)&&V(e.target)&&this.focusMore()}onArrowLeft(){var i;let{tabs:e}=this,t=e.length-2;for(;t>=0;){if((i=e[t])==null||i.focus(),V(e[t]))return;t--}}onWrapperArrow(e,t,i){let n=e.target,r=Jt({initial:n,root:t,previous:i});r&&r.focus()}isOverflown(e){return e!==this.activeItemIndex()||!this.options.exposeActive}shouldShow(e){return e>this.lastVisibleIndex&&this.isOverflown(e)}get margin(){return this.size()==="l"?24:16}focusMore(){var e;(e=this.moreButton())==null||e.nativeElement.focus()}getMaxIndex(){var yt,gt,It;let{tabs:e,activeItemIndex:t,margin:i}=this;if(e.length<2)return 0;let{exposeActive:n,minMoreWidth:r}=this.options,{clientWidth:l}=this.el,rt=e[t()],ue=(rt==null?void 0:rt.scrollWidth)??0,de=Math.max(((yt=e[e.length-1])==null?void 0:yt.scrollWidth)??0,r),T=e.length-2,U=e.reduce((Ct,{scrollWidth:at})=>Ct+at,0)+T*i-(((gt=e[e.length-1])==null?void 0:gt.scrollWidth)??0);if(Number.isNaN(U)||U<=l)return 1/0;for(;T;){U-=(((It=e[T])==null?void 0:It.scrollWidth)??0)+i,T--;let at=n&&t()>T?ue+i:0,pe=U+at+de+i,me=Kt(this.maxIndex===T-1);if(pe+me<l)return T}return-1}refresh(){var i,n;let{offsetLeft:e=0,offsetWidth:t=0}=this.activeElement||{};(i=this.dir())==null||i.nativeElement.style.setProperty("--t-left",W(e)),(n=this.dir())==null||n.nativeElement.style.setProperty("--t-width",W(t))}};R.\u0275fac=function(t){return new(t||R)},R.\u0275cmp=K({type:R,selectors:[["tui-tabs-with-more"]],contentQueries:function(t,i,n){t&1&&Rt(n,i.items,it,4,st),t&2&&mt()},viewQuery:function(t,i){t&1&&(pt(i.moreButton,C,5,x),pt(i.dir,M,5,x)),t&2&&mt(2)},hostVars:1,hostBindings:function(t,i){t&2&&y("data-size",i.size())},inputs:{activeItemIndex:[1,"activeItemIndex"],size:[1,"size"],underline:[1,"underline"],itemsLimit:[1,"itemsLimit"],moreContent:[1,"moreContent"],dropdownContent:[1,"dropdownContent"]},outputs:{activeItemIndex:"activeItemIndexChange"},features:[Y(ce)],ngContentSelectors:he,decls:8,vars:4,consts:[["dropdown",""],["element",""],[1,"t-tabs",3,"activeItemIndexChange","keydown.arrowRight","size","underline","activeItemIndex"],["tuiTab","","type","button",1,"t-more",3,"_active","t-no-margin","t-overflown","tabIndex","tuiDropdown","tuiDropdownOpen"],["tuiChevron","","tuiTab","","type","button",1,"t-more",3,"_active","t-no-margin","t-overflown","tabIndex","tuiDropdown","tuiDropdownOpen"],[3,"ngTemplateOutlet"],[1,"t-flex",3,"t-overflown"],[1,"t-flex"],["tuiTab","","type","button",1,"t-more",3,"tuiDropdownOpenChange","keydown.arrowLeft.prevent","tabIndex","tuiDropdown","tuiDropdownOpen"],[4,"polymorpheusOutlet"],["tuiChevron","","tuiTab","","type","button",1,"t-more",3,"tuiDropdownOpenChange","keydown.arrowLeft.prevent","tabIndex","tuiDropdown","tuiDropdownOpen"],[1,"t-dropdown",3,"keydown.arrowDown.prevent","keydown.arrowUp.prevent"],[1,"t-dropdown-item"],[1,"t-dropdown-item",3,"tui-tab-activate"]],template:function(t,i){if(t&1){let n=k();Bt(),g(0,"tui-tabs",2),X("activeItemIndexChange",function(l){return p(n),J(i.activeItemIndex,l)||(i.activeItemIndex=l),m(l)}),u("keydown.arrowRight",function(l){return p(n),m(i.onArrowRight(l))}),ut(1,we,2,1,null,null,ct),I(),D(3,ye,2,10,"button",3)(4,ge,2,10,"button",4)(5,Ae,4,1,"ng-template",null,0,Ft),Ht(7)}t&2&&(v("size",i.size())("underline",i.underline()),G("activeItemIndex",i.activeItemIndex),f(),dt(i.items()),f(2),q(i.moreContent()?3:4))},dependencies:[Nt,te,oe,ie,ne,C,M],styles:["[_nghost-%COMP%]{position:relative;display:flex;font:var(--tui-font-body-m);box-sizing:border-box;color:var(--tui-text-secondary);box-shadow:inset 0 -1px var(--tui-border-normal);overflow:hidden}[data-size=m][_nghost-%COMP%]{font:var(--tui-font-body-s)}.t-tabs[_ngcontent-%COMP%]{block-size:inherit;font:inherit;overflow:visible;box-shadow:none;color:inherit}.t-flex[_ngcontent-%COMP%]{display:flex}.t-overflown[_ngcontent-%COMP%]{margin:0;inline-size:0;max-inline-size:0;overflow:hidden;visibility:hidden}.t-icon[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;margin-inline-end:-.25rem;vertical-align:bottom}.t-icon_rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.t-dropdown[_ngcontent-%COMP%]{padding:.25rem 0}.t-dropdown[_ngcontent-%COMP%]     *[tuiTab]{inline-size:calc(100% - .75rem);block-size:2.75rem;justify-content:flex-start;margin:.125rem .375rem;padding:0 .625rem;line-height:1.5rem;border-radius:var(--tui-radius-s);font:var(--tui-font-body-m);color:var(--tui-text-primary)}.t-dropdown[_ngcontent-%COMP%]     *[tuiTab]:before{display:none}.t-dropdown[_ngcontent-%COMP%]     *[tuiTab]:hover, .t-dropdown[_ngcontent-%COMP%]     *[tuiTab]:focus, .t-dropdown[_ngcontent-%COMP%]     *[tuiTab]._active{box-shadow:none;outline:none;background:var(--tui-background-neutral-1)}.t-dropdown[data-size=m][_ngcontent-%COMP%]     *[tuiTab]{block-size:2.25rem;font:var(--tui-font-body-s)}.t-dropdown-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.t-no-margin[_ngcontent-%COMP%]{margin-inline-start:0}"],changeDetection:0});var xt=R;export{C as a,Re as b,M as c,Tt as d,xt as e};
