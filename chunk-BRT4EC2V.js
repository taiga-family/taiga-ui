import{$ as ut,a as le,b as L,c as me,d as de,e as fe,g as ct,ga as Ht,h as he,ha as Te,i as B,j as T,k as ve,la as lt,ma as He,n as ye,o as ge,qa as De,u as be}from"./chunk-SDK4LXDJ.js";import{a as S}from"./chunk-XPB6YNIV.js";import{Ma as Ce,R as ae,V as Ct,Wa as j,X as pt,Ya as mt,Z as Tt,b as N,ba as pe,db as Oe,eb as Pe,ha as ce,va as v,xa as ue,y as at}from"./chunk-TQEODDI3.js";import{a as bt,b as ne,d as se,n as E}from"./chunk-KWZHGPWS.js";import{a as re}from"./chunk-GOJWO2R3.js";import{Ac as k,Ba as zt,Bb as Gt,Cb as Jt,Cc as ee,Da as Vt,Dc as ie,E as kt,Ea as ot,Eb as qt,F as Et,H as tt,J as Nt,Ka as rt,P as St,Pa as C,Tb as nt,U as et,V as W,Vb as a,Wc as m,Xb as l,Yb as _,Za as Wt,Zb as st,_a as c,bb as Zt,ca as yt,ec as Kt,fc as Y,ga as Lt,hc as Qt,i as X,ia as Bt,j as _t,ja as Z,la as gt,ma as jt,na as Ut,rc as Xt,s as b,sa as $t,uc as te,ud as oe,vb as Yt,wa as it,x as A,za as o}from"./chunk-2UPKG2B4.js";import{a as Rt,b as At}from"./chunk-B4AJQJMI.js";var Dt=["bottom-start","bottom","bottom-end","top-start","top","top-end","start-top","start","start-bottom","end-top","end","end-bottom"],xe={direction:"bottom-start",showDelay:500,hideDelay:200,appearance:"",icon:"@tui.circle-help"},H=new it("",{factory:()=>xe}),Ue=f=>({provide:H,deps:[[new zt,new Vt,H]],useFactory:He(f,xe)});var D=class D extends B{constructor(){super(t=>this.stream$.subscribe(t));this.isMobile=o(E);this.el=v();this.hovered$=o(S);this.options=o(H);this.visible=!1;this.toggle$=new X;this.stream$=tt(this.toggle$.pipe(Z(t=>this.isMobile?b(t):b(t).pipe(et(t?0:this.hideDelay()))),gt(this.hovered$),yt()),this.hovered$.pipe(Z(t=>this.isMobile?b(t).pipe(et(0)):b(t).pipe(et(t?this.showDelay():this.hideDelay()))),gt(this.toggle$),yt())).pipe(Nt(()=>this.enabled),A(t=>t&&(this.el.hasAttribute("tuiHintPointer")||!lt(this.el))),Ut(t=>{this.visible=t}));this.parent=o(D,{optional:!0,skipSelf:!0});this.showDelay=c(this.options.showDelay,{alias:"tuiHintShowDelay"});this.hideDelay=c(this.options.hideDelay,{alias:"tuiHintHideDelay"});this.type="hint";this.enabled=!0}toggle(t=!this.visible){this.toggle$.next(t),this.parent?.toggle(t)}close(){this.toggle$.next(!1)}};D.\u0275fac=function(e){return new(e||D)},D.\u0275dir=a({type:D,inputs:{showDelay:[1,"tuiHintShowDelay","showDelay"],hideDelay:[1,"tuiHintHideDelay","hideDelay"]},exportAs:["tuiHintHover"],features:[m([T(D),S]),l]});var h=D;var g=class g extends h{constructor(){super(...arguments);this.currentRect=N}getClientRect(){return this.currentRect}onMove({clientX:t,clientY:e}){this.currentRect=ue(t,e)}};g.\u0275fac=(()=>{let t;return function(r){return(t||(t=C(g)))(r||g)}})(),g.\u0275dir=a({type:g,selectors:[["","tuiHint","","tuiHintPointer",""]],hostBindings:function(e,r){e&1&&k("mousemove.zoneless",function(u){return r.onMove(u)})},features:[m([ct(g),T(g)]),l]});var G=g;var dt=8,ft=24,s=1,p=0,P=class P extends le{constructor(){super(...arguments);this.el=v();this.viewport=o(ut);this.directionChange=new X;this.accessor=me("hint")(o(L,{optional:!0}),{getClientRect:()=>this.el.getBoundingClientRect()});this.points=Dt.reduce((t,e)=>At(Rt({},t),{[e]:[0,0]}),{});this.direction=c(o(H).direction,{alias:"tuiHintDirection"});this.offset=c(o(E)?16:8,{alias:"tuiHintOffset"});this.tuiHintDirectionChange=ne(this.directionChange.pipe(W()));this.type="hint"}getPosition({width:t,height:e}){let r=this.direction(),n=this.accessor.getClientRect(),u=n.left+n.width/2,R=n.top+n.height/2,Q=this.el.matches('[dir="rtl"] :scope');this.points["top-start"][s]=n.top-e-this.offset(),this.points["top-start"][p]=u-t+ft,this.points.top[s]=this.points["top-start"][s],this.points.top[p]=u-t/2,this.points["top-end"][s]=this.points["top-start"][s],this.points["top-end"][p]=u-ft,this.points["bottom-start"][s]=n.bottom+this.offset(),this.points["bottom-start"][p]=this.points["top-start"][p],this.points.bottom[s]=this.points["bottom-start"][s],this.points.bottom[p]=this.points.top[p],this.points["bottom-end"][s]=this.points["bottom-start"][s],this.points["bottom-end"][p]=this.points["top-end"][p],this.points["start-top"][s]=R-e+ft,this.points["start-top"][p]=n.left-t-this.offset(),this.points.start[s]=R-e/2,this.points.start[p]=this.points["start-top"][p],this.points["start-bottom"][s]=R-ft,this.points["start-bottom"][p]=this.points["start-top"][p],this.points["end-top"][s]=this.points["start-top"][s],this.points["end-top"][p]=n.right+this.offset(),this.points.end[s]=this.points.start[s],this.points.end[p]=this.points["end-top"][p],this.points["end-bottom"][s]=this.points["start-bottom"][s],this.points["end-bottom"][p]=this.points["end-top"][p];let Ft=(Array.isArray(r)?r:[r]).map(vt=>Ie(vt,Q)).concat(Dt).find(vt=>this.checkPosition(this.points[vt],t,e))||this.fallback;return this.directionChange.next(Ie(Ft,Q)),this.points[Ft]}get fallback(){return this.points.top[s]>this.viewport.getClientRect().bottom-this.points.bottom[s]?"top":"bottom"}checkPosition([t,e],r,n){let u=this.viewport.getClientRect();return e>u.top+dt&&t>u.left+dt&&e+n<u.bottom-dt&&t+r<u.right-dt}};P.\u0275fac=(()=>{let t;return function(r){return(t||(t=C(P)))(r||P)}})(),P.\u0275dir=a({type:P,inputs:{direction:[1,"tuiHintDirection","direction"],offset:[1,"tuiHintOffset","offset"]},outputs:{tuiHintDirectionChange:"tuiHintDirectionChange"},features:[l]});var x=P;function Ie(f,i){return i&&f.includes("left")?f.replace("left","right"):i&&f.includes("right")?f.replace("right","left"):f}function Ae(f,i){f&1&&te(0)}var U=class U{constructor(){this.hint=o(d)}};U.\u0275fac=function(t){return new(t||U)},U.\u0275cmp=nt({type:U,selectors:[["ng-component"]],decls:1,vars:1,consts:[[4,"polymorpheusOutlet"]],template:function(t,e){t&1&&st(0,Ae,1,0,"ng-container",0),t&2&&Y("polymorpheusOutlet",e.hint.content())},dependencies:[mt],encapsulation:2,changeDetection:0});var J=U,$=class ${constructor(){let i=o(d);pt(i.content,o(qt)),i.component=new j(J,o(ot))}};$.\u0275fac=function(t){return new(t||$)},$.\u0275dir=a({type:$,selectors:[["ng-template","tuiHint",""]]});var Ot=$;var _e=["*"];function ke(f,i){if(f&1&&Xt(0,"span",1),f&2){let t=i.polymorpheusOutlet;Y("innerHTML",t,Yt)}}var Ee=[Ht,S,de("hint",x),fe("hint",$t(()=>d))],ht=8,z=class z{constructor(){this.el=v();this.hover=o(h);this.vvs=o(Te);this.viewport=o(ut);this.pointer=o(G,{optional:!0});this.accessor=o(L);this.hint=o(d);this.isMobile=o(E);this.content=this.hint.component.component===J?Zt(""):this.hint.content;this.theme=this.hint.el.closest("[tuiTheme]")?.getAttribute("tuiTheme");this.appearance=ge(this.hint.appearance);o(Ht).pipe(jt(()=>this.hint.el.isConnected),A(i=>this.vvs.correct(i)),bt()).subscribe({next:i=>this.update(...i),complete:()=>this.hover.close()}),o(S).pipe(bt()).subscribe(i=>this.hover.toggle(i))}onClick(i){(!i.closest(this.el.tagName)&&!this.hint.el.contains(i)||lt(this.hint.el))&&this.hover.toggle(!1)}apply(i,t,e,r){this.el.style.setProperty("top",i),this.el.style.setProperty("left",t),this.el.style.setProperty("--t-top",`${e}%`),this.el.style.setProperty("--t-left",`${r}%`),this.el.style.setProperty("--t-rotate",!r||Math.ceil(r)===100?"90deg":"0deg")}update(i,t){let{clientHeight:e,clientWidth:r}=this.el,n=this.accessor.getClientRect();if(n===N||!e||!r)return;let u=this.viewport.getClientRect(),R=at(Math.max(ht,i),u.left+ht,Math.max(ht,u.width+u.left-r-ht)),[Q,wt]=this.vvs.correct([n.top+n.height/2-t,n.left+n.width/2-R]);this.apply(Ct(Math.round(t)),Ct(Math.round(R)),Math.round(at(Q,0,e)/e*100),Math.round(at(wt,0,r)/r*100))}};z.\u0275fac=function(t){return new(t||z)},z.\u0275cmp=nt({type:z,selectors:[["tui-hint"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(t,e){t&1&&k("click",function(n){return e.onClick(n.target)},!1,Gt),t&2&&(Kt("tuiTheme",e.theme),Qt("_untouchable",e.pointer)("_mobile",e.isMobile))},features:[m([Ee,be({size:"s"})]),_([ye,Oe,Pe])],ngContentSelectors:_e,decls:2,vars:2,consts:[[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerHTML"]],template:function(t,e){t&1&&(ee(),ie(0),st(1,ke,1,1,"span",0)),t&2&&(Jt(),Y("polymorpheusOutlet",e.content())("polymorpheusOutletContext",e.hint.context()))},dependencies:[mt],styles:[`[_nghost-%COMP%]{position:absolute;max-inline-size:min(20rem,calc(100% - 1rem));padding:.75rem 1rem;background:var(--tui-background-accent-1);border-radius:var(--tui-radius-l);color:var(--tui-text-primary-on-accent-1);box-sizing:border-box;font:var(--tui-typography-body-s);white-space:pre-line;overflow-wrap:break-word;transform-origin:var(--t-left) var(--t-top);--tui-background-elevation-2: var(--tui-background-elevation-3)}.tui-enter[_nghost-%COMP%], .tui-leave[_nghost-%COMP%]{animation-name:tuiFade}[_nghost-%COMP%]   tui-root._mobile.tui-enter[_nghost-%COMP%], tui-root._mobile   .tui-enter[_nghost-%COMP%]{animation:tuiFade var(--tui-duration) ease-in-out,tuiScale var(--tui-duration) cubic-bezier(.34,1.56,.64,1)}[_nghost-%COMP%]   tui-root._mobile.tui-leave[_nghost-%COMP%], tui-root._mobile   .tui-leave[_nghost-%COMP%]{animation:tuiFade var(--tui-duration) ease-in-out reverse,tuiScale var(--tui-duration) ease-in-out reverse}[_nghost-%COMP%]:before{content:"";position:absolute;top:var(--t-top);left:var(--t-left);inline-size:.75rem;block-size:.5rem;background:inherit;-webkit-mask-image:url('data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>');mask-image:url('data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>');transition:none;transform:translate(-50%,-50%) rotate(var(--t-rotate))}._mobile[_nghost-%COMP%]{font:var(--tui-typography-body-m)}._mobile[_nghost-%COMP%]:before{inline-size:1.5rem;block-size:1.125rem;-webkit-mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>');mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>')}[_nghost-%COMP%]:not([style*=top]){visibility:hidden}._untouchable[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%]     [tuiTitle]{margin-block-end:.75rem}[_nghost-%COMP%]     [tuiTitle]+footer{margin-block-start:.75rem}[_nghost-%COMP%]     [tuiIconButton][data-appearance=icon][data-size=xs]{float:right;margin-inline-end:-.25rem}@supports (float: inline-end){[_nghost-%COMP%]     [tuiIconButton][data-appearance=icon][data-size=xs]{float:inline-end}}[_nghost-%COMP%]     img{display:block;border-radius:var(--tui-radius-m)}[_nghost-%COMP%]     footer{display:flex;justify-content:flex-end;gap:.5rem;inline-size:18rem;max-inline-size:100%;margin:1rem 0 .25rem}`],changeDetection:0});var q=z;var Me=new it("",{factory:()=>q});var I=class I extends ve{constructor(){super(...arguments);this.type="hint"}};I.\u0275fac=(()=>{let t;return function(r){return(t||(t=C(I)))(r||I)}})(),I.\u0275dir=a({type:I,features:[l]});var K=I;var M=class M{constructor(){this.service=o(De);this.content=c(null,{alias:"tuiHint"});this.context=c(void 0,{alias:"tuiHintContext"});this.appearance=c(o(H).appearance,{alias:"tuiHintAppearance"});this.visible=Wt({alias:"tuiHintVisible"});this.component=o(j);this.el=v();this.type="hint"}ngOnChanges(){this.content()||this.toggle(!1)}ngOnDestroy(){this.toggle(!1)}getClientRect(){return this.el.getBoundingClientRect()}toggle(i){i&&this.content()&&!this.ref?(this.ref=this.service.add(this.component),this.visible.emit(!0)):this.ref&&(this.ref.destroy(),this.ref=void 0,this.visible.emit(!1))}};M.\u0275fac=function(t){return new(t||M)},M.\u0275dir=a({type:M,selectors:[["","tuiHint","",5,"ng-container",5,"ng-template"]],inputs:{content:[1,"tuiHint","content"],context:[1,"tuiHintContext","context"],appearance:[1,"tuiHintAppearance","appearance"]},outputs:{visible:"tuiHintVisible"},features:[m([he(M),{provide:j,deps:[Me,ot],useClass:j}]),_([K,{directive:h,inputs:["tuiHintHideDelay","tuiHintHideDelay","tuiHintShowDelay","tuiHintShowDelay"]},{directive:x,inputs:["tuiHintDirection","tuiHintDirection","tuiHintOffset","tuiHintOffset"],outputs:["tuiHintDirectionChange","tuiHintDirectionChange"]}]),rt]});var d=M;var w=class w extends B{constructor(){super(t=>this.stream$.subscribe(t));this.doc=o(re);this.el=v();this.element=oe((t=this.id())=>t?this.doc.querySelector(`#${t}`)||this.el:this.el);this.id=c("",{alias:"tuiHintDescribe"});this.type="hint";this.stream$=se(this.id).pipe(W(),pe(()=>kt(this.doc,"keydown",{capture:!0}),ae),Z(()=>this.focused?b(!1):tt(Tt(this.doc,"keyup"),Tt(this.element(),"blur")).pipe(A(()=>this.focused))),St(t=>t?Et(1e3):b(null)),Bt(!1),W(),Lt(1),ce())}get focused(){return Ce(this.element())}};w.\u0275fac=function(e){return new(e||w)},w.\u0275dir=a({type:w,selectors:[["","tuiHintDescribe",""]],inputs:{id:[1,"tuiHintDescribe","id"]},features:[m([T(w)]),l]});var Pt=w;var F=class F extends B{constructor(){super(t=>this.stream$.subscribe(t));this.hover=o(h);this.stream$=new _t(!1);this.visible=c(!1,{alias:"tuiHintManual"});this.type="hint";this.hover.enabled=!1}ngOnChanges(){this.stream$.next(!!this.visible()),this.hover.enabled=this.visible()===null}};F.\u0275fac=function(e){return new(e||F)},F.\u0275dir=a({type:F,selectors:[["","tuiHint","","tuiHintManual",""]],inputs:{visible:[1,"tuiHintManual","visible"]},features:[m([T(F)]),l,rt]});var xt=F;var V=class V{constructor(){this.hint=o(d);this.content=c("",{alias:"tuiHintOverflow"})}onMouseEnter({scrollWidth:i,clientWidth:t,textContent:e}){pt(this.hint.content,i>t&&this.content()!==null?this.content()||e:"")}};V.\u0275fac=function(t){return new(t||V)},V.\u0275dir=a({type:V,selectors:[["","tuiHintOverflow",""]],hostBindings:function(t,e){t&1&&k("mouseenter",function(n){return e.onMouseEnter(n.currentTarget)})},inputs:{content:[1,"tuiHintOverflow","content"]},features:[_([{directive:d,inputs:["tuiHintAppearance","tuiHintAppearance"]}])]});var It=V;var O=class O extends L{constructor(){super(...arguments);this.tuiHintHost=c();this.type="hint"}getClientRect(){return this.tuiHintHost()?.getBoundingClientRect()||N}};O.\u0275fac=(()=>{let t;return function(r){return(t||(t=C(O)))(r||O)}})(),O.\u0275dir=a({type:O,selectors:[["","tuiHint","","tuiHintHost",""]],inputs:{tuiHintHost:[1,"tuiHintHost"]},features:[m([ct(O)]),l]});var Mt=O;export{Me as a,Dt as b,xe as c,H as d,Ue as e,h as f,d as g,G as h,Ot as i,Ee as j,q as k,Pt as l,Mt as m,xt as n,It as o};
