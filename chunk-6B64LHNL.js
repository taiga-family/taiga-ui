import{c as nt,e as _}from"./chunk-MC5HHUOO.js";import{d as te}from"./chunk-LQUSMZ33.js";import{b as Yt}from"./chunk-666FVI5K.js";import{a as bt}from"./chunk-FF6CF5HY.js";import{j as Rt}from"./chunk-H6NP6CXZ.js";import{n as Gt,p as Jt,u as Xt}from"./chunk-25D3M2G5.js";import{ea as qt}from"./chunk-WLTEZ4U5.js";import{b as it}from"./chunk-GYH77W5G.js";import{Ea as Qt,I as Ft,Ka as $t,Ma as z,Oa as Kt,V as W,Y as Ut,Z as vt,Za as Zt,ga as Nt,ma as jt,va as h}from"./chunk-OEF4G3B4.js";import{a as E}from"./chunk-3H47OIE2.js";import{a as Ht,p as Bt}from"./chunk-WU7JPQ2P.js";import{$a as y,Ac as u,Bc as s,Cb as f,Cc as Vt,Dc as Lt,Ea as kt,Eb as at,H as j,Ic as Pt,J as w,Jc as dt,Kb as st,Kc as pt,La as p,Lc as F,Ma as m,Mc as mt,Nb as Ot,Ob as $,Oc as ft,Q as xt,Qc as G,Rc as J,S as It,Sc as X,Tb as K,Vb as b,Wc as Y,Yb as D,Zb as k,_a as c,ec as g,fc as v,gc as Et,hc as A,ia as Ct,id as St,ja as Mt,jb as At,kc as q,mc as lt,md as tt,na as Q,nc as ct,oc as ut,p as N,pc as x,qc as I,sc as Wt,tc as zt,uc as Z,ud as et,vc as O,wa as Dt,x as gt,za as a}from"./chunk-JYXVX5RO.js";var se="tui-tab-activate",V=class V{constructor(){this.el=h();this.rla=a(Rt,{optional:!0});this.observer=this.rla&&a(_,{optional:!0})?.pipe(w(()=>!!this.rla?.isActive));this.sub=j(this.observer||N,this.rla?.isActiveChange.pipe(w(Boolean))||N,this.el.matches("button")?vt(this.el,"click").pipe(Mt(()=>vt(this.el.parentElement,"click").pipe(It(1)))):N).pipe(E()).subscribe(()=>this.el.dispatchEvent(new CustomEvent(se,{bubbles:!0})))}ngOnDestroy(){z(this.el)&&this.el.blur()}};V.\u0275fac=function(t){return new(t||V)},V.\u0275dir=b({type:V,selectors:[["a","tuiTab","",3,"routerLink",""],["a","tuiTab","","routerLink","","routerLinkActive",""],["button","tuiTab",""]],hostAttrs:["type","button"],features:[D([qt])]});var C=V;var le={underline:!0,exposeActive:!0,itemsLimit:1/0,minMoreWidth:0,size:"l"},[L,Ve]=Qt(le);var P=class P{};P.\u0275fac=function(t){return new(t||P)},P.\u0275cmp=K({type:P,selectors:[["ng-component"]],hostAttrs:[1,"tui-tabs"],decls:0,vars:0,template:function(t,i){},styles:[`[tuiTab]{transition-property:color,box-shadow,opacity,background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;text-decoration:none;position:relative;display:flex;flex-shrink:0;box-sizing:border-box;justify-content:space-between;line-height:1.5rem;align-items:center;white-space:nowrap;cursor:pointer;outline:none;color:inherit;margin-inline-start:var(--tui-tab-margin, 24px)}[tuiTab]:disabled{opacity:var(--tui-disabled-opacity);pointer-events:none}[tuiTab]._active{color:var(--tui-text-primary);box-shadow:none;anchor-name:--tui-tab-active}[tuiTab]:focus-visible{outline:.125rem solid var(--tui-border-focus);outline-offset:-.125rem}tui-tabs._underline [tuiTab]:hover:not(._active){box-shadow:inset 0 -.125rem var(--tui-border-normal)}tui-tabs>[tuiTab]:first-child,tui-tabs>:not(.t-overflown)>[tuiTab]:first-child{margin-inline-start:0}tui-tabs>[tuiTab]~:not(.t-overflown)>[tuiTab]:first-child{margin-inline-start:var(--tui-tab-margin, 24px)}[tuiTab][tuiIcons]:before{font-size:1rem;margin-inline-end:.5rem}[tuiTab][tuiIcons]:after{font-size:1rem;margin-inline-start:.5rem}[tuiTab]:empty:after,[tuiTab]:empty:before{margin:.5rem}@media (hover: hover) and (pointer: fine){[tuiTab]:hover{color:var(--tui-text-primary)}}tui-tabs{scrollbar-width:none;-ms-overflow-style:none;position:relative;display:flex;flex-shrink:0;font:var(--tui-typography-body-m);color:var(--tui-text-secondary);box-shadow:inset 0 -1px var(--tui-border-normal);overflow:auto;isolation:isolate;anchor-scope:--tui-tab-active}tui-tabs::-webkit-scrollbar,tui-tabs::-webkit-scrollbar-thumb{display:none}tui-tabs[data-size=m]{font:var(--tui-typography-body-s);--tui-tab-margin: 16px}tui-tabs[data-size=l]:not([data-vertical]){block-size:var(--tui-height-l)}tui-tabs[data-size=m]:not([data-vertical]){block-size:var(--tui-height-m)}tui-tabs:before{transition-property:inline-size,left;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;left:var(--t-left);bottom:0;block-size:.125rem;inline-size:var(--t-width);background:var(--t-color);animation:tuiPresent 1ms;contain:strict}@supports (anchor-name: --tui-tab-active){tui-tabs:before{left:anchor(left);inline-size:anchor-size(inline);position-anchor:--tui-tab-active}}tui-tabs._underline:before{content:""}tui-tabs[data-vertical]{flex-direction:column;box-shadow:inset calc(-1px * var(--tui-inline)) 0 var(--tui-border-normal)}tui-tabs[data-vertical] [tuiTab]{min-block-size:2.75rem;block-size:auto;white-space:normal;margin:0;text-align:start;padding:.25rem 1.25rem}tui-tabs[data-vertical] [tuiTab]:after{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;display:block;inset-block-start:0;inset-inline-end:0;block-size:100%;inline-size:.125rem;background:var(--tui-background-accent-1);transform:scaleX(0);transform-origin:right;margin:0}tui-tabs[data-vertical] [tuiTab]:hover{box-shadow:inset calc(-.125rem * var(--tui-inline)) 0 var(--tui-border-normal)}tui-tabs[data-vertical] [tuiTab]._active:after{transform:none}tui-tabs[data-vertical][data-size=m] [tuiTab]{min-block-size:2.25rem;font:var(--tui-typography-body-s)}tui-tabs[data-vertical][data-vertical=end]{box-shadow:inset calc(1px * var(--tui-inline)) 0 var(--tui-border-normal)}tui-tabs[data-vertical][data-vertical=end] [tuiTab]{text-align:end}tui-tabs[data-vertical][data-vertical=end] [tuiTab]:after{inset-inline:0 auto;transform-origin:left}tui-tabs[data-vertical][data-vertical=end] [tuiTab]:hover{box-shadow:inset calc(.125rem * var(--tui-inline)) 0 var(--tui-border-normal)}
`],encapsulation:2,changeDetection:0});var ht=P,S=class S{constructor(){this.el=h();this.injector=a(kt);this.nothing=Ut(ht);this.size=c(a(L).size);this.activeItemIndex=$(0)}get tabs(){return Array.from(this.el.querySelectorAll("[tuiTab]"))}get activeElement(){return this.tabs[this.activeItemIndex()]||null}moveFocus(e,t){let{tabs:i}=this;Kt(i.indexOf(e),i,t)}ngAfterViewChecked(){At(()=>{this.markTabAsActive()},{injector:this.injector})}onActivate(e){this.activeItemIndex.set(this.tabs.findIndex(t=>t===e))}markTabAsActive(){let{tabs:e,activeElement:t}=this;e.forEach(i=>{let n=i===t;i.classList.toggle("_active",n),i.setAttribute("tabIndex",n?"0":"-1")})}};S.\u0275fac=function(t){return new(t||S)},S.\u0275dir=b({type:S,hostVars:1,hostBindings:function(t,i){t&1&&u("tui-tab-activate.stop",function(r){return i.onActivate(r.target)}),t&2&&g("data-size",i.size())},inputs:{size:[1,"size"],activeItemIndex:[1,"activeItemIndex"]},outputs:{activeItemIndex:"activeItemIndexChange"}});var d=S;var H=class H{constructor(){this.el=h();this.options=a(L);this.tabs=a(d);this.sub=a(_,{self:!0}).pipe(Nt(),E()).subscribe(()=>this.refresh());this.underline=c(this.options.underline);et(()=>{let e=this.tabs.activeItemIndex(),t=this.tabs.tabs[e];if(!t)return;let{offsetLeft:i,offsetWidth:n}=t;i<this.el.scrollLeft&&(this.el.scrollLeft=i),i+n>this.el.scrollLeft+this.el.offsetWidth&&(this.el.scrollLeft=i+n-this.el.offsetWidth)})}ngAfterViewChecked(){this.refresh()}onKeyDownArrow(e,t){this.tabs.moveFocus(e,t)}refresh(){if("anchorName"in this.el.style)return;let{activeElement:e}=this.tabs;if(e&&!e.isConnected)return;let{offsetLeft:t=0,offsetWidth:i=0}=e||{};this.el.style.setProperty("--t-left",W(t)),this.el.style.setProperty("--t-width",W(i))}};H.\u0275fac=function(t){return new(t||H)},H.\u0275dir=b({type:H,selectors:[["tui-tabs",3,"vertical",""]],hostVars:4,hostBindings:function(t,i){t&1&&u("animationend",function(){return i.refresh()})("keydown.arrowRight.prevent",function(r){return i.onKeyDownArrow(r.target,1)})("keydown.arrowLeft.prevent",function(r){return i.onKeyDownArrow(r.target,-1)}),t&2&&(Et("--t-color",i.underline()===!0?"var(--tui-background-accent-1)":i.underline()),A("_underline",i.underline()))},inputs:{underline:[1,"underline"]},features:[Y([_,{provide:nt,useValue:{childList:!0,characterData:!0,subtree:!0}}]),D([{directive:d,inputs:["activeItemIndex","activeItemIndex","size","size"],outputs:["activeItemIndexChange","activeItemIndexChange"]}])]});var M=H;var B=class B{constructor(){this.tabs=a(d);this.vertical=c("start")}onKeyDownArrow(e,t){this.tabs.moveFocus(e,t)}};B.\u0275fac=function(t){return new(t||B)},B.\u0275dir=b({type:B,selectors:[["tui-tabs","vertical",""]],hostVars:1,hostBindings:function(t,i){t&1&&u("keydown.arrowDown.prevent",function(r){return i.onKeyDownArrow(r.target,1)})("keydown.arrowUp.prevent",function(r){return i.onKeyDownArrow(r.target,-1)}),t&2&&g("data-vertical",i.vertical())},inputs:{vertical:[1,"vertical"]},features:[D([{directive:d,inputs:["activeItemIndex","activeItemIndex","size","size"],outputs:["activeItemIndexChange","activeItemIndexChange"]}])]});var _t=B;var Tt=new Dt(""),ie=[bt,_,Gt({align:"end"}),{provide:nt,useValue:{childList:!0,subtree:!0,characterData:!0}},{provide:Tt,deps:[bt,_,Ht,y,tt],useFactory:(o,e,{body:t},{nativeElement:i},n)=>j(o,e.pipe(Q(()=>n.detectChanges()))).pipe(w(()=>t.contains(i)),xt(0),Ct(null),E())}];var ue=["*"];function de(o,e){if(o&1&&Z(0,5),o&2){let t=s().$implicit;v("ngTemplateOutlet",t)}}function pe(o,e){if(o&1&&(x(0,"div",7),Z(1,5),I()),o&2){let t=s(),i=t.$implicit,n=t.$index,r=s();A("t-overflown",r.isOverflown(n)),f(),v("ngTemplateOutlet",i)}}function me(o,e){if(o&1&&k(0,de,1,1,"ng-container",5)(1,pe,2,3,"div",6),o&2){let t=e.$index,i=s();q(t<=i.lastVisibleIndex?0:1)}}function fe(o,e){if(o&1&&(Wt(0),mt(1),zt()),o&2){let t=e.polymorpheusOutlet;f(),ft(" ",t," ")}}function be(o,e){if(o&1){let t=O();x(0,"button",8),X("tuiDropdownOpenChange",function(n){p(t);let r=s();return J(r.open,n)||(r.open=n),m(n)}),u("keydown.arrowLeft.prevent",function(){p(t);let n=s();return m(n.onArrowLeft())}),k(1,fe,2,1,"ng-container",9),I()}if(o&2){let t=s(),i=F(6);A("_active",t.isMoreActive)("t-no-margin",t.isMoreAlone)("t-overflown",!t.isMoreVisible),v("tabIndex",t.isMoreFocusable?0:-1)("tuiDropdown",t.dropdownContent()||i),G("tuiDropdownOpen",t.open),f(),v("polymorpheusOutlet",t.moreContent())}}function ve(o,e){if(o&1){let t=O();x(0,"button",10),X("tuiDropdownOpenChange",function(n){p(t);let r=s();return J(r.open,n)||(r.open=n),m(n)}),u("keydown.arrowLeft.prevent",function(){p(t);let n=s();return m(n.onArrowLeft())}),mt(1),I()}if(o&2){let t=s(),i=F(6);A("_active",t.isMoreActive)("t-no-margin",t.isMoreAlone)("t-overflown",!t.isMoreVisible),v("tabIndex",t.isMoreFocusable?0:-1)("tuiDropdown",t.dropdownContent()||i),G("tuiDropdownOpen",t.open),f(),ft(" ",t.moreWord()," ")}}function he(o,e){o&1&&Z(0)}function _e(o,e){if(o&1&&k(0,he,1,0,"ng-container",9),o&2){let t=s().$implicit;v("polymorpheusOutlet",t)}}function Te(o,e){if(o&1){let t=O();x(0,"div",13),u("tui-tab-activate",function(){let n=p(t).$index,r=s(2);return m(r.onClick(n))}),k(1,_e,1,1,"ng-container"),I()}if(o&2){let t=e.$index,i=s(2);f(),q(i.shouldShow(t)?1:-1)}}function we(o,e){if(o&1){let t=O();x(0,"div",11,1),u("keydown.arrowDown.prevent",function(n){p(t);let r=F(1),l=s();return m(l.onWrapperArrow(n,r,!1))})("keydown.arrowUp.prevent",function(n){p(t);let r=F(1),l=s();return m(l.onWrapperArrow(n,r,!0))}),ct(2,Te,2,1,"div",12,lt),I()}if(o&2){let t=s();g("data-size",t.size()),f(2),ut(t.items())}}var R=class R{constructor(){this.moreButton=st(C,{read:y});this.dir=st(M,{read:y});this.options=a(L);this.refresh$=a(Tt);this.el=h();this.cdr=a(tt);this.maxIndex=1/0;this.items=Ot(it,{read:at});this.moreWord=a(te);this.sync=et(()=>{this.activeItemIndex(),this.maxIndex=this.getMaxIndex(),this.open=!1});this.open=!1;this.activeItemIndex=$(0);this.size=c(this.options.size);this.underline=c(this.options.underline);this.itemsLimit=c(this.options.itemsLimit);this.moreContent=c();this.dropdownContent=c()}get lastVisibleIndex(){if(this.itemsLimit()+1>=this.items().length)return this.maxIndex;let e=this.itemsLimit()-1>this.activeItemIndex()||!this.options.exposeActive?1:2;return Math.min(this.itemsLimit()-e,this.maxIndex)}isOverflown(e){return e!==this.activeItemIndex()||!this.options.exposeActive}shouldShow(e){return e>this.lastVisibleIndex&&this.isOverflown(e)}ngAfterViewInit(){this.refresh$.pipe(gt(()=>this.getMaxIndex()),Q(()=>this.refresh()),w(e=>this.maxIndex!==e)).subscribe(e=>{this.maxIndex=e,this.cdr.detectChanges()})}ngAfterViewChecked(){this.refresh()}get tabs(){return Array.from(this.el.querySelectorAll("[tuiTab]"))}get activeElement(){let{tabs:e}=this;return e.find(i=>i.classList.contains("_active"))||null}get isMoreAlone(){return this.lastVisibleIndex<0&&!this.options.exposeActive}get isMoreVisible(){return this.lastVisibleIndex<this.items().length-1}get isMoreFocusable(){return z(this.moreButton()?.nativeElement)}get isMoreActive(){return this.open||!this.options.exposeActive&&this.lastVisibleIndex<this.activeItemIndex()}onClick(e){this.open=!1,this.focusMore(),this.activeItemIndex.set(e)}onArrowRight(e){jt(e.target)&&z(e.target)&&this.focusMore()}onArrowLeft(){let{tabs:e}=this,t=e.length-2;for(;t>=0;){if(e[t]?.focus(),z(e[t]))return;t--}}onWrapperArrow(e,t,i){let n=e.target,r=$t({initial:n,root:t,previous:i});r&&r.focus()}get margin(){return this.size()==="l"?24:16}focusMore(){this.moreButton()?.nativeElement.focus()}getMaxIndex(){let{tabs:e,activeItemIndex:t,margin:i}=this;if(e.length<2)return 0;let{exposeActive:n,minMoreWidth:r}=this.options,{clientWidth:l}=this.el,ne=e[t()]?.scrollWidth??0,oe=Math.max(e[e.length-1]?.scrollWidth??0,r),T=e.length-2,U=e.reduce((yt,{scrollWidth:rt})=>yt+rt,0)+T*i-(e[e.length-1]?.scrollWidth??0);if(Number.isNaN(U)||U<=l)return 1/0;for(;T;){U-=(e[T]?.scrollWidth??0)+i,T--;let rt=n&&t()>T?ne+i:0,re=U+rt+oe+i,ae=Ft(this.maxIndex===T-1);if(re+ae<l)return T}return-1}refresh(){if("anchorName"in this.el.style)return;let{offsetLeft:e=0,offsetWidth:t=0}=this.activeElement||{};this.dir()?.nativeElement.style.setProperty("--t-left",W(e)),this.dir()?.nativeElement.style.setProperty("--t-width",W(t))}};R.\u0275fac=function(t){return new(t||R)},R.\u0275cmp=K({type:R,selectors:[["tui-tabs-with-more"]],contentQueries:function(t,i,n){t&1&&Pt(n,i.items,it,4,at),t&2&&pt()},viewQuery:function(t,i){t&1&&(dt(i.moreButton,C,5,y),dt(i.dir,M,5,y)),t&2&&pt(2)},hostVars:1,hostBindings:function(t,i){t&2&&g("data-size",i.size())},inputs:{activeItemIndex:[1,"activeItemIndex"],size:[1,"size"],underline:[1,"underline"],itemsLimit:[1,"itemsLimit"],moreContent:[1,"moreContent"],dropdownContent:[1,"dropdownContent"]},outputs:{activeItemIndex:"activeItemIndexChange"},features:[Y(ie)],ngContentSelectors:ue,decls:8,vars:4,consts:[["dropdown",""],["element",""],[1,"t-tabs",3,"activeItemIndexChange","keydown.arrowRight","size","underline","activeItemIndex"],["tuiTab","","type","button",1,"t-more",3,"_active","t-no-margin","t-overflown","tabIndex","tuiDropdown","tuiDropdownOpen"],["tuiChevron","","tuiTab","","type","button",1,"t-more",3,"_active","t-no-margin","t-overflown","tabIndex","tuiDropdown","tuiDropdownOpen"],[3,"ngTemplateOutlet"],[1,"t-flex",3,"t-overflown"],[1,"t-flex"],["tuiTab","","type","button",1,"t-more",3,"tuiDropdownOpenChange","keydown.arrowLeft.prevent","tabIndex","tuiDropdown","tuiDropdownOpen"],[4,"polymorpheusOutlet"],["tuiChevron","","tuiTab","","type","button",1,"t-more",3,"tuiDropdownOpenChange","keydown.arrowLeft.prevent","tabIndex","tuiDropdown","tuiDropdownOpen"],[1,"t-dropdown",3,"keydown.arrowDown.prevent","keydown.arrowUp.prevent"],[1,"t-dropdown-item"],[1,"t-dropdown-item",3,"tui-tab-activate"]],template:function(t,i){if(t&1){let n=O();Vt(),x(0,"tui-tabs",2),X("activeItemIndexChange",function(l){return p(n),J(i.activeItemIndex,l)||(i.activeItemIndex=l),m(l)}),u("keydown.arrowRight",function(l){return p(n),m(i.onArrowRight(l))}),ct(1,me,2,1,null,null,lt),I(),k(3,be,2,10,"button",3)(4,ve,2,10,"button",4)(5,we,4,1,"ng-template",null,0,St),Lt(7)}t&2&&(v("size",i.size())("underline",i.underline()),G("activeItemIndex",i.activeItemIndex),f(),ut(i.items()),f(2),q(i.moreContent()?3:4))},dependencies:[Bt,Zt,Yt,Jt,Xt,C,M],styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-shrink:0;font:var(--tui-typography-body-m);box-sizing:border-box;color:var(--tui-text-secondary);box-shadow:inset 0 -1px var(--tui-border-normal);overflow:hidden}[data-size=m][_nghost-%COMP%]{font:var(--tui-typography-body-s)}.t-tabs[_ngcontent-%COMP%]{block-size:inherit;font:inherit;overflow:visible;box-shadow:none;color:inherit}.t-flex[_ngcontent-%COMP%]{display:flex}.t-overflown[_ngcontent-%COMP%]{margin:0;inline-size:0;max-inline-size:0;overflow:hidden;visibility:hidden}.t-icon[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;margin-inline-end:-.25rem;vertical-align:bottom}.t-icon_rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.t-dropdown[_ngcontent-%COMP%]{padding:.25rem 0}.t-dropdown[_ngcontent-%COMP%]     *[tuiTab]{inline-size:calc(100% - .75rem);block-size:2.75rem;justify-content:flex-start;margin:.125rem .375rem;padding:0 .625rem;line-height:1.5rem;border-radius:var(--tui-radius-s);font:var(--tui-typography-body-m);color:var(--tui-text-primary)}.t-dropdown[_ngcontent-%COMP%]     *[tuiTab]:before{display:none}.t-dropdown[_ngcontent-%COMP%]     *[tuiTab]:hover, .t-dropdown[_ngcontent-%COMP%]     *[tuiTab]:focus, .t-dropdown[_ngcontent-%COMP%]     *[tuiTab]._active{box-shadow:none;outline:none;background:var(--tui-background-neutral-1)}.t-dropdown[data-size=m][_ngcontent-%COMP%]     *[tuiTab]{block-size:2.25rem;font:var(--tui-typography-body-s)}.t-dropdown-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.t-no-margin[_ngcontent-%COMP%]{margin-inline-start:0}"],changeDetection:0});var wt=R;export{C as a,Ve as b,M as c,_t as d,wt as e};
