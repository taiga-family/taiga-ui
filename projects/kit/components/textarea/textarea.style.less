@import '@taiga-ui/styles/utils';

@top-m-label: calc(0.5rem + var(--t-height) / 3);
@top-l-label: calc(0.625rem + var(--t-height) / 3);

:host-context(tui-textfield._with-label[data-size='m']._with-label[data-size='m']) {
    border-block-start-width: @top-m-label;
    padding-block: 0;
}

:host-context(tui-textfield._with-label[data-size='l']._with-label[data-size='l']) {
    border-block-start-width: @top-l-label;
    padding-block: 0;
}

:host-context(tui-textfield[data-size='s']) {
    padding-block: 0.5rem 0.25rem;
}

:host-context(tui-textfield[data-size='m']) {
    padding-block: 0.875rem 0.25rem;
}

:host-context(tui-textfield[data-size='l']) {
    padding-block: 1.125rem 0.375rem;
}

:host:host {
    white-space: pre-wrap;
    overflow: auto;
    word-break: break-word;
    border: 0 solid transparent;

    &:not(._mobile) {
        .scrollbar-hidden();
    }
}

.t-scroll {
    position: absolute;
    inset: 0.25rem 0;
    min-block-size: 0;

    ::ng-deep tui-textfield._with-label[data-size='m'] & {
        top: @top-m-label;
    }

    ::ng-deep tui-textfield._with-label[data-size='l'] & {
        top: @top-l-label;
    }
}

.t-ghost {
    position: relative;
    z-index: 1;
    order: 1;
    inline-size: calc(100% - var(--t-start) - var(--t-end) - var(--t-side));
    white-space: pre-wrap;
    word-break: break-word;
    overflow-wrap: break-word;
    padding-inline-start: var(--t-start);
    padding-inline-end: calc(var(--t-end) + var(--t-side));
    pointer-events: none;
    box-sizing: content-box;
    overflow: hidden;
    color: transparent;

    &::after {
        content: ' ';
    }

    ::ng-deep tui-textfield._with-label[data-size='m'] textarea ~ & {
        margin-block-start: -1.375rem;
        padding-block-end: 0.3125rem;
    }

    ::ng-deep tui-textfield._with-label[data-size='l'] textarea ~ & {
        margin-block-start: -1.75rem;
        padding-block-end: 0.5rem;
    }

    ::ng-deep tui-textfield[data-size='s'] textarea ~ & {
        margin-block-start: -1.5rem;
        padding-block-end: 0.5rem;
    }

    ::ng-deep tui-textfield[data-size='m'] textarea ~ & {
        margin-block-start: -2rem;
        padding-block-end: 0.875rem;
    }

    ::ng-deep tui-textfield[data-size='l'] textarea ~ & {
        margin-block-start: -2.5rem;
        padding-block-end: 1rem;
    }
}
