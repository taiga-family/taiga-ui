<div
    automation-id="tui-accordion__item-wrapper"
    class="t-wrapper"
>
    <button
        automation-id="tui-accordion__item-header"
        type="button"
        class="t-header"
        [class.t-header_hoverable]="!disableHover"
        [class.t-header_open]="open"
        [disabled]="disabled"
        (click)="onRowToggle()"
        (keydown.esc)="onItemKeyDownEsc($event)"
    >
        <span
            automation-id="tui-accordion__item-title"
            class="t-title"
        >
            <ng-content />
        </span>
        @if (showArrow) {
            <tui-icon
                class="t-icon"
                [tuiChevron]="open"
            />
        }
    </button>
    <tui-expand
        [async]="async"
        [expanded]="open"
    >
        <ng-template tuiExpandContent>
            @if (lazyContent) {
                <div
                    automation-id="tui-accordion__item-content"
                    class="t-content"
                >
                    <ng-container *polymorpheusOutlet="lazyContent as text">
                        {{ text }}
                    </ng-container>
                </div>
            }
        </ng-template>
        @if (eagerContent) {
            <div class="t-content">
                <ng-content select="[tuiAccordionItemContent]:not(ng-template)" />
            </div>
        }
    </tui-expand>
</div>
