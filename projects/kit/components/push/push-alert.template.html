<div class="t-wrapper">
    @if (!isDirective) {
        <tui-push
            [heading]="context.heading"
            [timestamp]="context.timestamp"
            [type]="context.type"
            (close)="context.$implicit.complete()"
        >
            @if (context.image) {
                <img
                    alt=""
                    [src]="context.image"
                />
            }
            @if (context.icon) {
                <tui-icon
                    [icon]="context.icon"
                    [style.color]="context.iconColor"
                />
            }
            <div
                *polymorpheusOutlet="context.content as text; context: context"
                [innerHTML]="text"
            ></div>
            @if (context.buttons.length > 1) {
                <button
                    tuiButton
                    type="button"
                    (click)="context.$implicit.next(context.buttons[0] || '')"
                >
                    {{ context.buttons[0] }}
                </button>
            }
            @if (context.buttons.length) {
                <button
                    tuiLink
                    type="button"
                    (click)="context.$implicit.next(context.buttons[context.buttons.length - 1] || '')"
                >
                    {{ context.buttons[context.buttons.length - 1] }}
                </button>
            }
        </tui-push>
    } @else {
        <ng-container *polymorpheusOutlet="context.content" />
    }
</div>
