@import '@taiga-ui/styles/utils.less';

/**
 * @name Floating
 * @selector [tuiFloatingContainer]
 *
 * @description
 * Container for creating sticky footers
 *
 * @example
 * <footer tuiFloatingContainer>
 *   <button
        type="button"
        tuiButton
    >
        Close
    </button>
 * </footer>
 *
 * @see-also
 * Block, SheetDialog
 */
[tuiFloatingContainer] {
    .transition(bottom);

    position: sticky;
    bottom: calc(100 * var(--tui-viewport-vh) - var(--tui-viewport-height) - var(--tui-viewport-y));
    z-index: 1;
    display: grid;
    margin-block-start: 1rem;
    padding-block-end: ~'max(1rem, env(safe-area-inset-bottom))';
    text-align: center;
    font: var(--tui-typography-ui-s);
    color: var(--tui-text-secondary);

    &.tui-enter,
    &.tui-leave {
        animation-name: tuiSlide;
    }

    > * {
        grid-area: 2 / 1;

        &:first-child {
            grid-row: 1;
            margin-block-end: 0.5rem;
        }
    }

    &::before {
        .fullsize(absolute, inset);
        .transition(background);

        content: '';
        position: absolute;
        left: -1rem;
        right: -1rem;
        z-index: -1;
        background: var(--t-background, var(--tui-background-elevation-1));
        mask-image: linear-gradient(180deg, transparent, black 2.5rem);
    }
}

tui-sheet-dialog [tuiFloatingContainer] {
    margin-block-end: ~'calc(-1* max(1.5rem, env(safe-area-inset-bottom)))';
}
