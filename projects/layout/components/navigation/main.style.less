@import '@taiga-ui/styles/utils';

main[tuiNavigationMain] {
    .transition(max-width);

    position: relative;
    display: grid;
    grid-template-columns: repeat(12, minmax(0, 8.5625rem));
    align-items: start;
    gap: 0 1rem;
    place-content: start center;
    flex: 1;
    border: 1.5rem solid transparent;
    border-block-start: 0;
    isolation: isolate;
    box-sizing: border-box;

    > * {
        grid-column: span 12;
        max-inline-size: 100%;
    }

    // @deprecated from here
    > nav[tuiNavigationNav]:not(:first-child) {
        border-image: conic-gradient(var(--tui-background-base) 0 0) fill 0/0/0 100vw;
        box-shadow: inset 0 -1px var(--tui-border-normal);
    }

    > [tuiHeader] {
        margin: 1rem 0 0.5rem;

        &[tuiCardLarge] {
            flex-direction: column;
            gap: 1rem;

            > :last-child:not([tuiTitle]) {
                margin-block-end: 0.25rem;
            }
        }

        &:not([tuiCardLarge]) {
            [tuiTitle] {
                max-inline-size: 42rem;
                margin-inline-end: auto;
                white-space: nowrap;
                gap: 0.375rem;
                overflow: hidden;
            }

            [tuiSubtitle] {
                /* stylelint-disable-next-line */
                display: -webkit-box;
                -webkit-box-orient: block-axis;
                -webkit-line-clamp: 2;
                white-space: normal;
                word-break: break-word;
                font: var(--tui-typography-body-s);
                overflow: hidden;
            }
        }

        [tuiCaption] {
            .scrollbar-hidden();

            display: flex;
            gap: 1rem;
            color: var(--tui-text-tertiary);
            font: var(--tui-typography-body-s);
            white-space: nowrap;
            text-transform: none;
            overflow: auto;

            tui-icon {
                font-size: 1rem;
                margin: 0.125rem 0;
                color: var(--tui-text-secondary);
            }
        }

        [tuiAccessories] {
            margin-inline-start: 3rem;
            gap: 0.5rem !important;
        }
    }

    > a:first-child,
    > button:first-child,
    > tui-breadcrumbs:first-child {
        block-size: 1.25rem;
        padding: 0;
        margin-block-start: 0.875rem;
        justify-self: flex-start;
    }
}
