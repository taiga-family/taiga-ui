<label>
    Type a name:

    <tui-combo-box
        *tuiLet="service.request(search) | async as filtered"
        [formControl]="control"
        [tuiTextfieldLabelOutside]="true"
        [valueContent]="value"
        [(search)]="search"
    >
        Find the best employees
        <input
            placeholder="Type a name"
            tuiTextfieldLegacy
        />
        <ng-template
            #value
            let-item
        >
            <div
                size="xs"
                class="avatar"
                [tuiAvatar]="item.avatarUrl"
            >
                {{ item.toString() | tuiInitials }}
            </div>
            <span class="name">{{ item }}</span>
        </ng-template>
        <ng-template tuiDataList>
            @if (filtered) {
                <tui-data-list>
                    @for (item of filtered; track item) {
                        <button
                            tuiOption
                            type="button"
                            [disabled]="item.disabled"
                            [value]="item"
                        >
                            <div
                                size="xs"
                                class="avatar"
                                [tuiAvatar]="item.avatarUrl"
                            >
                                {{ item.toString() | tuiInitials }}
                            </div>
                            <span class="name">{{ item }}</span>
                        </button>
                    }
                </tui-data-list>
            } @else {
                <tui-loader class="tui-space_vertical-4" />
            }
        </ng-template>
    </tui-combo-box>
</label>
