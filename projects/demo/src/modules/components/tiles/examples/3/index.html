<tui-tiles
    class="tiles"
    [debounce]="500"
    [(order)]="order"
>
    <ng-container *ngFor="let item of items; let i = index">
        <tui-tile
            class="tile"
            [style.order]="order.get(i)"
        >
            <div class="content">
                <tui-icon
                    icon="@tui.grip-vertical"
                    tuiTileHandle
                    class="handle"
                />
                <strong>{{ item.content }}</strong>
                <p>Order - {{ order.get(i) ?? i }}</p>
                <tui-tiles
                    class="nested"
                    [(order)]="item.order"
                >
                    <ng-container *ngFor="let child of items; let j = index">
                        <tui-tile
                            tuiTileHandle
                            class="tile"
                            [style.order]="item.order.get(j)"
                        >
                            <div class="content">
                                {{ child.content }}
                            </div>
                        </tui-tile>
                    </ng-container>
                </tui-tiles>
            </div>
        </tui-tile>
    </ng-container>
</tui-tiles>
