<button
    tuiButton
    type="button"
    (click)="onClick()"
>
    Show dialog
</button>
<ng-template let-observer>
    <tui-app-bar tuiAppBarSize>
        <button
            *ngIf="step > 1"
            tuiButton
            tuiSlot="left"
            type="button"
            (click)="onStep(-1)"
        >
            Back
        </button>
        <progress
            size="s"
            tuiProgressBar
            [max]="3"
            [style.width.rem]="10"
            [value]="step"
        ></progress>
        <button
            tuiButton
            tuiSlot="right"
            type="button"
            (click)="observer.complete()"
        >
            Close
        </button>
    </tui-app-bar>
    <section
        [ngSwitch]="step"
        [tuiSlides]="direction"
    >
        <div *ngSwitchCase="1">
            <header>Welcome to the slides demo</header>
            <p>
                These wrapping components will be animated upon navigating this modal dialog. This works well on both
                desktop and mobile. In your own layouts watch out for unwanted scrollbars.
            </p>
        </div>
        <div *ngSwitchCase="2">
            <header>Header is optional</header>
            <section [style.margin]="'0 -1rem'">
                <div
                    *tuiRepeatTimes="let _ of 5"
                    tuiCell
                >
                    <tui-avatar
                        appearance="primary"
                        src="@tui.star"
                    />
                    <div tuiTitle>
                        Title
                        <div tuiSubtitle>Description</div>
                    </div>
                </div>
            </section>
        </div>
        <div
            *ngSwitchCase="3"
            tuiAppearance="floating"
            tuiCardLarge
        >
            <header tuiHeader>
                <h1 tuiTitle>
                    Title
                    <span tuiSubtitle>Subtitle</span>
                </h1>

                <aside tuiAccessories>
                    <tui-avatar
                        appearance="primary"
                        src="@tui.star"
                    />
                </aside>
            </header>

            <footer>
                <button
                    appearance="secondary"
                    size="m"
                    tuiButton
                    type="button"
                >
                    Label
                </button>
            </footer>
        </div>
    </section>
    <footer
        tuiFloatingContainer
        [style.margin-block-start]="'auto'"
    >
        <button
            tuiButton
            type="button"
            (click)="step < 3 ? onStep(1) : observer.complete()"
        >
            {{ step < 3 ? 'Next' : 'OK' }}
        </button>
    </footer>
</ng-template>
