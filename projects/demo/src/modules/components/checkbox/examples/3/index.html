<ng-container *ngIf="currentQuestion < 2; else result">
    <p>{{ currentQuestion + 1 }}. {{ questionTitles[currentQuestion] }}</p>

    <form [formGroup]="form">
        <label *ngFor="let option of questions[currentQuestion]; let index = index">
            <input
                size="s"
                tuiCheckbox
                type="checkbox"
                [formControlName]="index"
            />
            {{ option }}
        </label>
    </form>

    <button
        size="s"
        tuiButton
        type="button"
        class="tui-space_top-4"
        (click)="nextQuestion()"
    >
        Next
    </button>
</ng-container>

<ng-template #result>
    <p><b>Your answers</b></p>

    <div
        *ngFor="let options of results; let i = index"
        class="tui-space_top-4"
    >
        <p>{{ i + 1 }}. {{ questionTitles[i] }}</p>

        <label *ngFor="let question of questions[i]; let j = index">
            <input
                size="s"
                tuiCheckbox
                type="checkbox"
                [checked]="options[j]"
            />
            {{ question }}
        </label>
    </div>
</ng-template>
