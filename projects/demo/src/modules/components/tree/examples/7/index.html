<tui-tree
    [childrenHandler]="childrenHandler"
    [content]="content"
    [map]="map"
    [tuiTreeController]="false"
    [value]="service.data$ | async"
    (toggled)="onToggled($event)"
/>

<ng-template
    #content
    let-item
>
    <tui-loader
        *ngIf="item === loading; else text"
        class="loader"
    />
    <ng-template #text>{{ item?.text }}</ng-template>
</ng-template>

<p>
    <button
        size="s"
        style="margin-right: 0.5rem"
        tuiButton
        type="button"
        (click)="reset()"
    >
        Reset
    </button>

    <button
        size="s"
        tuiButton
        type="button"
        (click)="loadNewData()"
    >
        Load New Data
    </button>
</p>
