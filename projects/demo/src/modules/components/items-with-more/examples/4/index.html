<tui-items-with-more
    class="container"
    [class.container_expanded]="linesLimit === 100"
    [linesLimit]="linesLimit"
    (lastIndexChange)="lastIndex = $event"
>
    @for (item of items; track item) {
        <tui-chip
            *tuiItem
            appearance="neutral"
            size="s"
            class="item"
            [class.item_visible]="$index <= lastIndex"
        >
            {{ item }} item
        </tui-chip>
    }

    <ng-template
        let-index
        tuiMore
    >
        <button
            appearance="neutral"
            iconEnd="@tui.chevron-down"
            size="s"
            tuiChip
            type="button"
            class="more"
            (click)="linesLimit = 100"
        >
            More {{ getRemaining(index) }}
        </button>
    </ng-template>
</tui-items-with-more>
