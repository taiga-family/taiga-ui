<tui-doc-page
    header="Alert"
    package="CORE"
    path="core/components/alert/alert.service.ts"
>
    <ng-template pageTab>
        <p>Built-in implementation of notifications</p>

        <p>
            Position on screen can be configured by providing margins with
            <code>TUI_ALERT_POSITION</code>
            token. Default value is
            <code>2rem 3rem 0 auto</code>
            .
        </p>

        <tui-doc-example
            id="text"
            heading="Text"
            [content]="example1"
        >
            <tui-alerts-example-1></tui-alerts-example-1>
        </tui-doc-example>

        <tui-doc-example
            id="template"
            heading="Template"
            [content]="example2"
        >
            <tui-alerts-example-2></tui-alerts-example-2>
        </tui-doc-example>

        <tui-doc-example
            id="component"
            heading="Component"
            [content]="example3"
        >
            <tui-alerts-example-3></tui-alerts-example-3>
        </tui-doc-example>

        <tui-doc-example
            id="data"
            heading="Component with data"
            [content]="example4"
        >
            <tui-alerts-example-4></tui-alerts-example-4>
        </tui-doc-example>

        <tui-doc-example
            id="label"
            heading="Component with custom label"
            [content]="example5"
        >
            <tui-alerts-example-5></tui-alerts-example-5>
        </tui-doc-example>

        <tui-doc-example
            id="directive"
            heading="Directive"
            [content]="example6"
        >
            <tui-alerts-example-6></tui-alerts-example-6>
        </tui-doc-example>
    </ng-template>

    <ng-template pageTab>
        <tui-doc-demo>
            <button
                size="m"
                tuiButton
                type="button"
                (click)="showNotification()"
            >
                Show
            </button>
        </tui-doc-demo>
        <tui-doc-documentation>
            <ng-template
                documentationPropertyName="content"
                documentationPropertyType="PolymorpheusContent"
                [documentationPropertyValues]="contentVariants"
                [(documentationPropertyValue)]="content"
            >
                Content
            </ng-template>
            <ng-template
                documentationPropertyName="status"
                documentationPropertyType="TuiNotification"
                [documentationPropertyValues]="statusVariants"
                [(documentationPropertyValue)]="status"
            >
                Status
            </ng-template>
            <ng-template
                documentationPropertyName="label"
                documentationPropertyType="string"
                [(documentationPropertyValue)]="label"
            >
                Heading
            </ng-template>
            <ng-template
                documentationPropertyName="data"
                documentationPropertyType="number"
                [(documentationPropertyValue)]="data"
            >
                Input data of notification, type:
                <code tuiText="<I>"></code>
            </ng-template>
            <ng-template
                documentationPropertyName="autoClose"
                documentationPropertyType="TuiHandler | number"
                [documentationPropertyValues]="autoCloseVariants"
                [(documentationPropertyValue)]="autoClose"
            >
                Auto close timeout, 0 for no auto close
            </ng-template>
            <ng-template
                documentationPropertyName="closeable"
                documentationPropertyType="boolean"
                [(documentationPropertyValue)]="closeable"
            >
                Has close button
            </ng-template>
            <ng-template
                documentationPropertyName="icon"
                documentationPropertyType="PolymorpheusContent"
                [documentationPropertyValues]="iconVariants"
                [(documentationPropertyValue)]="icon"
            >
                Icon
            </ng-template>
        </tui-doc-documentation>
    </ng-template>
    <ng-template pageTab>
        <ol class="b-demo-steps">
            <li>
                <p>
                    Use service
                    <code>open</code>
                    method and subscribe to
                    <code>Observable</code>
                </p>

                <tui-doc-code
                    filename="my.component.ts"
                    [code]="exampleServiceUsage"
                ></tui-doc-code>
            </li>

            <li>
                To pass notification with custom content, you can use
                <a
                    fragment="example-template"
                    routerLink="/components/alert"
                    tuiLink
                >
                    <code>your template</code>
                </a>
                .
            </li>

            <li>
                <p>
                    You can also customize notification logic with a component. Inject
                    <code>POLYMORPHEUS_CONTEXT</code>
                    into the component to get context input data and to output results. It has the following interface:
                    <code tuiText="TuiPopover<TuiAlertOptions<I>, O>"></code>
                    , where
                    <code>O</code>
                    is output data type and
                    <code>I</code>
                    is input data type.
                </p>
            </li>

            <li>
                <p>
                    Use
                    <code>new PolymorpheusComponent(CustomNotificationComponent)</code>
                    to show notification component with a service:
                </p>

                <tui-doc-code
                    filename="my.component.ts"
                    [code]="exampleServiceUsageComponent"
                ></tui-doc-code>
            </li>

            <li>
                <p>
                    Use
                    <code>completeWith</code>
                    method to control notification from itself:
                </p>

                <tui-doc-code
                    filename="customNotification.component.ts"
                    [code]="exampleCustomAlert"
                ></tui-doc-code>
            </li>

            <li>
                <p>
                    If you use it from lazy loading modules, and want to reach for some local providers, you can pass
                    <code>Injector</code>
                    into
                    <code>new PolymorpheusComponent</code>
                    of your alert component.
                </p>

                <tui-doc-code
                    filename="customNotification.component.ts"
                    [code]="exampleLazyModule"
                ></tui-doc-code>
            </li>

            <li>
                <p>
                    You can customize default alert options by providing
                    <code>TUI_ALERT_OPTIONS</code>
                    injection token globally across your app.
                </p>

                <tui-doc-code
                    filename="app.module.ts"
                    [code]="exampleOptions"
                ></tui-doc-code>
            </li>
        </ol>
    </ng-template>
</tui-doc-page>
