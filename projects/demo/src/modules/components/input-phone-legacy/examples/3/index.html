<tui-input-phone
    *tuiLet="items$ | async as items"
    [allowText]="true"
    [tuiTextfieldCustomContent]="avatar"
    [(ngModel)]="value"
    (searchChange)="onSearch($event)"
>
    {{ placeholder$ | async }}
    @if (items?.length) {
        <tui-data-list *tuiDataList>
            @for (item of items; track item) {
                <button
                    tuiOption
                    type="button"
                    [disabled]="item.disabled"
                    [value]="item.phone"
                    (click)="onClick(item)"
                >
                    <span
                        size="s"
                        class="tui-space_right-3"
                        [tuiAvatar]="item.avatarUrl"
                    >
                        {{ item.firstName }}
                    </span>
                    <span class="user">
                        <span>{{ item.firstName }} {{ item.lastName }}</span>
                        <span class="phone">{{ item.phone }}</span>
                    </span>
                </button>
            }
        </tui-data-list>
    }
</tui-input-phone>
<ng-template #avatar>
    @if (user$ | async; as user) {
        <div
            size="s"
            [tuiAvatar]="user.avatarUrl"
        >
            {{ user.firstName }}
        </div>
    }
</ng-template>
<p>Value: {{ value }}</p>
