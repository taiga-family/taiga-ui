:host {
    position: relative;
    box-sizing: border-box;
    font: var(--tui-font-text-m);
    background: var(--tui-background-elevation-1);
    box-shadow: var(--tui-shadow-popup);

    // TODO: Disable encapsulation in v5
    &[data-appearance~='taiga'] {
        max-inline-size: calc(100vw - 5rem);
        margin: 2.5rem;
        padding: 1.75rem;
        border-radius: 1.5rem;

        --tui-from: translateY(2.5rem);

        &.tui-enter,
        &.tui-leave {
            animation-name: tuiFade, tuiSlide;
        }

        &[data-size='s'] {
            inline-size: 25rem;
            padding: 1.5rem;

            ::ng-deep > header,
            ::ng-deep > ng-component > header {
                font: var(--tui-font-heading-5);
                margin-block-end: 1.25rem;
            }

            ::ng-deep > p,
            ::ng-deep > ng-component > p,
            /** TODO remove tui-confirm in v5 */
            ::ng-deep > tui-confirm > p {
                margin: -0.75rem 0 1.25rem;
            }

            ::ng-deep > footer,
            ::ng-deep > ng-component > footer,
            /** TODO remove tui-confirm in v5 */
            ::ng-deep > tui-confirm > footer {
                margin-block-start: 1.25rem;
            }
        }

        &[data-size='m'] {
            inline-size: 37.5rem;
        }

        &[data-size='l'] {
            inline-size: 50rem;
        }

        ::ng-deep > header,
        ::ng-deep > ng-component > header {
            margin-block-end: 1.5rem;
            overflow-wrap: break-word;
            font: var(--tui-font-heading-4);

            &:empty {
                display: none;
            }
        }

        ::ng-deep > p,
        ::ng-deep > ng-component > p,
        /** TODO remove tui-confirm in v5 */
        ::ng-deep > tui-confirm > p {
            margin: -1rem 0 1.5rem;

            &:last-child {
                margin-block-end: 0;
            }
        }

        ::ng-deep > footer,
        ::ng-deep > ng-component > footer,
        /** TODO remove tui-confirm in v5 */
        ::ng-deep > tui-confirm > footer {
            display: flex;
            justify-content: flex-end;
            flex-wrap: wrap-reverse;
            gap: 0.75rem;
            margin-block-start: 2rem;
        }
    }

    &._closable ::ng-deep > header,
    &._closable ::ng-deep > ng-component > header {
        padding-inline-end: 2rem;
    }
}

:host-context(tui-root._mobile)[data-appearance~='taiga'] {
    ::ng-deep > footer > button,
    ::ng-deep > ng-component > footer > button,
        /** TODO remove tui-confirm in v5 */
    ::ng-deep > tui-confirm > footer > button {
        flex: 1;
        overflow: visible;
    }
}

.t-close {
    position: absolute;
    top: 1rem;
    inset-inline-end: 1rem;
}
