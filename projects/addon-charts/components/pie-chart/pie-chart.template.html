<svg
    focusable="false"
    height="100%"
    viewBox="-100 -100 200 200"
    width="100%"
    xmlns="http://www.w3.org/2000/svg"
    class="t-svg"
>
    <defs>
        <mask [attr.id]="maskId">
            <rect
                fill="white"
                height="400"
                width="400"
                x="-200"
                y="-200"
            />
            <circle
                cx="0"
                cy="0"
                [attr.r]="radius"
            />
        </mask>
    </defs>
    <g [style.mask]="mask">
        <circle
            cx="0"
            cy="0"
            r="100"
            class="t-placeholder"
        />
        <path
            *tuiRepeatTimes="let index of segments.length"
            automation-id="tui-pie-chart__segment"
            d=""
            fill="currentColor"
            tuiHintPointer
            class="t-segment"
            [attr.transform]="getTransform(index)"
            [style.color]="`var(--tui-chart-categorical-${index.toString().padStart(2, '0')})`"
            [tuiHint]="hintContent"
            [tuiHintContext]="{$implicit: index}"
            [tuiPieChart]="segments[index] || [0, 0]"
            (tuiHoveredChange)="onHovered($event, index)"
        />
    </g>
</svg>
