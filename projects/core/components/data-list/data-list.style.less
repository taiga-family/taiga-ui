@import '@taiga-ui/styles/utils';

tui-data-list {
    display: flex;
    flex-direction: column;
    padding: 0.25rem;

    &:focus-within [tuiOption]._with-dropdown:not(:focus) {
        background: transparent;
    }

    &[data-size='s'] [tuiOption] {
        min-block-size: 0;
        font: var(--tui-typography-ui-s);
        padding: 0.375rem;

        &::before,
        &::after {
            font-size: 1rem;
        }
    }

    &[data-size='m'] [tuiOption] {
        min-block-size: 2.25rem;
        font: var(--tui-typography-ui-s);
        padding: 0.5rem 0.375rem;
    }

    &[data-size='l'] {
        gap: 0.125rem;
        padding: 0.5rem;

        [tuiOption] {
            font: var(--tui-typography-ui-m);
            padding-inline: 0.5rem;
        }

        hr {
            block-size: 1rem;
            border-inline-width: 0.5rem;
        }
    }

    [tuiOption] {
        .transition(background);

        box-sizing: border-box;
        border-radius: var(--tui-radius-s);
        outline: none !important;
        cursor: pointer;
        word-break: break-word;

        &:disabled {
            opacity: var(--tui-disabled-opacity);
            cursor: default;
        }

        @media @tui-mouse {
            &:hover:not(:disabled) {
                background: var(--tui-background-neutral-1);
            }
        }

        &:active:not(:disabled),
        &:focus-within,
        &._with-dropdown {
            background: var(--tui-background-neutral-1);
        }

        &::after {
            margin-inline-start: auto;
        }
    }

    > .t-empty {
        pointer-events: none;
        color: var(--tui-text-tertiary);
    }

    hr {
        position: relative;
        margin: 0;
        block-size: 0.75rem;
        border: 0.375rem solid transparent;
        border-block: 0;

        & + hr,
        &:first-child,
        &:last-child {
            display: none;
        }

        &::before {
            .center-all();

            content: '';
            block-size: 1px;
            inline-size: 100%;
            background: var(--tui-border-normal);
        }
    }
}

tui-opt-group {
    position: relative;
    display: flex;
    font-weight: bold !important;
    gap: inherit;
    color: var(--tui-text-primary);
    flex-direction: column;

    tui-data-list[data-size='s'] & {
        font: var(--tui-typography-body-s);

        &::before {
            padding: 0.1875rem 0.375rem;
        }
    }

    tui-data-list[data-size='m'] & {
        font: var(--tui-typography-ui-m);

        &::before {
            padding: 0.375rem;
        }
    }

    tui-data-list[data-size='l'] & {
        font: var(--tui-typography-ui-l);

        &::before {
            padding: 0.5rem;
        }
    }

    &:empty::before,
    &[data-label='']::before {
        display: none;
    }

    &::before {
        content: attr(data-label);
        word-break: break-word;

        tui-sheet-dialog & {
            font: var(--tui-typography-heading-h6);
            padding: 0.5rem 0 !important;
        }
    }
}
