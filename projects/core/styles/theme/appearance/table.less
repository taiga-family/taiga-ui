@import '@taiga-ui/core/styles/taiga-ui-local.less';

[tuiAppearance][data-appearance='table'] {
    block-size: auto;
    border-radius: 0 !important;
    background: transparent;
    color: var(--tui-text-primary);
    border: none;
    outline: none;
    border-block-end: calc(var(--t-row-height) - var(--t-height)) solid transparent;

    &:is(tui-textfield[multi]),
    &:is(tui-input-card-group) {
        min-block-size: 100%;
        border-block-end: 0;
    }

    &:is(textarea) {
        block-size: 100%;
        border-block-end: 0;
    }

    &::before,
    &::after {
        color: var(--tui-text-tertiary);
    }

    &:not([data-mode~='readonly']) {
        .appearance-hover({
            &[data-focus='false'] {
                background-color: var(--tui-background-neutral-1);
            }

            &::before,
            &::after {
                color: var(--tui-text-secondary);
            }
        });
    }

    .appearance-focus({
        outline-offset: -1px;
        outline: 0.125rem solid var(--tui-border-focus);
    });

    .appearance-invalid({
        background:
            linear-gradient(to top right, transparent 0% 50%, var(--tui-status-negative) 50% 100%)
            top right / 0.5rem 0.5rem
            no-repeat
            border-box;

        &[data-focus='false'] {
            background-color: var(--tui-status-negative-pale);
        }

        .appearance-hover({
            &[data-focus='false'] {
                background-color: var(--tui-status-negative-pale-hover);
            }
        });

        .appearance-disabled({
            background: transparent;
            outline: none;
        });

        .appearance-focus({
            background-color: transparent;
            outline-offset: 0;
            outline: 0.0625rem solid var(--tui-status-negative);
        });
    });
}
