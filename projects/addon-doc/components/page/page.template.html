<header class="t-header">
    @if (header) {
        <h1 class="t-title">
            {{ header }}
            @if (!!deprecated || deprecated === '') {
                <tui-chip
                    appearance="custom"
                    size="xs"
                    class="t-tag t-tag_deprecated"
                >
                    deprecated
                </tui-chip>
            }
            @if (package) {
                <tui-chip
                    appearance="custom"
                    size="xs"
                    class="t-tag t-tag_package"
                    [style.background]="package | tuiAutoColor"
                >
                    {{ package }}
                </tui-chip>
            }
            @for (tag of tags; track tag) {
                <tui-chip
                    appearance="custom"
                    size="xs"
                    class="t-tag t-tag_package"
                    [style.background]="tag | tuiAutoColor"
                >
                    {{ tag }}
                </tui-chip>
            }
        </h1>
    }
    @if (tabConnectors.length) {
        <tui-tabs-with-more
            class="t-tabs"
            [(activeItemIndex)]="activeItemIndex"
        >
            @for (tab of tabConnectors; track tab) {
                @if (tab.pageTab || defaultTabs[$index]; as tabName) {
                    <a
                        *tuiItem
                        routerLinkActive
                        tuiTab
                        [routerLink]="$first ? './' : (tabName | tuiReplace: from : to)"
                        [routerLinkActiveOptions]="{exact: $first}"
                    >
                        {{ tabName }}
                    </a>
                }
            }
            @for (tab of tabs | keyvalue; track tab) {
                <a
                    *tuiItem
                    routerLinkActive
                    tuiTab
                    [routerLink]="tab.key"
                >
                    {{ tab.key }}
                </a>
            }
        </tui-tabs-with-more>
    }

    @if (package || path || type) {
        <div class="t-right-side">
            <tui-doc-source-code
                class="t-source-code"
                [header]="header"
                [package]="package"
                [path]="path"
                [type]="type"
            />
            @if (supportLanguage.has(header)) {
                <tui-doc-language-switcher />
            }
        </div>
    }
</header>
<div class="t-content">
    <ng-content />
    @if (showSeeAlso) {
        <tui-doc-see-also
            class="t-see-also"
            [seeAlso]="seeAlso"
        />
    }
    @for (tab of tabConnectors; track tab) {
        @if ($index === activeItemIndex) {
            <ng-container [ngTemplateOutlet]="tab.template" />
        }
    }
    @for (tab of tabs | keyvalue; track tab) {
        @if ($index + tabConnectors.length === activeItemIndex) {
            <ng-container *polymorpheusOutlet="tab.value as text">{{ text }}</ng-container>
        }
    }
</div>
