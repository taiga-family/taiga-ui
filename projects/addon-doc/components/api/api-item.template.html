<td class="t-td">
    <code
        class="t-name"
        [class.t-name_banana]="name.startsWith('[(')"
        [class.t-name_input]="name.startsWith('[')"
        [class.t-name_output]="name.startsWith('(')"
    >
        {{ name }}
    </code>
    <ng-content />
</td>
<td class="t-td">
    <code class="t-type">
        @for (item of type | tuiDocTypeReference; track item; let last = $last) {
            @if (item.reference) {
                <a
                    target="_blank"
                    class="t-reference"
                    [attr.href]="item.reference"
                >
                    {{ item.type }}
                    @if (icons.externalLink) {
                        <tui-icon
                            [icon]="icons.externalLink"
                            [style.font-size.rem]="1"
                        />
                    }
                </a>
            } @else {
                {{ item.type }}
            }
            @if (!last) {
                <span>&nbsp;|&nbsp;</span>
            }
        }
    </code>
</td>
<td class="t-td">
    @if (items.length) {
        <tui-textfield
            tuiChevron
            tuiTextfieldSize="m"
            class="t-input"
            [content]="content"
            [tuiTextfieldCleaner]="type.includes('null') || type.includes('PolymorpheusContent')"
        >
            <select
                placeholder="null"
                tuiTextfield
                [ngModel]="value ?? null"
                (ngModelChange)="onValueChange($event)"
            ></select>
            <tui-data-list-wrapper
                *tuiTextfieldDropdown
                [itemContent]="content"
                [items]="items"
            />
        </tui-textfield>
    } @else {
        @if (value !== undefined) {
            @switch (type) {
                @case ('boolean') {
                    <input
                        tuiSwitch
                        type="checkbox"
                        [id]="name"
                        [ngModel]="value"
                        (ngModelChange)="onValueChange($event)"
                    />
                }
                @case ('string') {
                    <tui-textfield
                        tuiTextfieldSize="m"
                        class="t-input"
                    >
                        <input
                            tuiTextfield
                            [id]="name"
                            [ngModel]="value || ''"
                            (ngModelChange)="onValueChange($event)"
                        />
                    </tui-textfield>
                }
                @case ('number') {
                    <tui-textfield tuiTextfieldSize="m">
                        <input
                            tuiInputNumber
                            [id]="name"
                            [max]="numberItem?.max ?? null"
                            [min]="numberItem?.min ?? null"
                            [ngModel]="value"
                            [step]="1"
                            (ngModelChange)="onValueChange($event || 0)"
                        />
                    </tui-textfield>
                }
            }
        }
    }
    <ng-template
        #content
        let-data
    >
        <code [style.margin]="0">{{ data | tuiInspectAny }}</code>
    </ng-template>
</td>
