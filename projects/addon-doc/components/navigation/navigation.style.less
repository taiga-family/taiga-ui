@import '@taiga-ui/styles/utils';

:host {
    // fix for Safari to prevent tabs underline above sidebar
    z-index: 1;
    display: flex;
    flex-direction: column;
    text-align: center;
    padding: 0 0.25rem;

    --tui-stroke-width: 0.09375rem;
}

.t-input {
    margin: 1.25rem;
}

.t-slash {
    block-size: 1rem;
    font-size: 0.5rem;
}

.t-navigation {
    display: flex;
    flex-wrap: wrap;
    max-block-size: 100%;
    min-block-size: 0;
    flex: 1 1 0;
    text-align: start;

    tui-scrollbar {
        overscroll-behavior: none;
    }
}

:host-context(tui-drawer) {
    margin: -1.25rem -1.5rem;

    // tui-drawer already have tui-scrollbar, need pass navigation scrollbar content to outer layer
    .t-scrollbar {
        display: contents;
    }
}

.t-accordion {
    inline-size: auto;
    margin: 0.5rem 0.375rem 1.5rem;
}

.t-scrollbar {
    scroll-behavior: var(--tui-scroll-behavior);
    inline-size: 100%;
}

.t-label {
    margin-inline-start: 1.1875rem;
    font-weight: bold;
}

.t-expand {
    margin-inline-start: 0.25rem;
    padding-block: 0;
}

.t-section {
    display: flex;
    flex-direction: column;
    align-items: flex-start;

    &_nested {
        margin: 0 0.75rem;
        clip-path: inset(0.5rem 0);
    }
}

.t-prevent-ios-scroll {
    .tui-prevent-ios-scroll();
}

.t-subsection {
    margin-inline-start: 0.625rem;
}

.t-sublink {
    display: inline-flex;
    align-items: center;
    font: var(--tui-typography-body-s);
    padding-block: 0.5rem;
    padding-inline-start: 0.4375rem;
    text-decoration: none;

    .t-accordion > & {
        block-size: 2.5rem;
        font: var(--tui-typography-body-s);
        font-weight: bold;
        color: var(--tui-text-primary);
        align-items: center;
        padding: 0 1rem;
        margin-inline-start: 1px;

        &::before {
            margin-inline-end: 0.875rem;
        }

        &::after {
            opacity: 0;
        }
    }

    &_small {
        margin-inline-start: 1rem;
        padding-inline: 0;
    }

    &_subsection {
        margin-inline-start: 0 !important;
        text-indent: 1.25rem;

        .t-chevron {
            position: absolute;
        }

        &::before {
            opacity: 0;
        }
    }

    &&&_active {
        // @note: (&&&_) it's increasing css cascade priority
        color: var(--tui-text-primary);
        font-weight: bold;

        &::after {
            position: absolute;
            display: block;
            inset-block: 0.5rem;
            inset-inline-start: -1rem;
            block-size: auto;
            inline-size: 0.1875rem;
            padding: 0;
            margin-inline-start: -1px;
            border-radius: 1rem;
            background: var(--tui-text-primary);
            zoom: 1;
        }
    }

    &:not([data-icon-start]) {
        margin-inline-start: 1.875rem;

        &::before {
            position: absolute;
            top: 0;
            bottom: 0;
            display: block;
            inset-inline-start: -1rem;
            block-size: auto;
            inline-size: 1px;
            padding: 0;
            background: var(--tui-border-normal);
            zoom: 1;
        }
    }
}

.t-chevron {
    .transition(transform);

    font-size: 1rem;
    margin-inline: -0.625rem 0.875rem;

    &_active {
        transform: rotate(90deg);
    }
}

.t-accordion-item {
    block-size: 2.5rem;

    &::before {
        position: relative;
        inset-inline-start: 0.5625rem;
        font-size: 1rem;
    }
}
